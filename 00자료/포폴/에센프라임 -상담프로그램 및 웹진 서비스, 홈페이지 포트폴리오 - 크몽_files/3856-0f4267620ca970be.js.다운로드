"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3856],{53856:function(e,t,r){let n;r.d(t,{VO:function(){return r_},ZP:function(){return rX}});var i=r(1996),o=r(91987),a=r(32386),l=r(58913),c=r(28125),s=r(67960),d=r(93718),u=r(77365),g=r.n(u),p=r(69510),h=r.n(p),f=r(7923),Z=r(61635),v=r(35121),m=r(5351),x=r(27769),y=r(4464),b=r(33441),w=r(79569),k=r.n(w),_=r(28904),C=r(98258);let S={inbox_count:0,order_count:0,kmong_count:0},I=["user","unread-alarms"];var B=function(){let e=(0,C.useQueryClient)(),{data:t}=(0,C.useQuery)(I,async()=>{let t=e.getQueryState(I);if(t&&t.dataUpdateCount>0)return e.getQueryData(I);let{data:r}=await _.userApi.getUnreadAlarms();return r},{initialData:S,refetchOnMount:!0}),r=t&&Object.values(t).reduce((e,t)=>e+t)>0,n=(0,o.useCallback)(t=>{e.setQueryData(I,e=>({...e,[t]:e&&e[t]+1}))},[e]),i=(0,o.useCallback)(t=>{e.setQueryData(I,e=>({...e,[t]:e&&e[t]-1}))},[e]),a=(0,o.useCallback)(t=>{e.setQueryData(I,e=>({...e,[t]:0}))},[e]);return{unreadCount:t,hasNewMessage:r,increaseUnreadNotificationCount:n,decreaseUnreadNotificationCount:i,resetUnreadNotificationCount:a}},z=function(){let{user:e}=(0,d.aF)(),t=(0,d.kq)(),{increaseUnreadNotificationCount:r}=B();(0,o.useEffect)(()=>{if(!t)return;let n=function(){try{var e;let t=new(k())((e="9e5ab64081473b0da968",void 0!==e)?e:"",{cluster:"ap1",authEndpoint:"/api/v4/pusher_auth",forceTLS:!0});return t}catch(r){return(0,b.Tb)(r),null}}();if(!n||!(null==e?void 0:e.user_id_enc))return;let i=n.subscribe("private-notification-".concat(e.user_id_enc));return i.bind("inboxReceived",async()=>{r("inbox_count")}),i.bind("track_receive",async()=>{r("order_count")}),()=>{n.disconnect()}},[e,t,r])},O=r(45731),X=r(68426),N=r(41410),j=r(3067),M=r(9533),P=r(31327);let E=async e=>{let{pageParam:t=1}=e,{data:{dates:r,last_page:n}}=await _.userApi.getUserMessages(t);return{dateGroups:r,lastPage:n}},R=(0,l.Z)("hr",{target:"e16nyl180"})("margin:0 25px;border:0;border-top:1px solid ",s.Z.gray[300],";"),D={primary:"#f26656",success:"#7ed321",customProject:s.Z.skyblue[500],info:"#6fcbca",purple:"#63479c",warning:"#f0ad4e",danger:s.Z.red[400]},A=(0,l.Z)("span",{target:"e16nyl181"})("display:inline;border-radius:10px;padding:1px 7px 2px 7px;font-size:75%;line-height:1;color:",s.Z.white,";text-align:center;white-space:nowrap;vertical-align:baseline;margin-right:10px;background-color:",e=>D[e.type],";"),H=(0,l.Z)("span",{target:"e16nyl182"})("width:4px;height:4px;background-color:",s.Z.red[400],";border-radius:2px;position:absolute;top:16px;left:16px;");var q=function(){let e=(0,p.useRouter)(),{ref:t,inView:r}=(0,N.YD)(),{data:n,error:a,fetchNextPage:l,hasNextPage:c,isFetching:s,isFetchingNextPage:d}=(0,C.useInfiniteQuery)(["inboxList"],E,{getNextPageParam:(e,t)=>e.lastPage===t.length?null:t.length+1});(0,o.useEffect)(()=>{r&&!d&&l()},[r,l,d]);let u=(0,o.useMemo)(()=>n?function(e){let t=[];return e.reduce((e,t,r)=>{if(0===r)return e.set(t.date,t.messages);let n=e.get(t.date);return e.has(t.date)&&n?e.set(t.date,[...n,...t.messages]):e.set(t.date,t.messages)},new Map).forEach((e,r)=>{t.push({date:r,messages:e})}),t}([].concat(...n.pages.map(e=>e.dateGroups))):[],[n]),h=(0,o.useCallback)(()=>{f.eventSender.viewContactList(e.asPath),f.eventSender.clickHeaderContents({contents:"inbox_list"})},[e]),Z=()=>{f.eventSender.clickHeaderContents({contents:"inbox_details"})};return(0,i.BX)(i.HY,{children:[(0,i.BX)(eB,{maxHeight:u.length>0,children:[u.map((e,t)=>(0,i.BX)(o.Fragment,{children:[(0,i.tZ)(ez,{children:e.date}),e.messages.map(e=>(0,i.tZ)(eO,{onClick:Z,children:(0,i.tZ)(g(),{href:e.link,legacyBehavior:!0,children:(0,i.BX)(eX,{unread:e.unread,children:[1===e.unread&&(0,i.tZ)(H,{}),(0,i.tZ)(j.Z,{src:e.user.profilepicture,size:40}),(0,i.BX)(eN,{children:[(0,i.BX)(ej,{css:(0,M.Z)(),children:[e.is_exist_ongoing_orders&&(0,i.tZ)("span",{children:(0,i.tZ)(A,{type:"success",children:"거래중"})}),e.is_custom_project&&(0,i.tZ)("span",{children:(0,i.tZ)(A,{type:"customProject",children:"프로젝트 의뢰"})}),(0,i.tZ)("span",{dangerouslySetInnerHTML:(0,P.N)(e.message)})]}),(0,i.BX)(eM,{css:v.Z.marginTop(1),children:[(0,i.tZ)(eP,{children:e.user.username})," | ",(0,i.tZ)(eE,{children:e.time})]})]})]})})},e.MID)),u.length-1!==t&&(0,i.tZ)(R,{})]},e.date)),!u.length&&!s&&(0,i.tZ)(eD,{}),!s&&c&&(0,i.tZ)(eS,{ref:t}),(s||c)&&(0,i.tZ)(e_,{})]}),!(!n&&!a)&&(0,i.tZ)(g(),{href:"/inboxes?inbox_group_id=&partner_id=",legacyBehavior:!0,children:(0,i.tZ)(eT,{as:"a",href:"/inboxes?inbox_group_id=&partner_id=",onClick:h,children:"받은 메시지 전체 보기"})})]})},T=function(e){let{updateNotificationReadAll:t}=e,[r,n]=(0,o.useState)(!1),{resetUnreadNotificationCount:i}=B(),a=(0,o.useCallback)(e=>()=>{let r=async()=>{n(!0);try{await _.userApi.readAllNotification(e),t(),"KMONG"===e?i("kmong_count"):"ORDER"===e&&i("order_count")}catch(r){(0,b.Tb)(r)}finally{n(!1)}};r()},[t,i]);return{isReadAllProcessing:r,handleClickReadAll:a}},K=r(44034);function L(){var e,t;let r=(e=["\n      transform: translateX(0);\n    "],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return L=function(){return r},r}let Q=e=>"*|".concat(e,"|*"),G=(e,t)=>{let{url:r,text:n,is_external_link:i=!1}=e;return'\n    <a\n      href="'.concat(r,'"\n      data-index="').concat(t,'"\n      ').concat(i?'target="_blank"':"","\n    >\n      ").concat(n,"\n    </a>\n  ").replace(/\s+/g," ")},Y=e=>{let t=e.parameters.filter(e=>{let{name:t,url:r,type:n,text:i}=e;return t&&r&&"LINK"===n&&i});if(!t)return e;let r=e;return t.forEach((t,n)=>{let{name:i,url:o,text:a,is_external_link:l}=t,c=e.message.replace(Q(i),G({url:o,text:a,is_external_link:l},n));r.message=c}),r};var F=function(e){let{id:t,setDetailId:r}=e,[n,a]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let e=async()=>{let{data:e}=await _.default.get("/api/v5/user/notifications/".concat(t));a(Y(e))};t>-1?e():a(null)},[t]),(0,i.BX)(U,{isVisible:t>-1,children:[(0,i.tZ)(V,{children:n&&(0,i.BX)(i.HY,{children:[(0,i.BX)(W,{children:[(0,i.tZ)($,{src:n.image,alt:n.title}),(0,i.BX)(J,{children:[(0,i.tZ)(ee,{children:n.title}),(0,i.tZ)(et,{children:n.created_at})]})]}),(0,i.tZ)(er,{dangerouslySetInnerHTML:(0,P.N)((0,K.h)(n.message))})]})}),(0,i.tZ)(en,{onClick:()=>r(-1),children:"안내목록보기"})]})};let U=(0,l.Z)("div",{target:"efhfi250"})("padding:20px 20px 60px;transition:transform 500ms linear;transform:translateX(500px);",e=>{let{isVisible:t}=e;return t&&(0,a.css)(L())},"  position:absolute;top:0;left:0;background-color:",s.Z.white,";width:100%;height:400px;"),V=(0,l.Z)("section",{target:"efhfi251"})("overflow-y:scroll;height:100%;"),W=(0,l.Z)("section",{target:"efhfi252"})("display:flex;flex-direction:row;align-items:center;margin-bottom:40px;"),J=(0,l.Z)("div",{target:"efhfi253"})("display:flex;flex-direction:column;"),$=(0,l.Z)("img",{target:"efhfi254"})("width:48px;height:48px;margin-right:16px;"),ee=(0,l.Z)("div",{target:"efhfi255"})("font-weight:700;color:",s.Z.gray[800],";"),et=(0,l.Z)("div",{target:"efhfi256"})("font-size:11px;color:",s.Z.gray[500],";"),er=(0,l.Z)("section",{target:"efhfi257"})("font-size:13px;color:",s.Z.gray[800],";"),en=(0,l.Z)("div",{target:"efhfi258"})("padding:12px;border-top:1px solid ",s.Z.gray[300],";background-color:",s.Z.white,";position:absolute;bottom:0;left:0;text-align:center;width:100%;cursor:pointer;&:hover{background-color:",s.Z.gray[200],";}"),ei=async e=>{let{pageParam:t=1}=e,{data:{notifications:r,last_page:n}}=await _.userApi.getUserNotifications({type:"KMONG",page:t});return{notifications:r,lastPage:n}},eo=(0,l.Z)("section",{target:"e4akcvc0"})("position:relative;overflow:hidden;"),ea=(0,l.Z)("div",{target:"e4akcvc1"})("flex-direction:row;line-height:1.3;"),el=(0,l.Z)("img",{target:"e4akcvc2"})("display:block;border-radius:4px;justify-self:flex-start;width:48px;height:48px;");var ec=function(){let{unreadCount:e,decreaseUnreadNotificationCount:t}=B(),{ref:r,inView:n}=(0,N.YD)(),[a,l]=(0,o.useState)(-1),c=(0,C.useQueryClient)(),{data:s,error:d,fetchNextPage:u,hasNextPage:p,isFetching:h,isFetchingNextPage:Z}=(0,C.useInfiniteQuery)(["userNotifications","KMONG"],ei,{getNextPageParam:(e,t)=>e.lastPage===t.length?null:t.length+1}),m=!s&&!d,x=(0,o.useMemo)(()=>s?[].concat(...s.pages.map(e=>e.notifications)):[],[s]),y=()=>{c.setQueryData(["userNotifications","KMONG"],e=>e&&{pages:e.pages.map(e=>({...e,notifications:e.notifications.map(e=>"NOTIFICATION"===e.theme&&e.unread?{...e,unread:0}:e)})),pageParams:e.pageParams})},{isReadAllProcessing:b,handleClickReadAll:w}=T({updateNotificationReadAll:y});(0,o.useEffect)(()=>{n&&!Z&&u()},[n,u,Z]);let k=(0,o.useCallback)(e=>()=>{e.unread&&(_.userApi.readNotification(e.id),t("kmong_count"),c.setQueryData(["userNotifications","KMONG"],t=>t&&{pages:t.pages.map(t=>({...t,notifications:t.notifications.map(t=>"NOTIFICATION"===t.theme&&e.id===t.id?{...t,unread:0}:t)})),pageParams:t.pageParams})),e.link?window.location.href=e.link:l(e.id),f.eventSender.clickHeaderContents({contents:"kmong_notifications"})},[c,t]);return(0,i.BX)(i.HY,{children:[(0,i.BX)(eo,{children:[(0,i.BX)(eB,{maxHeight:x.length>0,children:[!m&&(0,i.tZ)(eH,{}),x.map((e,t)=>(0,i.tZ)(o.Fragment,{children:"DATE"===e.theme?(0,i.tZ)(ez,{children:e.message}):(0,i.tZ)(eO,{onClick:k(e),children:(0,i.tZ)(g(),{href:e.link,legacyBehavior:!0,children:(0,i.BX)(eX,{unread:e.unread,children:[(0,i.tZ)(el,{src:e.image,alt:"kmong-image"}),(0,i.BX)(eN,{children:[(0,i.tZ)(ea,{css:(0,M.Z)(),children:(0,i.tZ)(ej,{dangerouslySetInnerHTML:(0,P.N)(e.message)})}),(0,i.tZ)(eM,{css:v.Z.marginTop(1),children:(0,i.tZ)(eE,{children:e.time})})]})]})})})},t)),!x.length&&!h&&(0,i.tZ)(eR,{}),!h&&p&&(0,i.tZ)(eS,{ref:r}),(h||p)&&(0,i.tZ)(e_,{})]}),(0,i.tZ)(F,{id:a,setDetailId:l})]}),!m&&e&&e.kmong_count>0&&-1===a&&(0,i.tZ)(eT,{onClick:w("KMONG"),disabled:b,children:b?(0,i.tZ)(e_,{}):"모두 읽음 처리하기"})]})};let es=async e=>{let{pageParam:t=1}=e,{data:{notifications:r,last_page:n}}=await _.userApi.getUserNotifications({type:"ORDER",page:t});return{notifications:r,lastPage:n}},ed=(0,l.Z)("span",{target:"eqlik770"})("font-weight:700;"),eu=(0,l.Z)("div",{target:"eqlik771"})("flex-direction:row;line-height:1.3;");var eg=function(){let{unreadCount:e}=B(),{ref:t,inView:r}=(0,N.YD)(),n=(0,C.useQueryClient)(),{data:a,error:l,fetchNextPage:c,hasNextPage:s,isFetching:d,isFetchingNextPage:u}=(0,C.useInfiniteQuery)(["userNotifications","ORDER"],es,{getNextPageParam:(e,t)=>e.lastPage===t.length?null:t.length+1}),p=!a&&!l,h=(0,o.useMemo)(()=>a?[].concat(...a.pages.map(e=>e.notifications)):[],[a]),Z=()=>{n.setQueryData(["userNotifications","ORDER"],e=>e&&{pages:e.pages.map(e=>({...e,notifications:e.notifications.map(e=>"NOTIFICATION"===e.theme&&e.unread?{...e,unread:0}:e)})),pageParams:e.pageParams})},{isReadAllProcessing:m,handleClickReadAll:x}=T({updateNotificationReadAll:Z});(0,o.useEffect)(()=>{r&&!u&&c()},[r,c,u]);let y=()=>{f.eventSender.clickHeaderContents({contents:"notifications"})};return(0,i.BX)(i.HY,{children:[(0,i.BX)(eB,{maxHeight:h.length>0,children:[!p&&(0,i.tZ)(eH,{}),h.map((e,t)=>(0,i.tZ)(o.Fragment,{children:"DATE"===e.theme?(0,i.tZ)(ez,{children:e.message}):(0,i.tZ)(eO,{onClick:y,children:(0,i.tZ)(g(),{href:e.link,legacyBehavior:!0,children:(0,i.BX)(eX,{unread:e.unread,children:[(0,i.tZ)(j.Z,{src:e.image,size:48}),(0,i.BX)(eN,{children:[(0,i.BX)(eu,{css:(0,M.Z)(),children:[(0,i.tZ)(ed,{children:e.user.username})," ",(0,i.tZ)(ej,{dangerouslySetInnerHTML:(0,P.N)(e.message)})]}),(0,i.tZ)(eM,{css:v.Z.marginTop(1),children:(0,i.tZ)(eE,{children:e.time})})]})]})})})},t)),!h.length&&!d&&(0,i.tZ)(eR,{}),!d&&s&&(0,i.tZ)(eS,{ref:t}),(d||s)&&(0,i.tZ)(e_,{})]}),!p&&e&&e.order_count>0&&(0,i.tZ)(eT,{onClick:x("ORDER"),disabled:m,children:m?(0,i.tZ)(e_,{}):"모두 읽음 처리하기"})]})};function ep(){var e,t;let r=(e=["\n      background-color: #fff;\n      font-weight: 500;\n      border-bottom: none;\n    "],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return ep=function(){return r},r}function eh(e){let{label:t,isActive:r,onClick:n,unreadCount:o=0}=e;return(0,i.BX)(ef,{onClick:n,active:r,children:[(0,i.tZ)(eZ,{children:t}),o>0&&(0,i.tZ)(ev,{children:o>99?"99+":o})]})}let ef=(0,l.Z)("button",{target:"e1es3qsg0"})("position:relative;flex:1;display:flex;align-items:center;justify-content:center;color:",s.Z.gray[800],";font-size:14px;border:none;background-color:",s.Z.gray[200],";outline:none;cursor:pointer;border-bottom:1px solid ",s.Z.gray[300],";&:not(:last-child){border-right:1px solid ",s.Z.gray[300],";}",e=>e.active&&(0,a.css)(ep()),"  &:hover{font-weight:500;}"),eZ=(0,l.Z)("div",{target:"e1es3qsg1"})(),ev=(0,l.Z)("span",{target:"e1es3qsg2"})("font-size:11px;color:#fff;min-width:16px;height:16px;padding:0 4px;margin:0 0 0 2px;border-radius:8px;background-color:#f26656;display:flex;align-items:center;justify-content:center;"),em={INBOX:"request",ORDER:"track",KMONG:"kmong"},ex=(0,l.Z)("div",{target:"e1es3qsg3"})("height:56px;display:flex;flex-direction:row;");var ey=function(e){var t,r,n;let{activeChannel:o,setActiveChannel:a}=e,l=e=>{X.X.setItem("alarmMsgType",em[e]),a(e)},{unreadCount:c}=B();return(0,i.BX)(ex,{children:[(0,i.tZ)(eh,{label:"안읽은 메시지",isActive:"INBOX"===o,onClick:()=>l("INBOX"),unreadCount:null!==(t=null==c?void 0:c.inbox_count)&&void 0!==t?t:0}),(0,i.tZ)(eh,{label:"거래 알림",isActive:"ORDER"===o,onClick:()=>l("ORDER"),unreadCount:null!==(r=null==c?void 0:c.order_count)&&void 0!==r?r:0}),(0,i.tZ)(eh,{label:"크몽 알림",isActive:"KMONG"===o,onClick:()=>l("KMONG"),unreadCount:null!==(n=null==c?void 0:c.kmong_count)&&void 0!==n?n:0})]})};function eb(){var e,t;let r=(e=["\n      background-color: ",";\n\n      &:hover {\n        background-color: ",";\n      }\n    "],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return eb=function(){return r},r}let ew={null:"INBOX",request:"INBOX",track:"ORDER",kmong:"KMONG"},ek=(0,l.Z)("div",{target:"e1wbpeio0"})("width:400px;border-radius:4px;overflow:hidden;border:1px solid ",s.Z.gray[300],";"),e_=o.forwardRef((e,t)=>(0,i.tZ)(eC,{ref:t,children:(0,i.tZ)(O.Z,{})}));e_.displayName="ProgressWrapper";let eC=(0,l.Z)("div",{target:"e1wbpeio1"})("padding:16px;width:100%;background-color:",s.Z.white,";"),eS=(0,l.Z)("div",{target:"e1wbpeio2"})(),eI="400px",eB=(0,l.Z)("div",{target:"e1wbpeio3"})("position:relative;width:100%;list-style:none;padding:0;margin:0;max-height:",eI,";height:",e=>{let{maxHeight:t}=e;return t?eI:"auto"},";overflow-y:scroll;overscroll-behavior:contain;background-color:",s.Z.white,";"),ez=(0,l.Z)("div",{target:"e1wbpeio4"})("font-size:13px;padding:0;margin:0;font-weight:500;padding:0 20px;background-color:",s.Z.white,";height:40px;line-height:40px;"),eO=(0,l.Z)("div",{target:"e1wbpeio5"})("display:flex;flex-direction:row;height:80px;"),eX=(0,l.Z)("a",{target:"e1wbpeio6"})("position:relative;width:100%;height:100%;padding:12px 20px;background-color:",s.Z.white,";display:flex;align-items:center;cursor:pointer;&:hover{background-color:",s.Z.gray[200],";}",e=>e.unread&&(0,a.css)(eb(),s.Z.yellow[100],s.Z.yellow[200])),eN=(0,l.Z)("section",{target:"e1wbpeio7"})("display:flex;flex-direction:column;margin-left:15px;flex:1;"),ej=(0,l.Z)("article",{target:"e1wbpeio8"})("display:inline;font-size:13px;line-height:1.3;"),eM=(0,l.Z)("div",{target:"e1wbpeio9"})("font-size:11px;color:",s.Z.gray[500],";"),eP=(0,l.Z)("span",{target:"e1wbpeio10"})("font-weight:500;"),eE=(0,l.Z)("span",{target:"e1wbpeio11"})(),eR=o.forwardRef((e,t)=>(0,i.tZ)(eA,{ref:t,children:"알림 내역이 없습니다."}));eR.displayName="NotificationNoContent";let eD=o.forwardRef((e,t)=>(0,i.tZ)(eA,{ref:t,children:"모든 메시지를 확인했습니다."}));eD.displayName="MessageNoContent";let eA=(0,l.Z)("div",{target:"e1wbpeio12"})("text-align:center;font-size:14px;padding:20px;background-color:",s.Z.white,";"),eH=o.forwardRef((e,t)=>(0,i.tZ)(eq,{ref:t,children:"최근 30일 동안의 알림만 보관되며, 이후 자동 삭제됩니다."}));eH.displayName="AlertWordingContent";let eq=(0,l.Z)("div",{target:"e1wbpeio13"})("margin:12px 0 4px 20px;font-size:12px;color:",s.Z.gray[500],";"),eT=(0,l.Z)("button",{target:"e1wbpeio14"})("width:100%;height:40px;display:flex;justify-content:center;align-items:center;cursor:pointer;border:none;border-top:1px solid ",s.Z.gray[300],";background:",s.Z.white,";outline:none;padding:8px;text-decoration:none;color:",s.Z.gray[800],";&:hover{background-color:",s.Z.gray[100],";}&:disabled{cursor:not-allowed;}");var eK=function(){let e=ew[X.X.getItem("alarmMsgType")],[t,r]=(0,o.useState)(e);return(0,i.BX)(ek,{children:[(0,i.tZ)(ey,{setActiveChannel:r,activeChannel:t}),"INBOX"===t&&(0,i.tZ)(q,{}),"ORDER"===t&&(0,i.tZ)(eg,{}),"KMONG"===t&&(0,i.tZ)(ec,{})]})},eL=function(e){let{dark:t=!1}=e,r=(0,o.useRef)(null),[a,l]=(0,o.useState)(!1);z();let{hasNewMessage:c}=B(),s=(0,p.useRouter)(),d=e=>{if(!e){clearTimeout(n),l(!1);return}n=window.setTimeout(()=>{l(!0)},175)};return(0,i.BX)(i.HY,{children:[(0,i.tZ)(g(),{href:"/inboxes?inbox_group_id=&partner_id=",legacyBehavior:!0,children:(0,i.tZ)(Z.Z,{ref:r,variant:"text",size:"large",href:"/inboxes?inbox_group_id=&partner_id=",onClick(){f.eventSender.viewContactList(s.asPath),f.eventSender.clickHeaderContents({contents:"inbox_list"})},css:v.Z.marginRight(.5),dark:t,children:(0,i.BX)(i.HY,{children:["메시지",c&&(0,i.tZ)(eQ,{})]})})}),(0,i.tZ)(y.Z,{reference:r,content:a?(0,i.tZ)(eK,{}):null,onVisibleChange:d,maxWidth:400,trigger:"mouseenter"})]})};let eQ=(0,l.Z)("span",{target:"e14cj27k0"})("width:4px;height:4px;background-color:red;border-radius:2px;position:absolute;top:8px;");var eG=r(50925),eY=r(80590),eF=r(74152);let eU=["/"];var eV=function(){let e=(0,eY.useRouter)(),t=(0,o.useRef)(null),[r,n]=(0,o.useState)(!1);(0,o.useEffect)(()=>{n(!eU.includes(e.pathname))},[e.pathname]);let a=(0,o.useMemo)(()=>{let t=e.query;return Object.keys(t).length,encodeURIComponent(e.asPath)},[e]),l=()=>{f.eventSender.clickHeaderContents({contents:"signup"})};return(0,i.BX)(i.HY,{children:[(0,i.tZ)(g(),{href:"/signup?next_page=".concat(a),passHref:!0,legacyBehavior:!0,children:(0,i.tZ)(Z.Z,{size:"large",color:"yellow",variant:"contained",ref:t,onClick:l,children:"무료 회원가입"})}),r&&(0,i.tZ)(eF.Z,{reference:t,animation:!1,placement:"bottom",content:(0,i.BX)("span",{role:"tooltip",children:["지금 가입하면"," ",(0,i.tZ)("b",{children:"10만원"})," ","혜택"]})})]})};function eW(e){let{dark:t=!1}=e,{myKmongLink:r}=(0,x.ZP)();return(0,i.BX)(e$,{children:[(0,i.tZ)(eL,{dark:t}),(0,i.tZ)(g(),{href:r,passHref:!0,legacyBehavior:!0,children:(0,i.tZ)(Z.Z,{size:"large",variant:"text",css:v.Z.marginRight(2),dark:t,onClick:()=>f.eventSender.clickHeaderContents({contents:"my_kmong"}),children:"마이크몽"})}),(0,i.tZ)(eG.Z,{href:r})]})}function eJ(e){let{dark:t}=e,{showLoginModal:r}=(0,d.NK)(),n=(0,p.useRouter)(),o=()=>{if(f.eventSender.clickHeaderContents({contents:"become_a_seller"}),"/seller/become-a-seller"===n.pathname){n.push({query:{next_page:"/signup-seller"}}),r();return}n.push("/seller/become-a-seller")},a=()=>{r(),f.eventSender.clickHeaderContents({contents:"login"})};return(0,i.BX)(e$,{children:[(0,i.tZ)(Z.Z,{size:"large",variant:"text",css:v.Z.marginRight(.5),onClick:o,dark:t,children:"전문가 등록"}),(0,i.tZ)(Z.Z,{size:"large",variant:"text",css:v.Z.marginRight(2),onClick:a,dark:t,children:"로그인"}),(0,i.tZ)(eV,{})]})}let e$=(0,l.Z)("div",{target:"e1tf0g4t0"})("display:flex;flex-direction:row;align-items:center;");var e0=function(e){let{dark:t}=e,r=(0,d.kq)(),{isPendingAuth:n}=(0,d.ui)();return n?null:(0,i.tZ)(m.Z,{test:r,truthy:(0,i.tZ)(eW,{dark:t}),falsy:(0,i.tZ)(eJ,{dark:t})})},e1=r(50688),e2=r(61302),e4=function(){return(0,e2.Z)(e1.U.MARKET),null},e6=r(32276),e5=r.n(e6),e3=r(40847),e8=r.n(e3),e9=r(98822),e7=r.n(e9),te=r(29615);let tt=()=>f.eventSender.clickHeaderLogo({viewId:h().asPath}),tr=(0,l.Z)("a",{target:"ekh8cbs0"})("cursor:pointer;text-decoration:none;width:85px;height:26px;");var tn=function(e){let{dark:t}=e;return(0,i.tZ)(tr,{href:"/",onClick:tt,"aria-label":"logo",children:(0,i.tZ)(te.Z,{width:85,variants:t?"light":"dark"})})};function ti(){var e,t;let r=(e=["\n    opacity: 1;\n    transform: translateY(0px);\n  "],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return ti=function(){return r},r}e8().extend(e7());let to=e5()(()=>Promise.all([r.e(4034),r.e(646)]).then(r.bind(r,60646)),{loadableGenerated:{webpack:()=>[60646]}}),ta=e5()(()=>Promise.all([r.e(4034),r.e(7710)]).then(r.bind(r,77710)),{loadableGenerated:{webpack:()=>[77710]}}),tl=e5()(()=>Promise.all([r.e(4034),r.e(4558)]).then(r.bind(r,14558)),{loadableGenerated:{webpack:()=>[14558]}}),tc=[{days:["2023-06-01","2023-07-01"],component:(0,i.tZ)(to,{}),name:"프리랜서 데이"},{days:["2022-09-05","2022-09-13"],component:(0,i.tZ)(ta,{}),name:"추석 이벤트"},{days:["2022-12-19","2022-12-26"],component:(0,i.tZ)(tl,{}),name:"크리스마스 이벤트"}];function ts(){var e,t;return null!==(t=null===(e=tc.find(e=>{let{days:t}=e;return e8()().isBetween(...t)}))||void 0===e?void 0:e.component)&&void 0!==t?t:null}let td=(0,l.Z)("div",{target:"e1yr6w1u0"})("margin-left:8px;opacity:0;transition:transform 300ms ease-out;transition-delay:250ms;transform:translateY(-60px);",e=>{let{show:t}=e;return t&&(0,a.css)(ti())},";");var tu=o.memo(function(e){let{dark:t,logoPlay:r}=e,[n,a]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{a(r)},[r]),(0,i.BX)(i.HY,{children:[(0,i.tZ)(tn,{dark:t}),ts()&&(0,i.tZ)(td,{show:n,children:n&&(0,i.tZ)(ts,{})})]})}),tg=r(5710);let tp=(0,l.Z)("div",{target:"e1vjw95z0"})("background-color:",s.Z.red[400],";width:100%;height:",32,"px;display:flex;justify-content:center;align-items:center;color:",s.Z.white,";z-index:20;"),th=(0,l.Z)("span",{target:"e1vjw95z1"})("color:",s.Z.white,";font-size:14px;margin:0 0 0 4px;");var tf=function(e){let{days:t}=e;return(0,i.BX)(tp,{children:[(0,i.tZ)(tg.Z,{size:20}),(0,i.BX)(th,{children:[t,"일 간 크몽 사이트 이용이 정지되었으며, 현재 진행 중인 거래는 판/구매관리에서 진행하실 수 있습니다."]})]})},tZ=r(49412),tv=r(15547),tm=r(92770),tx=r(78089),ty=r(47958),tb=r(85110),tw=r.n(tb);let tk=(0,o.forwardRef)((e,t)=>{let r=(0,o.useRef)(null),n=(0,o.useMemo)(()=>tw()(t=>{var r;null===(r=e.onChange)||void 0===r||r.call(e,t.target.value)},200),[e]),a=e=>{n(e)};(0,o.useImperativeHandle)(t,()=>({get value(){var e,t;return null!==(t=null===(e=r.current)||void 0===e?void 0:e.value)&&void 0!==t?t:""},setValue(e){r.current&&(r.current.value=e)},blur(){var e;null===(e=r.current)||void 0===e||e.blur()}}),[]);let l=(0,o.useMemo)(()=>{var t;let n=(null===(t=r.current)||void 0===t?void 0:t.value)&&e.loading;if(n)return(0,i.tZ)("div",{children:(0,i.tZ)(O.Z,{size:"xsmall"})});if(e.showClear){let o=t=>{var n;r.current&&(r.current.value=""),t.stopPropagation(),t.preventDefault(),null===(n=e.onChange)||void 0===n||n.call(e,"")};return(0,i.tZ)(tC,{type:"button",onClick:o,children:(0,i.tZ)(tm.Z,{})})}return(0,i.tZ)(tx.Z,{})},[e]);return(0,i.tZ)(t_,{...e,inputProps:{maxLength:30,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",...e.inputProps},testId:"search-input",ref:r,size:"large",suffix:l,onChange:a})});tk.displayName="SearchInput";let t_=(0,l.Z)(ty.Z,{target:"e1vj7tvj0"})("padding-left:12px;padding-right:12px;border-radius:20px;font-size:14px;border-color:",s.Z.gray[800],";&:hover{background-color:",s.Z.gray[200],";border-color:",s.Z.gray[800],";}&:focus{background-color:",s.Z.white,";}input::placeholder{color:",s.Z.gray[400],";}"),tC=(0,l.Z)("button",{target:"e1vj7tvj1"})("width:20px;height:20px;background-color:",s.Z.gray[300],";border:none;display:flex;justify-content:center;align-items:center;border-radius:50%;cursor:pointer;padding:0;&:hover{background-color:",s.Z.gray[400],";}svg{width:14px;height:14px;color:#ffffff;}");var tS=r(7652),tI=r(50443);let tB=(0,l.Z)("p",{target:"e1prfu3y0"})("margin:0;font-size:14px;font-weight:400;color:",s.Z.gray[800],";> b{font-weight:700;}");var tz=function(e){let{suggestions:t,activeItemIndex:r,resetActiveItemIndex:n,handleActiveItemIndex:o,eventType:a}=e,l=e=>{let{keyword:t}=e;f.eventSender.clickKnowhowSearch({action:"click_recommend",type:a,query:t}),(0,tS.e)({keyword:t})};return(0,i.tZ)(i.HY,{children:t.map((e,t)=>(0,i.tZ)(tI.H,{active:t===r,onMouseEnter:()=>o(t),onMouseLeave:n,onMouseDown:()=>l({...e}),children:(0,i.tZ)(tB,{dangerouslySetInnerHTML:{__html:e.highlightedKeyword}})},e.keyword))})};let tO=(0,l.Z)("section",{target:"e1wv64lg0"})("background-color:",s.Z.white,";");var tX=function(e){let{suggestions:t=[],activeItemIndex:r,resetActiveItemIndex:n,handleActiveItemIndex:o,eventType:a}=e;return(0,i.tZ)(tO,{children:(0,i.tZ)(tz,{suggestions:t,activeItemIndex:r,resetActiveItemIndex:n,handleActiveItemIndex:o,eventType:a})})},tN=r(38822);let tj=e=>{f.eventSender.clickKnowhowSearch({action:"recent_keyword",type:"header",query:e}),(0,tS.e)({keyword:e})},tM=(0,l.Z)("li",{target:"e1hnpe7w0"})("display:flex;align-items:center;gap:8px;"),tP=(0,l.Z)("p",{target:"e1hnpe7w1"})("margin:0;cursor:pointer;display:flex;flex:1;",(0,M.Z)(1),";height:29px;line-height:29px;font-size:14px;:hover{text-decoration:underline;font-weight:500;}"),tE=(0,l.Z)(Z.Z,{target:"e1hnpe7w2"})("display:flex;justify-content:center;align-items:center;width:20px;height:20px;padding:0;min-width:20px;border:none;border-radius:50%;:hover{background-color:",s.Z.gray[200],";}");var tR=function(e){let{keyword:t,onRemove:r}=e,n=(e,t)=>{e.stopPropagation(),e.preventDefault(),r(t)};return(0,i.BX)(tM,{children:[(0,i.tZ)(tP,{onMouseDown:()=>tj(t),children:t}),(0,i.tZ)(tE,{onClick:e=>n(e,t),type:"button",children:(0,i.tZ)(tm.Z,{size:14,color:s.Z.gray[500]})})]})};let tD=(0,l.Z)("section",{target:"e1lqk6qe0"})("padding:0 12px;"),tA=(0,l.Z)("div",{target:"e1lqk6qe1"})("display:flex;justify-content:space-between;align-items:center;height:30px;"),tH=(0,l.Z)("h3",{target:"e1lqk6qe2"})("font-size:12px;font-weight:700;color:",s.Z.gray[800],";margin:0;"),tq=(0,l.Z)("div",{target:"e1lqk6qe3"})("height:30px;display:flex;justify-content:center;align-items:center;font-size:14px;color:",s.Z.gray[500],";"),tT=(0,l.Z)("ul",{target:"e1lqk6qe4"})("margin:0;padding:0;");var tK=function(){let{hasKnowhowHistory:e,searchHistoryKeywords:t,handleRemoveKeyword:r,resetKnowhowHistory:n}=(0,tN.Z)();return(0,i.BX)(tD,{children:[(0,i.BX)(tA,{children:[(0,i.tZ)(tH,{children:"최근 검색어"}),e&&(0,i.tZ)(Z.Z,{size:"xsmall",color:"denim",variant:"text",onClick:n,type:"button",children:"전체 삭제"})]}),(0,i.tZ)(m.Z,{test:e,truthy:(0,i.tZ)(tT,{children:t.map(e=>(0,i.tZ)(tR,{keyword:e,onRemove:r},e))}),falsy:(0,i.tZ)(tq,{children:"최근 검색어가 없습니다."})})]})};let tL=(0,l.Z)("section",{target:"ey00cso0"})("background-color:",s.Z.white,";border-radius:16px;box-shadow:0 4px 10px 0 rgba(0,0,0,0.1);padding:8px;display:flex;flex-direction:column;gap:16px;");var tQ=function(){return(0,i.tZ)(tL,{children:(0,i.tZ)(tK,{})})};let tG=(0,l.Z)("form",{target:"e8tgb4c0"})("margin:0 16px;display:flex;justify-content:center;width:100%;max-width:344px;position:relative;font-size:14px;"),tY=(0,l.Z)("div",{target:"e8tgb4c1"})("position:absolute;top:46px;left:0;right:0;z-index:1;display:",e=>{let{isActive:t}=e;return t?"block":"none"},";"),tF=(0,l.Z)("div",{target:"e8tgb4c2"})("border-radius:16px;box-shadow:0 4px 10px 0 rgba(0,0,0,0.1);padding:8px;background-color:",s.Z.white,";");var tU=function(e){var t,r;let{placeholder:n="배우고 싶은 노하우를 검색해보세요.",defaultValue:a}=e,{isActive:l,handleFocus:c,handleBlur:s}=(0,tZ.ZG)(),d=(0,o.useRef)(null),u=(0,o.useRef)(null),{lastSearchQuery:g,data:p,isFetching:h,query:f,setQuery:Z}=(0,tZ.eI)({enabled:l,defaultValue:a});(0,tZ.O8)(u,s);let v=(0,o.useCallback)(e=>{var t;null===(t=d.current)||void 0===t||t.setValue(e)},[]),{handleKeyDown:x,activeItemIndex:y,resetActiveItemIndex:b,setActiveItemIndex:w}=(0,tv.Z)({data:p,query:f,setSearchInputValue:v,lastSearchQuery:g,searchInputRef:d,eventType:"header"}),k=e=>{Z(e)},_=(null===(t=p.suggestions)||void 0===t?void 0:t.length)>0,C=f.trim().length>0;return(0,i.BX)(tG,{role:"search",ref:u,children:[(0,i.tZ)(tk,{ref:d,placeholder:n,onChange:k,inputProps:{onFocus:c,onKeyDown:x,defaultValue:a},loading:h,showClear:g.length>0}),(0,i.tZ)(tY,{isActive:l,children:(0,i.tZ)(m.Z,{test:C,truthy:_&&(0,i.tZ)(tF,{children:(0,i.tZ)(tX,{suggestions:null!==(r=p.suggestions)&&void 0!==r?r:[],activeItemIndex:y,resetActiveItemIndex:b,handleActiveItemIndex:w,eventType:"header"})}),falsy:(0,i.tZ)(tQ,{})})})]})},tV=r(85137),tW=r.n(tV),tJ=r(23200),t$=r(66178),t0=r(65987);let t1=e=>{f.eventSender.clickSearchList({type:"최근 검색어"}),h().push({pathname:"/search",query:{type:"gigs",keyword:e}})},t2=(0,l.Z)("li",{target:"e1845mdz0"})("display:flex;align-items:center;gap:8px;"),t4=(0,l.Z)("p",{target:"e1845mdz1"})("margin:0;cursor:pointer;display:flex;flex:1;",(0,M.Z)(1),";height:29px;line-height:29px;font-size:14px;:hover{text-decoration:underline;font-weight:500;}"),t6=(0,l.Z)(Z.Z,{target:"e1845mdz2"})("display:flex;justify-content:center;align-items:center;width:20px;height:20px;padding:0;min-width:20px;border:none;border-radius:50%;:hover{background-color:",s.Z.gray[200],";}");var t5=function(e){let{keyword:t,removeSearchHistoryDesktop:r}=e;return(0,i.BX)(t2,{children:[(0,i.tZ)(t4,{onMouseDown:()=>t1(t),children:t}),(0,i.tZ)(t6,{onClick:e=>r({newKeyword:t,e}),type:"button",children:(0,i.tZ)(tm.Z,{size:14,color:s.Z.gray[500]})})]})};let t3=(0,l.Z)("section",{target:"eblg9nz0"})("padding:0 12px;"),t8=(0,l.Z)("div",{target:"eblg9nz1"})("display:flex;justify-content:space-between;align-items:center;height:30px;"),t9=(0,l.Z)("h3",{target:"eblg9nz2"})("font-size:12px;font-weight:700;color:",s.Z.gray[800],";margin:0;"),t7=(0,l.Z)("div",{target:"eblg9nz3"})("height:30px;display:flex;justify-content:center;align-items:center;font-size:14px;color:",s.Z.gray[500],";"),re=(0,l.Z)("ul",{target:"eblg9nz4"})("margin:0;padding:0;");var rt=function(){let[e,t]=(0,o.useState)((0,t0.Us)());(0,o.useEffect)(()=>{(0,t0.TQ)(e)},[e]);let r=e=>{let{e:r}=e;r.stopPropagation(),r.preventDefault(),t([])},n=r=>{let{newKeyword:n,e:i}=r;i.stopPropagation(),i.preventDefault(),t(e.filter(e=>e!==n))};return(0,i.BX)(t3,{children:[(0,i.BX)(t8,{children:[(0,i.tZ)(t9,{children:"최근 검색어"}),e.length>0&&(0,i.tZ)(Z.Z,{size:"xsmall",color:"denim",variant:"text",onClick:e=>r({e}),type:"button",children:"전체 삭제"})]}),(0,i.tZ)(m.Z,{test:e.length>0,truthy:(0,i.tZ)(re,{children:e.map(e=>(0,i.tZ)(t5,{keyword:e,removeSearchHistoryDesktop:n},e))}),falsy:(0,i.tZ)(t7,{children:"최근 검색어가 없습니다."})})]})},rr=r(43745),rn=r(9014);let ri=(0,l.Z)("section",{target:"e1a12np90"})("padding:0 12px;"),ro=(0,l.Z)("h3",{target:"e1a12np91"})("font-size:12px;font-weight:700;color:",s.Z.gray[800],";margin:0;height:30px;display:flex;align-items:center;"),ra=(0,l.Z)("div",{target:"e1a12np92"})("display:flex;flex-wrap:wrap;gap:8px;margin:8px 0px;padding:0;"),rl=(0,l.Z)(g(),{target:"e1a12np93"})("text-decoration:none;&:hover{background-color:",s.Z.gray[100],";border-radius:16px;}> div{cursor:pointer;}");var rc=function(){var e,t,r;let n=(0,rn.ZW)("recentlyViewedCategories"),o=null!==(r=null==n?void 0:null===(e=n[n.length-1])||void 0===e?void 0:null===(t=e.rootCategory)||void 0===t?void 0:t.id)&&void 0!==r?r:-1,{data:a}=(0,tZ.I0)(o);return a&&0!==a.length?(0,i.BX)(ri,{children:[(0,i.tZ)(ro,{children:"추천 검색어"}),(0,i.tZ)(ra,{children:a.map(e=>(0,i.tZ)(rl,{href:{pathname:"/search",query:{type:"gigs",keyword:e.keyword}},onClick:()=>f.eventSender.clickSearchList({type:"추천 검색어"}),children:(0,i.tZ)(rr.Z,{variant:"outlined",size:"small",children:e.keyword})},e.keyword))})]}):null};let rs=(0,l.Z)("section",{target:"e62b5ks0"})("background-color:",s.Z.white,";border-radius:16px;box-shadow:0 4px 10px 0 rgba(0,0,0,0.1);padding:8px;display:flex;flex-direction:column;gap:16px;");var rd=function(){return(0,i.BX)(rs,{children:[(0,i.tZ)(rt,{}),(0,i.tZ)(rc,{})]})},ru=r(72502);let rg=(0,l.Z)("form",{target:"e1vfdeb40"})("margin:0 16px;display:flex;justify-content:center;width:100%;max-width:344px;position:relative;font-size:14px;"),rp=(0,l.Z)("div",{target:"e1vfdeb41"})("position:absolute;top:46px;left:0;right:0;z-index:1;display:",e=>{let{isActive:t}=e;return t?"block":"none"},";"),rh=(0,l.Z)("div",{target:"e1vfdeb42"})("border-radius:16px;box-shadow:0 4px 10px 0 rgba(0,0,0,0.1);padding:8px;background-color:",s.Z.white,";");var rf=function(e){var t;let{placeholder:r="서비스 또는 전문가를 검색해보세요.",defaultValue:n}=e,{isActive:a,handleFocus:l,handleBlur:c}=(0,tZ.ZG)(),s=(0,o.useRef)(null),d=(0,o.useRef)(null),{query:u,lastSearchQuery:g,setQuery:p,data:h,isFetching:f}=(0,ru.Z)(a,n),Z=(0,o.useCallback)(e=>{var t;null===(t=s.current)||void 0===t||t.setValue(e)},[]),{handleKeyDown:v,activeItemIndex:x,resetActiveItemIndex:y,changeActiveItemIndex:b}=(0,t$.Z)({data:h,query:u,setSearchInputValue:Z,lastSearchQuery:g,searchInputRef:s,clickSearchEventType:"MARKET"}),w=e=>{p(e)};(0,tZ.O8)(d,()=>c());let k=h&&(null==h?void 0:h.suggestions.length)>0,_=(null==h?void 0:h.matchedSeller)&&!tW()(h.matchedSeller),C=u.trim().length>0;return(0,i.BX)(rg,{role:"search",ref:d,children:[(0,i.tZ)(tk,{ref:s,placeholder:r,onChange:w,inputProps:{onFocus:l,onKeyDown:v,defaultValue:n},loading:f,showClear:g.length>0}),(0,i.tZ)(rp,{isActive:a,children:(0,i.tZ)(m.Z,{test:!C,truthy:(0,i.tZ)(rd,{}),falsy:k&&(0,i.tZ)(rh,{children:(0,i.tZ)(tJ.Z,{suggestions:null!==(t=null==h?void 0:h.suggestions)&&void 0!==t?t:[],activeItemIndex:x,resetActiveItemIndex:y,handleActiveItemIndex:b,hasMatchedSeller:_,suggestionData:null!=h?h:ru.p,clickSearchEventType:"MARKET"})})})})]})},rZ=function(e){let{isPendingAuth:t}=(0,d.ui)(),r=(0,tZ.rU)();return t?null:(0,i.tZ)(m.Z,{test:r,truthy:(0,i.tZ)(tU,{...e}),falsy:(0,i.tZ)(rf,{...e})})};function rv(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function rm(){let e=rv(["\n      position: relative;\n      margin-bottom: ","px;\n    "]);return rm=function(){return e},e}function rx(){let e=rv(["\n      background-color: transparent;\n      border-color: transparent;\n    "]);return rx=function(){return e},e}function ry(){let e=rv(["\n      position: sticky;\n      top: ","px;\n      left: 0;\n      right: 0;\n    "]);return ry=function(){return e},e}function rb(){let e=rv(["\n      border: none;\n    "]);return rb=function(){return e},e}function rw(){let e=rv(["\n      position: sticky;\n      top: 0;\n      left: 0;\n      right: 0;\n      z-index: 20;\n  "]);return rw=function(){return e},e}function rk(){let e=rv(["\n    min-height: ","px;\n  "]);return rk=function(){return e},e}let r_=(0,l.Z)("header",{target:"e6q5snn0"})("z-index:20;border-bottom:1px solid ",s.Z.gray[300],";background-color:#ffffff;transition:background-color 0.3s,border-color 0.3s;",e=>e.clearBackground&&(0,a.css)(rm(),-1*e.headerHeight)," ",e=>e.clearBackground&&!e.isScrolled&&(0,a.css)(rx())," ",e=>e.fixed&&(0,a.css)(ry(),e.top)," ",e=>!e.hasBorder&&(0,a.css)(rb())),rC=(0,l.Z)("section",{target:"e6q5snn1"})("height:74px;display:flex;flex-direction:row;align-items:center;width:1200px;margin:0 auto;padding:0 16px;"),rS=(0,l.Z)("div",{target:"e6q5snn2"})(e=>{let{fixed:t}=e;return t&&(0,a.css)(rw())}),rI=(0,l.Z)("section",{target:"e6q5snn3"})(),rB=(0,l.Z)("section",{target:"e6q5snn4"})(e=>{let{minHeight:t}=e;return t&&(0,a.css)(rk(),t)},";"),rz=(0,l.Z)("div",{target:"e6q5snn5"})(),rO=(0,l.Z)("section",{target:"e6q5snn6"})();var rX=o.memo(function(e){let{extension:t,logoExtension:r=(0,i.tZ)(e4,{}),actionsExtension:n,fixed:a,clearBackground:l,topBanner:s,enableSearchForm:u,searchFormProps:g,hasBorder:p=!0,hasDarkBackground:h=!1,logoPlay:f=!1}=e,Z=(0,o.useRef)(null),{userPenalty:v}=(0,d.h1)(),[m,x]=(0,o.useState)(!1),y=106,b=0;v&&(null==v?void 0:v.days)>0&&(b+=32);let w=(0,o.useMemo)(()=>h&&!m,[h,m]);if(t){let{height:k}=t;y+=k}return(0,o.useEffect)(()=>{let e=()=>{var e;x(window.pageYOffset>0&&Math.round(window.pageYOffset)===(null==Z?void 0:null===(e=Z.current)||void 0===e?void 0:e.offsetTop))};return e(),window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}}),(0,i.BX)(i.HY,{children:[v&&(null==v?void 0:v.days)>0&&(0,i.tZ)(rS,{fixed:a,children:(0,i.tZ)(tf,{days:v.days})}),s&&(0,i.tZ)(rI,{children:s}),(0,i.BX)(r_,{ref:Z,fixed:a,top:b,clearBackground:l,headerHeight:y,isScrolled:m,hasBorder:p,hasDarkBackground:h,children:[(0,i.BX)(rC,{children:[(0,i.tZ)(tu,{dark:w,logoPlay:f}),(0,i.tZ)(rz,{children:r}),(0,i.tZ)(c.Z,{}),u&&(0,o.createElement)(rZ,{...g,key:null==g?void 0:g.defaultValue}),n&&(0,i.tZ)(rO,{children:n}),(0,i.tZ)(e0,{dark:w})]}),t&&(0,i.tZ)(rB,{minHeight:null==t?void 0:t.height,children:t.component})]})]})})},50925:function(e,t,r){var n=r(1996),i=r(91987),o=r(77365),a=r.n(o),l=r(69510),c=r(32386),s=r(58913),d=r(7923),u=r(4464),g=r(61635),p=r(3067),h=r(67960),f=r(93718),Z=r(98060);function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function m(){let e=v(["\n      color: ",";\n    "]);return m=function(){return e},e}function x(){let e=v(["\n      color: ",";\n    "]);return x=function(){return e},e}function y(){var e;let{user:t}=(0,f.aF)(),{logout:r}=(0,Z.Z)(),o=(0,l.useRouter)(),a=(null==t?void 0:t.is_seller_registration_agreed)&&(null==t?void 0:t.is_authenticated_seller),c=()=>{if(a){o.push("https://support.kmong.com/hc/ko/categories/360001839311");return}if(null==t?void 0:t.is_seller_registration_agreed){o.push("/my_profile/seller/certifications");return}o.push("/seller/become-a-seller")},s=(0,i.useMemo)(()=>a?"전문가 센터":(null==t?void 0:t.is_seller_registration_agreed)?"전문가 정보":"전문가 등록",[a,t]);return(0,n.BX)(_,{children:[t&&t.vacation_expire_date&&(0,n.tZ)(b,{label:"휴가모드 설정",href:"/my_gigs",color:h.Z.red[500]}),(0,n.tZ)(b,{label:"프로필 관리",href:"/@".concat(null!==(e=null==t?void 0:t.username)&&void 0!==e?e:"/")}),(0,n.tZ)(b,{label:s,onClick:c}),(0,n.tZ)(b,{label:"친구초대",href:"/invite-friends"}),(0,n.tZ)(b,{label:"나의 찜목록",href:"/my-bookmarks"}),(0,n.tZ)(u.Z,{placement:"right-start",offset:[0,1],content:(0,n.BX)(_,{children:[(0,n.tZ)(b,{label:"나의 정보",href:"/my_profile"}),(0,n.tZ)(b,{label:"전문가 정보",href:"/my_profile/seller/settings"}),(0,n.tZ)(b,{label:"알림 설정",href:"/my_profile/mail_settings"})]}),children:(0,n.tZ)(b,{hasSubMenu:!0,tabIndex:0,label:"계정 설정"})}),(0,n.tZ)(b,{label:"로그아웃",onClick:r})]})}let b=(0,i.forwardRef)((e,t)=>{let{href:r,label:o,hasSubMenu:l,color:c,onClick:s,...u}=e,g=(0,i.useCallback)(e=>{d.eventSender.clickHeaderContents({contents:null!=r?r:""}),s&&s(e)},[r,s]),p=r?(0,n.tZ)(a(),{href:r,passHref:!0,legacyBehavior:!0,children:(0,n.tZ)(I,{href:r,onClick:g,color:c,children:o})}):(0,n.BX)(B,{onClick:g,color:c,children:[o,l&&(0,n.tZ)(z,{children:">"})]});return(0,n.tZ)(C,{ref:t,...u,children:p})});b.displayName="MenuItem";let w=(0,s.Z)("div",{target:"e1s2fvn00"})(),k=(0,s.Z)("div",{target:"e1s2fvn01"})("position:absolute;top:0;left:0;right:0;bottom:0;border-radius:50%;background-color:rgba(0,0,0,0.3);color:#ffffff;font-size:11px;display:flex;align-items:center;justify-content:center;"),_=(0,s.Z)("div",{target:"e1s2fvn02"})("width:136px;padding:6px 0;background-color:#fff;border-radius:4px;"),C=(0,s.Z)("div",{target:"e1s2fvn03"})("position:relative;width:100%;height:40px;cursor:pointer;transition:background-color 0.2s;&:hover,&:focus{background-color:",h.Z.gray[200],";}"),S=(0,c.css)("display:flex;flex-direction:row;padding:0 16px;align-items:center;color:",h.Z.gray[800],";font-size:14px;width:100%;height:100%;"),I=(0,s.Z)("a",{target:"e1s2fvn04"})(S,";text-decoration:none;",e=>e.color&&(0,c.css)(m(),e.color)),B=(0,s.Z)("div",{target:"e1s2fvn05"})(S,";justify-content:space-between;",e=>e.color&&(0,c.css)(x(),e.color)),z=(0,s.Z)("span",{target:"e1s2fvn06"})("color:",h.Z.gray[400],";");t.Z=function(e){var t;let{href:r}=e,{user:i}=(0,f.aF)();return(0,n.tZ)(w,{children:(0,n.tZ)(u.Z,{placement:"bottom-end",content:(0,n.tZ)(y,{}),trigger:"mouseenter",children:(0,n.BX)(g.Z,{variant:"text",size:"large",icon:!0,rounded:!0,href:r,children:[(0,n.tZ)(p.Z,{src:null!==(t=null==i?void 0:i.thumbnail)&&void 0!==t?t:"",size:32}),i&&i.vacation_expire_date&&(0,n.tZ)(k,{children:"휴가"})]})})})}},66178:function(e,t,r){var n=r(91987),i=r(7923),o=r(85137),a=r.n(o),l=r(91233);let c=e=>{let{keyword:t,type:r,action:n}=e;i.eventSender.clickSearch({query:t,type:r,action:n})};t.Z=function(e){let{data:t,query:r,setSearchInputValue:i,lastSearchQuery:o,searchInputRef:s,clickSearchEventType:d}=e,[u,g]=(0,n.useState)(-1),p=()=>{g(-1)},h=e=>{g(e)},f=(null==t?void 0:t.matchedSeller)&&!a()(t.matchedSeller),Z=(null==t?void 0:t.suggestions)&&(null==t?void 0:t.suggestions.length)>0||f,v=(0,n.useCallback)(e=>{if([38,40].includes(e.keyCode)){if(e.preventDefault(),void 0===t)return;let{suggestions:n,matchedSeller:a}=t,p=n.length+(null===a?0:1);if(0===p||0===r.length)return;"ArrowUp"===e.key?g(e=>{if(-1===e){let t=p-1;return i(null===a?n[t].keyword:o),t}let r=e-1;return i(-1===r?o:n[r].keyword),r}):g(e=>{if(e+1===p)return i(o),-1;let t=e+1;return t+1===p?(i(null===a?n[t].keyword:o),t):(i(n[t].keyword),t)})}if("Enter"===e.key){var h,f,Z;if(e.preventDefault(),e.nativeEvent.isComposing)return;let v=(null!==(Z=null===(h=s.current)||void 0===h?void 0:h.value)&&void 0!==Z?Z:"").trim();if(!v.length)return;if(null===(f=s.current)||void 0===f||f.blur(),-1===u){c({type:d,action:"submit_keyword",keyword:v}),(0,l.kA)({keyword:v});return}if(void 0===t)return;let{suggestions:m,matchedSeller:x}=t,y=m.length+(null===x?0:1);if(u+1===y&&x){c({type:d,action:"click_profile",keyword:v}),(0,l.o_)(v);return}let{keyword:b}=m[u];c({type:d,action:"click_recommend",keyword:v}),(0,l.kA)({keyword:b,activeItemIndex:u})}},[t,r.length,i,o,s,u,d]);return{handleKeyDown:v,activeItemIndex:u,setActiveItemIndex:g,resetActiveItemIndex:p,changeActiveItemIndex:h,hasMatchedSeller:f,hasAutoComplete:Z}}},23200:function(e,t,r){r.d(t,{Z:function(){return w}});var n=r(1996),i=r(91987),o=r(58913),a=r(67960),l=r(7923),c=r(52220),s=r(50443),d=r(91233);let u=e=>e-112,g=(0,o.Z)("div",{target:"euhsunt0"})("width:calc(100% - 24px);height:1px;background-color:",a.Z.gray[300],";margin:8px auto;"),p=(0,o.Z)("div",{target:"euhsunt1"})("display:flex;justify-content:space-between;align-items:center;"),h=(0,o.Z)("div",{target:"euhsunt2"})("display:flex;gap:4px;align-items:center;"),f=(0,o.Z)("span",{target:"euhsunt3"})("font-size:14px;font-weight:700;color:",a.Z.gray[800],";max-width:",e=>{let{maxWidth:t}=e;return t},"px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"),Z=(0,o.Z)("div",{target:"euhsunt4"})("font-size:12px;font-weight:500;color:",a.Z.gray[500],";"),v=(0,o.Z)(c.Z,{target:"euhsunt5"})("transform:rotate(135deg);");var m=function(e){var t,r,o;let{suggestionData:c,activeItemIndex:m,resetActiveItemIndex:x,handleActiveItemIndex:y,clickSearchEventType:b}=e,w=(0,i.useRef)(null),[k,_]=(0,i.useState)(0);if((0,i.useLayoutEffect)(()=>{w.current&&_(w.current.offsetWidth)},[]),!c)return null;let C=c.suggestions.length,S=e=>{l.eventSender.clickSearch({action:"click_profile",type:b,query:e}),(0,d.o_)(e)};return(0,n.BX)("div",{children:[(0,n.tZ)(g,{}),(0,n.tZ)(s.H,{ref:w,active:C===m,onMouseEnter:()=>y(C),onMouseLeave:x,onMouseDown(){var e;return S(null!==(r=null===(e=c.matchedSeller)||void 0===e?void 0:e.username)&&void 0!==r?r:"")},children:(0,n.BX)(p,{children:[(0,n.BX)(h,{children:[(0,n.tZ)(f,{maxWidth:u(k),children:null!==(o=null===(t=c.matchedSeller)||void 0===t?void 0:t.username)&&void 0!==o?o:""}),(0,n.tZ)(Z,{children:"전문가 프로필"})]}),(0,n.tZ)(v,{color:a.Z.gray[500],size:16})]})})]})};let x=(0,o.Z)("p",{target:"e1x9kuau0"})("margin:0;font-size:14px;font-weight:400;color:",a.Z.gray[800],";> b{font-weight:700;}");var y=function(e){let{suggestions:t,activeItemIndex:r,resetActiveItemIndex:i,handleActiveItemIndex:o,clickSearchEventType:a}=e,c=e=>{let{keyword:t,propsActiveItemIndex:r}=e;l.eventSender.clickSearch({action:"click_recommend",type:a,query:t}),(0,d.kA)({keyword:t,activeItemIndex:r})};return(0,n.tZ)(n.HY,{children:t.map((e,t)=>(0,n.tZ)(s.H,{active:t===r,onMouseEnter:()=>o(t),onMouseLeave:i,onMouseDown:()=>c({...e,propsActiveItemIndex:r}),children:(0,n.tZ)(x,{dangerouslySetInnerHTML:{__html:e.highlightedKeyword}})},e.keyword))})};let b=(0,o.Z)("section",{target:"e1xwvtdc0"})("background-color:",a.Z.white,";");var w=function(e){let{suggestions:t=[],activeItemIndex:r,resetActiveItemIndex:i,handleActiveItemIndex:o,hasMatchedSeller:a,suggestionData:l,clickSearchEventType:c}=e;return(0,n.BX)(b,{children:[(0,n.tZ)(y,{suggestions:null!=t?t:[],activeItemIndex:r,resetActiveItemIndex:i,handleActiveItemIndex:o,clickSearchEventType:c}),a&&(0,n.tZ)(m,{suggestionData:l,activeItemIndex:r,resetActiveItemIndex:i,handleActiveItemIndex:o,clickSearchEventType:c})]})}},91233:function(e,t,r){r.d(t,{kA:function(){return l},o_:function(){return a}});var n=r(69510),i=r.n(n),o=r(28259);let a=e=>{i().push("/@".concat(e))},l=e=>{let{keyword:t,activeItemIndex:r=-1}=e;i().push({pathname:"/search",query:{type:"gigs",keyword:t,...c()&&-1===r&&{...(0,o.VJ)({...o.or})}}})},c=()=>0===i().asPath.indexOf("/portfolio")},72502:function(e,t,r){r.d(t,{Z:function(){return s},p:function(){return c}});var n=r(91987),i=r(28904),o=r(9014),a=r(98258);let l=e=>["searchAutoComplete",e.trim()],c={suggestions:[],matchedSeller:null};function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=(0,a.useQueryClient)(),[c,s]=(0,n.useState)(t),[d,u]=(0,n.useState)(""),{data:g,isFetching:p}=(0,a.useQuery)(l(c),async e=>{let{queryKey:t,signal:n}=e;if(0===c.length)return u(c),{suggestions:[],matchedSeller:null};let a=r.getQueryData(t);if(void 0!==a)return u(c),a;let l={q:c},[s,d]=await Promise.all([i.searchApi.getSearchAutoComplete(l,n),i.searchApi.getMatchedSeller(l,n)]);return u(c),{suggestions:s.map(e=>({...e,highlightedKeyword:(0,o.FP)(e.keyword,c)})),matchedSeller:d}},{keepPreviousData:!0,refetchOnWindowFocus:!1,refetchInterval:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchIntervalInBackground:!1,enabled:e,cacheTime:3e4});return(0,n.useEffect)(()=>{u(c)},[c]),{query:c,lastSearchQuery:d,setQuery:s,data:g,isFetching:p}}},65987:function(e,t,r){r.d(t,{I6:function(){return l},TQ:function(){return s},Us:function(){return o}});var n=r(68426);let i="searchHistoryDesktop",o=()=>n.X.getItem(i)||[],a=()=>{s([])},l=e=>{try{let t=o(),r=[e,...c({keywords:t,newKeyword:e})].slice(0,6);s(r)}catch(n){a()}},c=e=>{let{keywords:t,newKeyword:r}=e;return t.filter(e=>e!==r)},s=e=>{n.X.setItem(i,JSON.stringify(e))}},27769:function(e,t,r){r.d(t,{Mz:function(){return s},r5:function(){return c},wy:function(){return l}});var n=r(91987),i=r(68426),o=r(93718),a=r(38880);let l="/seller/order-list",c="/seller/become-a-seller",s="/buyer/order-list",d=e=>{if(!e)return s;let t=Boolean(i.X.getItem("isSetSellerValue"));return t?l:s};t.ZP=function(){let[e,t]=(0,n.useState)(s),{user:r}=(0,o.aF)(),i=(0,a.p)(r);return(0,n.useEffect)(()=>{t(d(i))},[i]),{myKmongLink:e}}},50443:function(e,t,r){r.d(t,{H:function(){return l}});var n=r(32386),i=r(58913),o=r(67960);function a(){var e,t;let r=(e=["\n      background-color: ",";\n    "],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return a=function(){return r},r}let l=(0,i.Z)("div",{target:"e12ruiat0"})("width:100%;height:29px;border-radius:8px;display:flex;flex-direction:column;justify-content:center;padding:8px 12px;cursor:pointer;",e=>{let{active:t}=e;return t&&(0,n.css)(a(),o.Z.gray[200])})},15547:function(e,t,r){var n=r(91987),i=r(7923),o=r(7652);let a=e=>{let{type:t,keyword:r,action:n}=e;d({type:t,action:n,query:r}),(0,o.e)({keyword:r})},l=(e,t)=>0===e||0===t.length,c=e=>{let t=new Set(["ArrowUp","ArrowDown","Enter"]);return t.has(e)},s=e=>{let t,{prevIndex:r,direction:n,max:i,setSearchInputValue:o,lastSearchQuery:a,suggestions:l}=e,c="up"===n?r-1:r+1;return o(-1===(t=c<-1?i-1:c>=i?-1:c)?a:l[t].keyword),t},d=e=>{let{query:t,type:r,action:n}=e;i.eventSender.clickKnowhowSearch({query:t,type:r,action:n})};t.Z=function(e){let{data:t,query:r,setSearchInputValue:i,lastSearchQuery:o,searchInputRef:d,eventType:u}=e,[g,p]=(0,n.useState)(-1),h=()=>p(-1),f=(null==t?void 0:t.suggestions)&&(null==t?void 0:t.suggestions.length)>0,Z=(0,n.useCallback)((e,r)=>{var n,i,o;if(e.nativeEvent.isComposing)return;let l=(null!==(o=null===(n=d.current)||void 0===n?void 0:n.value)&&void 0!==o?o:"").trim();if(!l.length)return;if(null===(i=d.current)||void 0===i||i.blur(),-1===g){a({type:u,keyword:l,action:"submit_keyword"});return}if(void 0===t)return;let{keyword:c}=r[g];a({type:u,keyword:c,action:"click_recommend"})},[g,t,d,u]),v=(0,n.useCallback)(e=>{var n;let{suggestions:a}=t||{suggestions:[]},d=a.length;if(!c(e.key))return;let u={ArrowUp(){l(d,r)||p(e=>s({prevIndex:e,direction:"up",max:d,setSearchInputValue:i,lastSearchQuery:o,suggestions:a}))},ArrowDown(){l(d,r)||p(e=>s({prevIndex:e,direction:"down",max:d,setSearchInputValue:i,lastSearchQuery:o,suggestions:a}))},Enter(){Z(e,a)}};e.preventDefault(),null===(n=u[e.key])||void 0===n||n.call(u)},[t,r,i,o,Z]);return{handleKeyDown:v,activeItemIndex:g,setActiveItemIndex:p,resetActiveItemIndex:h,hasAutoComplete:f}}},38822:function(e,t,r){var n=r(91987),i=r(96498);t.Z=function(){let[e,t]=(0,n.useState)((0,i.cM)());(0,n.useEffect)(()=>{(0,i.vM)(e)},[e]);let r=e=>{e.stopPropagation(),e.preventDefault(),t([])},o=r=>{t(e.filter(e=>e!==r))};return{resetKnowhowHistory:r,handleRemoveKeyword:o,searchHistoryKeywords:null!=e?e:[],hasKnowhowHistory:e.length>0}}},7652:function(e,t,r){r.d(t,{e:function(){return o}});var n=r(69510),i=r.n(n);let o=e=>{let{keyword:t}=e;i().push({pathname:"/knowhow/search",query:{keyword:t}})}},96498:function(e,t,r){r.d(t,{cM:function(){return o},vM:function(){return c},vq:function(){return a}});var n=r(68426);let i="moneyPlusSearchHistory",o=()=>n.X.getItem(i)||[],a=e=>{let t=o(),r=[e,...l({keywords:t,newKeyword:e})].slice(0,6);c(r)},l=e=>{let{keywords:t,newKeyword:r}=e;return t.filter(e=>e!==r)},c=e=>{n.X.setItem(i,JSON.stringify(e))}},28259:function(e,t,r){r.d(t,{AI:function(){return i},BN:function(){return n},DD:function(){return Z},VJ:function(){return g},Vj:function(){return l},kq:function(){return o},or:function(){return a},p:function(){return u}});let n=e=>{switch(e){case"gigs":return"서비스";case"sellers":return"전문가";case"portfolios":return"포트폴리오";default:return""}},i=e=>"gigs"===e?"services":e,o={type:"gigs",page:1,sort:"_score",service:"web",metadata:{}},a={type:"portfolios",sort:"RELEVANCE"},l=e=>{let t={...e};return e.keyword&&(t.q=e.keyword),e.type&&(t.type=e.type),e.page&&(t.page=Number(e.page)),e.sort&&(t.sort=e.sort),e.is_company&&(t.is_company="true"===e.is_company),e.is_fast_reaction&&(t.is_fast_reaction="true"===e.is_fast_reaction),e.is_contactable&&(t.is_contactable="true"===e.is_contactable),e.is_prime&&(t.is_prime="true"===e.is_prime),e.has_portfolio&&(t.has_portfolio="true"===e.has_portfolio),e.is_resident&&(t.is_resident="true"===e.is_resident),e.category_id&&(t.category_id=e.category_id),e.skill_id&&(t.skill_id=e.skill_id),e.specialty_id&&(t.specialty_id=e.specialty_id),e.notSuggestSearch&&(t.notSuggestSearch="true"===e.notSuggestSearch),e.force_q&&(t.force_q=e.force_q),""===e.metadata&&(t.metadata={}),e.metadata&&(t.metadata=u({metadata:e.metadata})),e.portfolio_meta&&(t.portfolio_meta=u({metadata:e.portfolio_meta,type:"portfolios"})),e.ratings&&(t.ratings=e.ratings),e.min_price&&(t.min_price=Number(e.min_price)),e.max_price&&(t.max_price=Number(e.max_price)),e.is_retargeting&&delete t.is_retargeting,t},c=(e,t)=>{let[r,n]=t;return r in e?e[r].push(Number(n)):e[r]=[Number(n)],e},s=(e,t)=>{let[r,n]=t,i=n.split(",").map(e=>Number(e));return r in e?e[r].concat(i):e[r]=i,e},d=e=>"portfolios"===e?s:c,u=e=>{let{metadata:t,type:r}=e;return t?t.split("|").map(e=>e.split(":")).reduce(d(r),{}):{}},g=e=>Object.entries(e).reduce((t,r)=>{let[n,i]=r;return"metadata"===n&&e.metadata?{...t,metadata:Z({metadata:e.metadata})}:"portfolio_meta"===n&&e.portfolio_meta?{...t,portfolio_meta:Z({metadata:e.portfolio_meta,type:"portfolios"})}:{...t,[n]:String(i)}},{}),p=(e,t)=>{let[r,n]=t;return n.length?e.concat(n.map(e=>"".concat(r,":").concat(e)).join("|")):e},h=(e,t)=>{let[r,n]=t;return n.length?e.concat("".concat(r,":").concat(n.join(","))):e},f=e=>"portfolios"===e?h:p,Z=e=>{let{metadata:t={},type:r}=e;return Object.entries(t).reduce(f(r),[]).join("|")}},38880:function(e,t,r){r.d(t,{p:function(){return n}});let n=e=>null==e?void 0:e.is_seller_registration_agreed},61302:function(e,t,r){var n=r(91987),i=r(68426);let o=e=>{(0,n.useEffect)(()=>{i.X.setItem("currentServiceType",e)},[e])};t.Z=o}}]);
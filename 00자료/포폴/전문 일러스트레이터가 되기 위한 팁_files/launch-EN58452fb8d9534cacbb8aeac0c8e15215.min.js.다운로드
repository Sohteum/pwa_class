// For license information, see `https://assets.adobedtm.com/launch-EN58452fb8d9534cacbb8aeac0c8e15215.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2023-05-08T15:43:53Z",turbineBuildDate:"2023-02-22T20:37:26Z",turbineVersion:"27.5.0"},environment:{id:"EN58452fb8d9534cacbb8aeac0c8e15215",stage:"production"},dataElements:{"digitalData.marketingtech.diagnostic.stateChangepromise":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t="promise unresolved";return(e=new Promise((function(e){e("promise resolved")}))).unresolved=t,e}}},adobe_digitalData:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){var t,n,a,i,r,o=window;for(r=_satellite.getVar("adobe_copyLocation"),a=0,i=(n=["digitalData.page.pageInfo.siteSection","digitalData.page.pageInfo.timeParting","digitalData.diagnostic.page.aemImplementation","digitalData.previousPage.pageInfo.percentPageViewed","digitalData.adobe.experienceCloud.analytics","digitalData.adobe.experienceCloud.audienceManager","digitalData.adobe.experienceCloud.visitorService","digitalData.adobe.experienceCloud.target","digitalData.adobe.experienceCloud.libraryVersions","digitalData.primaryUser.primaryProfile.profileInfo","digitalData.campaign.external.primary","digitalData.campaign.onsite.salesforce","digitalData.campaign.onsite.cgen","digitalData.campaign.internal.salesforce","digitalData.campaign.external.social","digitalData.channel"]).length;a<i;a++)t=n[a],e._set(t,_satellite.getVar(t));e._get("initialPage.pageInfo.location")||e._set("initialPage.pageInfo.location",r(o)),e._get("initialPage.topFrameInfo.location")||e._set("initialPage.topFrameInfo.location",r(o.top))}}}},"digitalData.adobe.experienceCloud.analytics":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={},t={};return window.s_adobe&&(t.version=window.s_adobe.version),e.info=t,e}}},"digitalData.page.pageInfo.appCacheTiming":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window;if(void 0!==e.performance&&"undefined"!==e.performance.timing&&"undefined"!==e.performance.timing.domainLookupStart&&"undefined"!==e.performance.timing.fetchStart&&e.performance.timing.fetchStart>0){var t,n,a=e.performance.timing.fetchStart,i=e.performance.timing.domainLookupStart;return(t=new Promise((function(e){_satellite._poll((function(){e((i-a)/1e3>0&&(i-a)/1e3<10&&((i-a)/1e3).toFixed(2))}),[function(){if(i>0)return!0}],{timeout:8e3,interval:250})}))).unresolved=n,t}return!1}}},"digitalData.primaryUser.primaryProfile.profileInfo":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n="digitalData.primaryUser.primaryProfile.profileInfo",a=(window.location.hostname,"unknown");return _satellite._promises=_satellite._promises||{},(e=_satellite._promises[n])&&"unknown"!==digitalData._get("digitalData.primaryUser.primaryProfile.profileInfo.authState")||(t={authState:a,entitlementCreativeCloud:a,entitlementStatusCreativeCloud:a,returningStatus:_satellite._getNewRepeat(365,"s_nr",_satellite._getDomain())},(e=new Promise((function(e){var n,a,i,r,o,s,c=window,l=(c.adobeIMS,{}),d="",u=c.s_adobe,f=u&&u.visitor,p=(f&&f.getMarketingCloudVisitorID(),f&&f.getAudienceManagerLocationHint(),function(e){if(e){if(e.userId){var n=e.userId.indexOf("@");n>0&&(l.profileID=e.userId.substring(0,n),l.authID=l.profileID),l.fullProfileID=e.userId,l.fullAuthID=l.fullProfileID}if(e.authId){var a=e.authId.indexOf("@");a>0&&(l.authID=e.authId.substring(0,a)),l.fullAuthID=e.authId}if(l.adobeIMSUserProfile={},e.account_type&&(l.adobeIMSUserProfile.account_type=e.account_type),e.preferred_languages&&(l.adobeIMSUserProfile.preferred_languages=e.preferred_languages),e.countryCode&&(l.adobeIMSUserProfile.countryCode=e.countryCode),e.serviceAccounts)for(l.adobeIMSUserProfile.serviceAccounts=[],i=0,r=e.serviceAccounts.length;i<r;i++)o=e.serviceAccounts[i],l.adobeIMSUserProfile.serviceAccounts.push({serviceCode:o.serviceCode,serviceStatus:o.serviceStatus,serviceLevel:o.serviceLevel});e.toua&&(l.adobeIMSUserProfile.toua=e.toua)}if(d&&-1!==d.indexOf("creative_cloud")&&c.adobeIMS.isSignedInUser())if(e&&e.serviceAccounts&&e.serviceAccounts.length>0){for(i=0,r=e.serviceAccounts.length;i<r;i++)if("creative_cloud"===(o=e.serviceAccounts[i]).serviceCode){"CS_LVL_2"===o.serviceLevel?l.entitlementCreativeCloud="paid":"CS_LVL_1"===o.serviceLevel?l.entitlementCreativeCloud="free":l.entitlementCreativeCloud="notEntitled",o.serviceStatus&&(l.entitlementStatusCreativeCloud=o.serviceStatus);break}l.entitlementCreativeCloud||(l.entitlementCreativeCloud="notEntitled"),l.entitlementStatusCreativeCloud||(l.entitlementStatusCreativeCloud="none")}else l.entitlementCreativeCloud="notEntitled",l.entitlementStatusCreativeCloud="none";else l.entitlementCreativeCloud="unknown",l.entitlementStatusCreativeCloud="unknown";l.returningStatus=t.returningStatus});a=function(){var t=c.adobeIMS.getUserProfile()?c.adobeIMS.getUserProfile():"",n=!!c.adobeIMS.isSignedInUser()&&c.adobeIMS.isSignedInUser();d=c.adobeIMS.getScope()?c.adobeIMS.getScope():"",n?(l.authState="authenticated",_satellite.track("signedInState")):l.authState="loggedOut",p(t),e(l)},s=function(){c.adobeIMS&&c.adobeIMS.adobeIdData&&c.adobeIMS.adobeIdData.scope&&(d=c.adobeIMS.adobeIdData.scope),c.adobeIMS.isSignedInUser()?l.authState="authenticated":l.authState="loggedOut",c.adobeIMS.getProfile().then((function(t){p(t),e(l)}))},n=function(){c.adobeIMS?c.adobeIMS.version&&-1!==c.adobeIMS.version.indexOf("v2-")?s():c.adobeIMS.onReadyAlreadyCalled?a():c.adobeIMS.addEventListener&&c.adobeIMS.Events&&c.adobeIMS.Events.READY?c.adobeIMS.addEventListener(c.adobeIMS.Events.READY,a):_satellite._poll(a,[function(){return c.adobeIMS.onReadyAlreadyCalled}],{timeout:1e4,interval:500}):e(t)},_satellite._poll(n,[function(){return!!c.adobeIMS}],{timeout:2e3,interval:250,callOnTimeout:!0})}))).unresolved=t,_satellite._promises[n]=e),e}}},adobe_pageNameLogic:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){e=e||window.location;var t,n,a="",i=document.title,r=e.pathname,o=e.hostname.toLowerCase(),s="",c=[],l="",d=[".aspx",".php",".html"],u=_satellite.getVar("adobe_urlRegions");if(-1!==i.indexOf("page cannot be found"))a="";else{for(s=r,l=(l=o).replace("www.",""),t=0,n=d.length;t<n;t++)s=s.replace(d[t],"");for(t=(c=s.split("/")).length-1;t>=0;t--)""===c[t]&&c.splice(t,1);var f=[];for(t=0;t<c.length;t++)u[c[t].toLowerCase()]&&f.push(c[t]);a=l+(""===(s=(c=c.filter((function(e){return-1==f.indexOf(e)}))).join(":"))?"":":"+s)}return"IMS"===digitalData._get("page.pageInfo.siteSection")||"InApp:NGL"===digitalData._get("page.pageInfo.siteSection")||"echocdn.com"===digitalData._get("page.pageInfo.siteSection")||"AdobeSymposiumLiveStream2019"===digitalData._get("page.pageInfo.template")?digitalData._get("page.pageInfo.pageName"):"account.adobe.com"===digitalData._get("page.pageInfo.siteSection")?_satellite.getVar("adobe_AM_pageNameLogic")(a):a}}}},"digitalData.campaign.onsite.cgen":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t={};return _satellite._getQueryParam("promoid")&&(e={id:_satellite._getQueryParam("promoid"),name:"CGen - promoid",queryParameter:"promoid"}),e&&e.id&&(t.campaignInfo=e),t}}},analytics_account_adbadobenonacdc:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n,a,i,r=window,o=r.location.hostname;if(e=(n=function(e){return-1!==o.indexOf(e)})("stage-video.tv.adobe.com")||n("stag")?"adbadobenonacdcqa,amc.global.dev":"adbadobenonacdcprod,adbadobeprototype,amc.global.prod",digitalData._get("digitalData.initialPage.topFrameInfo.location.href")?a=digitalData._get("digitalData.initialPage.topFrameInfo.location.href"):digitalData._get("digitalData.video.videoInfo.videoParentPageUrl")&&(a=digitalData._get("digitalData.video.videoInfo.videoParentPageUrl")),a&&-1!==a.indexOf("/max")&&(-1!==a.indexOf("/stage")?e+=",adbmaxqa":e+=",adbmaxprod"),(i=digitalData._get("digitalData.video.videoInfo.videoParentHost"))&&("business.stage.adobe.com"===i&&(e+=",adbadobedxqa"),"business.adobe.com"===i&&(e+=",adbadobedxprod")),r.marketingtech&&r.marketingtech.adobe&&r.marketingtech.adobe.analytics&&r.marketingtech.adobe.analytics.additionalAccounts&&(e+=(0===(t=r.marketingtech.adobe.analytics.additionalAccounts).indexOf(",")?"":",")+t),(t=_satellite._getQueryParam("marketingtech.adobe.analytics.additionalAccounts"))&&(e+=(0===t.indexOf(",")?"":",")+t),e){e=e.replace(/[ ]/g,"").split(",");for(var s=[],c=0;c<e.length;c++)-1==s.indexOf(e[c])&&s.push(e[c]);e=s.join(",")}return e}}},analytics_pageload_abort:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n=window.location,a=!1;return e=n.hostname,((t=function(t){return-1!==e.indexOf(t)})("app-local.hollywoodstudios.corp.adobe.com")||t("dev.hollywoodstudios.corp.adobe.com")||t("dev2.hollywoodstudios.corp.adobe.com")||t("cchome-dev.adobe.io")||t("dev.creativecloud.adobe.com")||t("dev4.creativecloud.adobe.com")||t("dev.cc.adobe.com")||t("dev.cchome.adobe.com")||t("dev2.cchome.adobe.com")||t("dev3.cchome.adobe.com")||t("cchome-stage.adobe.io")||t("stage.creativecloud.adobe.com")||t("stage.cc.adobe.com")||t("stage.cchome.adobe.com")||t("stage2.cchome.adobe.com")||t("cchome.adobe.io")||t("creativecloud.adobe.com")||t("cc.adobe.com")||t("r.cchome.adobe.com")||t("cchome.adobe.com")||t("stage.account.adobe.com")||t("account.adobe.com")||t("workflow-stage.licenses.adobe.com")||t("workflow-dev.licenses.adobe.com")||t("workflow.licenses.adobe.com")||t("helpx.stage")||t("helpx.dev")||t("helpx.adobe.com")||t("video.tv.adobe.com")||"auth.services.adobe.com"===digitalData._get("page.pageInfo.location.hostname")||"auth-stg1.services.adobe.com"===digitalData._get("page.pageInfo.location.hostname"))&&(a=!0),a}}},"digitalData.page.pageInfo.language":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if(digitalData._get("digitalData.page.pageInfo.language"))return digitalData._get("digitalData.page.pageInfo.language").replace("-","_")}}},"digitalData.channel":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={},t={},n={};return _satellite._getQueryParam("mv")&&(n.marketingVehicle=_satellite._getQueryParam("mv")),_satellite._getQueryParam("mv2")&&(n.marketingVehicleDetail=_satellite._getQueryParam("mv2")),n&&n.marketingVehicle&&(t.channelInfo=n,e.primary=t,e.list=[],e.list.push(t)),e}}},adobe_urlRegions:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{africa:1,at:1,au:1,be:1,be_en:1,be_fr:1,be_nl:1,bg:1,br:1,ca:1,ca_es:1,ca_fr:1,ch:1,ch_de:1,ch_fr:1,ch_it:1,cin:1,cis_en:1,cis_ru:1,cn:1,cs:1,cs_cz:1,cy:1,cy_en:1,cz:1,da:1,da_dk:1,de:1,de_de:1,dk:1,ee:1,eeurope:1,en:1,en_gb:1,en_us:1,es:1,es_es:1,eu_es:1,fi:1,fi_fi:1,fr:1,fr_fr:1,gr:1,gr_en:1,hk:1,hk_en:1,hk_zh:1,hr:1,hr_hr:1,hu:1,hu_hu:1,ie:1,il:1,il_en:1,il_he:1,in:1,it:1,it_it:1,ja:1,ja_jp:1,jp:1,ko:1,ko_kr:1,kr:1,la:1,lt:1,lu:1,lu_de:1,lu_en:1,lu_fr:1,lv:1,mena:1,mena_ar:1,mena_en:1,mena_fr:1,mt:1,mx:1,na:1,nb:1,nb_no:1,nl:1,nl_nl:1,no:1,nz:1,pl:1,pl_pl:1,pt:1,pt_br:1,ro:1,ro_ro:1,rs:1,ru:1,ru_ru:1,se:1,sea:1,si:1,sk:1,sk_sk:1,sl_si:1,sv:1,sv_se:1,tr:1,tr_tr:1,tw:1,tw_cn:1,ua:1,uk:1,uk_ua:1,us:1,za:1,zh_cn:1,zh_tw:1,"zh-tw":1}}}},adobe_linkInternalFilters:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["acrobat.com","acrobatclub.com","acrobatusers.com","adobe-createnow.jp","adobe-creativity.com","adobe-designforimpact.com","adobe-digital-marketing.com","adobe-edu.ru","adobe-education.com","adobe-eseminars.de","adobe-events-france.com","adobe-html5.jp","adobe-max.com","adobe-mobile.co.uk","adobe-mobile.com","adobe-mobile.de","adobe-mobile.fr","adobe-newsroom.de","adobe-onlineservices.com","adobe-pepe.jp","adobe-promo.jp","adobe-ria.jp","adobe-solutions.de","adobe-target.com","adobe.","adobeacrobat.com","adobeaemcloud.com","adobeawards.com","adobecc.com","adobeceea.com","adobecoopmdf.com","adobecqcloud.com","adobecqms.net","adobecreate.co.uk","adobecreatenow-apac.com","adobecreativecloud.com","adobecreativesuite.it","adobecs2.com","adobecs3.com","adobedigitalmarketing.co.uk","adobedms.pl","adobeexchange.com","adobeeventsonline.com","adobeformscentral.com","adobeforums.com","adobegeneration.anz.com","adobegeneration.co.uk","adobegeneration.com","adobegov.com","adobegunlugu.com","adobeindia.com","adobekb.com","adobeknowhow.com","adobeku.com","adobeleanprint.com","adobelr.com","adobemarketing.co.uk","adobemarketplace.com","adobeme.com","adobeparfait.com","adobepartnernews.com","adobeprerelease.com","adoberatingreviews.webqamapps.com","adobeshinethissummer.com","adobestudentlicensing.at","adobestudentlicensing.ch","adobestudentlicensing.de","adobesunbreak.com","adobeawards.net","adobeanalyticspro.com","adobetargetpro.com","adobemarketingpro.com","adobecampaignpro.com","adobemediaoptimizerpro.com","adobeexperiencemanagerpro.com","adobesystems.","adobetraining.pro","appspot.com","behance.net","businesscatalyst.com","canaladobe.com","ccpsx.com","channelconduit.com","cmo.com","cmoconnect.com","douwriteright.com","dpssummit.com","echosign.com","elements-service.com","flex.org","fotolia.com","fotolia.net","gocreate.pro","hellodigitals.it","ihiwebhost.com","ihidevelopment.com","insideadobesummit.com","jaknapdf.cz","javascript:","lightroomcomp.jp","loveacrobat.co.za","mailto:","macromedia.","mediacenter-adobe.com","mixamo.com","myportfolio.com","adobestock.com","omniture.com","openscreenproject.org","photoshop.com","project1324.com","rhapsodyconcept.com.sg","runaware.com","scene7.com","tel:","typekit.com","withmalala.com","withmalala.org","adobesignaturemoments.com","worldsecuresystems.com","magento.com","marketo.com","adobesymposium2019-in.com","../"].join(",")}}},"digitalData.adobe.experienceCloud.libraryVersions":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("digitalData.adobe.experienceCloud.analytics"),t="Launch"+_satellite.buildInfo.buildDate,n=_satellite.getVar("digitalData.adobe.experienceCloud.audienceManager"),a=_satellite.getVar("digitalData.adobe.experienceCloud.visitorService"),i=_satellite.getVar("digitalData.adobe.experienceCloud.target");return(e&&e.info&&e.info.version?e.info.version+"v":"No Value")+"|"+t+"|"+(n&&n.info&&n.info.version?n.info.version+"v":"No Value")+"|"+(a&&a.info&&a.info.version?a.info.version+"v":"No Value")+"|"+(i&&i.info&&i.info.version?i.info.version+"v":"No Value")}}},adobe_copyLocation:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){var t=e.location;return{href:t.href,origin:t.origin,protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,hash:t.hash}}}}},"digitalData.diagnostic.page.aemImplementation":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t,n="digitalData.page.pageInfo.technicalData.aemImplementation";return _satellite._promises=_satellite._promises||{},(e=_satellite._promises[n])||((e=new Promise((function(e){_satellite._poll((function(){void 0!==window.dexter?e("dexter"):e(!1)}),[function(){if(void 0!==window.dexter)return!0}],{timeout:3e3,interval:250,callOnTimeout:!0})}))).unresolved=t,_satellite._promises[n]=e),e}}},"digitalData.page.pageInfo.performanceTiming":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window;if(void 0!==e.performance&&"undefined"!==e.performance.timing&&"undefined"!==e.performance.timing.loadEventEnd&&"undefined"!==e.performance.timing.navigationStart&&e.performance.timing.navigationStart>0){var t,n,a={};return(t=new Promise((function(t){_satellite._poll((function(){(e.performance.timing.loadEventEnd-e.performance.timing.navigationStart)/1e3>0&&(e.performance.timing.loadEventEnd-e.performance.timing.navigationStart)/1e3<10?((e.performance.timing.fetchStart-e.performance.timing.navigationStart)/1e3>0&&(e.performance.timing.fetchStart-e.performance.timing.navigationStart)/1e3<10&&(a.redirectTiming=((e.performance.timing.fetchStart-e.performance.timing.navigationStart)/1e3).toFixed(2)),(e.performance.timing.domainLookupStart-e.performance.timing.fetchStart)/1e3>0&&(e.performance.timing.domainLookupStart-e.performance.timing.fetchStart)/1e3<10&&(a.appCacheTiming=((e.performance.timing.domainLookupStart-e.performance.timing.fetchStart)/1e3).toFixed(2)),(e.performance.timing.domainLookupEnd-e.performance.timing.domainLookupStart)/1e3>0&&(e.performance.timing.domainLookupEnd-e.performance.timing.domainLookupStart)/1e3<10&&(a.dnsTiming=((e.performance.timing.domainLookupEnd-e.performance.timing.domainLookupStart)/1e3).toFixed(2)),(e.performance.timing.connectEnd-e.performance.timing.connectStart)/1e3>0&&(e.performance.timing.connectEnd-e.performance.timing.connectStart)/1e3<10&&(a.tcpTiming=((e.performance.timing.connectEnd-e.performance.timing.connectStart)/1e3).toFixed(2)),(e.performance.timing.responseStart-e.performance.timing.connectEnd)/1e3>0&&(e.performance.timing.responseStart-e.performance.timing.connectEnd)/1e3<10&&(a.requestTiming=((e.performance.timing.responseStart-e.performance.timing.connectEnd)/1e3).toFixed(2)),(e.performance.timing.responseEnd-e.performance.timing.responseStart)/1e3>0&&(e.performance.timing.responseEnd-e.performance.timing.responseStart)/1e3<10&&(a.responseTiming=((e.performance.timing.responseEnd-e.performance.timing.responseStart)/1e3).toFixed(2)),(e.performance.timing.loadEventStart-e.performance.timing.domLoading)/1e3>0&&(e.performance.timing.loadEventStart-e.performance.timing.domLoading)/1e3<10&&(a.processingTiming=((e.performance.timing.loadEventStart-e.performance.timing.domLoading)/1e3).toFixed(2)),(e.performance.timing.loadEventEnd-e.performance.timing.loadEventStart)/1e3>0&&(e.performance.timing.loadEventEnd-e.performance.timing.loadEventStart)/1e3<10&&(a.onLoadTiming=((e.performance.timing.loadEventEnd-e.performance.timing.loadEventStart)/1e3).toFixed(2)),a.totalPageLoadTime=((e.performance.timing.loadEventEnd-e.performance.timing.navigationStart)/1e3).toFixed(2),t(a)):t(!1)}),[function(){if(e.performance.timing.loadEventEnd>0)return!0}],{timeout:8e3,interval:250})}))).unresolved=n,t}return!1}}},"digitalData.page.pageInfo.timeSpentOnPage":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return Math.round(_satellite._timeSpentOnPage.getTimeSpent()/100)/10}}},"s_adbadobenonacdc.marketingCloudVisitorID":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e;return(e=new Promise((function(e){var t=function(){e(s_adbadobenonacdc.marketingCloudVisitorID)};s_adbadobenonacdc&&s_adbadobenonacdc.marketingCloudVisitorID?t():_satellite._poll(t(),[function(){return s_adbadobenonacdc&&s_adbadobenonacdc.marketingCloudVisitorID}],{timeout:1e4,interval:500})}))).unresolved="",e}}},adobe_linkDownloadFileTypes:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["adpp","air","apk","avi","bin","cptx","css","csv","dmg","doc","docx","eps","exe","flv","hqx","jar","jpg","js","m4v","mov","mp3","mp4","mpg","msi","mxp","pdf","png","ppt","pptx","rar","svg","swc","tab","tbz2","txt","vsd","vxd","wav","wma","wmv","xls","xlsx","xml","zip","zxp","url"].join(",")}}},"digitalData.page.pageInfo.performanceTiming.unload":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window;if(void 0!==e.performance&&"undefined"!==e.performance.timing&&"undefined"!==e.performance.timing.loadEventEnd&&"undefined"!==e.performance.timing.navigationStart&&e.performance.timing.navigationStart>0){var t={};return e.performance.timing.loadEventEnd>0&&(e.performance.timing.loadEventEnd-e.performance.timing.navigationStart)/1e3>0&&(e.performance.timing.loadEventEnd-e.performance.timing.navigationStart)/1e3<100&&((e.performance.timing.fetchStart-e.performance.timing.navigationStart)/1e3>0&&(e.performance.timing.fetchStart-e.performance.timing.navigationStart)/1e3<15&&(t.redirectTiming=((e.performance.timing.fetchStart-e.performance.timing.navigationStart)/1e3).toFixed(2)),(e.performance.timing.domainLookupStart-e.performance.timing.fetchStart)/1e3>0&&(e.performance.timing.domainLookupStart-e.performance.timing.fetchStart)/1e3<15&&(t.appCacheTiming=((e.performance.timing.domainLookupStart-e.performance.timing.fetchStart)/1e3).toFixed(2)),(e.performance.timing.domainLookupEnd-e.performance.timing.domainLookupStart)/1e3>0&&(e.performance.timing.domainLookupEnd-e.performance.timing.domainLookupStart)/1e3<15&&(t.dnsTiming=((e.performance.timing.domainLookupEnd-e.performance.timing.domainLookupStart)/1e3).toFixed(2)),(e.performance.timing.connectEnd-e.performance.timing.connectStart)/1e3>0&&(e.performance.timing.connectEnd-e.performance.timing.connectStart)/1e3<15&&(t.tcpTiming=((e.performance.timing.connectEnd-e.performance.timing.connectStart)/1e3).toFixed(2)),(e.performance.timing.responseStart-e.performance.timing.connectEnd)/1e3>0&&(e.performance.timing.responseStart-e.performance.timing.connectEnd)/1e3<15&&(t.requestTiming=((e.performance.timing.responseStart-e.performance.timing.connectEnd)/1e3).toFixed(2)),(e.performance.timing.responseEnd-e.performance.timing.responseStart)/1e3>0&&(e.performance.timing.responseEnd-e.performance.timing.responseStart)/1e3<15&&(t.responseTiming=((e.performance.timing.responseEnd-e.performance.timing.responseStart)/1e3).toFixed(2)),(e.performance.timing.loadEventStart-e.performance.timing.domLoading)/1e3>0&&(e.performance.timing.loadEventStart-e.performance.timing.domLoading)/1e3<15&&(t.processingTiming=((e.performance.timing.loadEventStart-e.performance.timing.domLoading)/1e3).toFixed(2)),(e.performance.timing.loadEventEnd-e.performance.timing.loadEventStart)/1e3>0&&(e.performance.timing.loadEventEnd-e.performance.timing.loadEventStart)/1e3<15&&(t.onLoadTiming=((e.performance.timing.loadEventEnd-e.performance.timing.loadEventStart)/1e3).toFixed(2)),t.totalPageLoadTime=((e.performance.timing.loadEventEnd-e.performance.timing.navigationStart)/1e3).toFixed(2),t)}return!1}}},marketingCloudOrganizationID:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"9E1005A551ED61CA0A490D45@AdobeOrg"}}},"digitalData.page.pageInfo.timeParting":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite._getTimeParting()?_satellite._getTimeParting("n","-8"):"";return e[2]+" - "+e[1]}}},visitorService_idSyncDisableSyncs:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!_satellite.getVar("audienceManager_enable")}}},"digitalData.campaign.onsite.salesforce":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t={};return _satellite._getQueryParam("s_osc")&&(e={id:_satellite._getQueryParam("s_osc"),name:"Salesforce - s_osc",queryParameter:"s_osc"}),e&&e.id&&(t.campaignInfo=e),t}}},"digitalData.adobe.experienceCloud.visitorService":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={},t={},n=_satellite.getVisitorId();return n&&(t.version=n.version),e.info=t,e}}},adobe_parseQueryParams:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){var t,n,a,i,r,o={};for(r=function(e){var t=e||"";try{t=decodeURIComponent(e)}catch(e){}return t},0===e.indexOf("?")&&(e=e.substring(1)),a=0,i=(t=e.split("&")).length;a<i;a++)(n=t[a].split("="))[0]&&(o[r(n[0])]=r(n[1]));return o}}}},"digitalData.page.pageInfo.siteSection":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.location.hostname.toLowerCase(),t=digitalData._get("digitalData.page.pageInfo.siteSection");return t&&t===document.title&&(t=e.replace("www.","")),t}}},"digitalData.page.pageInfo.redirectTiming":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window;if(void 0!==e.performance&&"undefined"!==e.performance.timing&&"undefined"!==e.performance.timing.fetchStart&&"undefined"!==e.performance.timing.navigationStart&&e.performance.timing.navigationStart>0){var t,n,a=e.performance.timing.navigationStart,i=e.performance.timing.fetchStart;return(t=new Promise((function(e){_satellite._poll((function(){e((i-a)/1e3>0&&(i-a)/1e3<10&&((i-a)/1e3).toFixed(2))}),[function(){if(i>0)return!0}],{timeout:8e3,interval:250})}))).unresolved=n,t}return!1}}},"digitalData.adobe.experienceCloud.audienceManager":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window,t={},n={},a=_satellite.getVisitorId();return e.DIL&&e.DIL.version&&(n.version=e.DIL.version),a&&(n.locationHint=a.getLocationHint()),t.info=n,t}}},"digitalData.previousPage.pageInfo.percentPageViewed":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=window.location;return _satellite._getPercentPageViewed(e.hostname+e.pathname)[1]}}},"digitalData.evidon.notice.consentIsGiven":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t=window,n="digitalData.evidon.notice.consentIsGiven",a=!1;return _satellite._promises=_satellite._promises||{},(e=_satellite._promises[n])||(e=new Promise((function(e){_satellite.getVar("isConsentGiven")?e(!0):t.addEventListener("adobePrivacy:PrivacyConsent",(function(){e(!0)})),setTimeout((function(){e(a)}),5e3)})),_satellite._promises[n]=e,e.unresolved=a),e}}},isConsentGiven:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e,t=window,n=t.evidon,a=(t.adobePrivacy,{3:1,4:1,5:1,6:1,7:1,8:1,9:1,15:1,16:1,18:1,19:1,20:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1,33:1,34:1,35:1,36:1,37:1,61:1});return n&&(n.location?e=n.location:n.notice&&n.notice.country&&(e=n.notice.country)),!!(-1!==document.cookie.indexOf("_evidon_consent_cookie=")||n&&n.notice&&n.notice.consentIsGiven||e&&e.id&&!a[e.id])}}},previousPermissions:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={aa:!1,aam:!1,adcloud:!1,campaign:!1,ecid:!1,livefyre:!1,mediaaa:!1,target:!1};return _satellite.getVar("enable_performanceCookie")&&(e={aa:!0,aam:!0,adcloud:!0,campaign:!0,ecid:!0,livefyre:!0,mediaaa:!0,target:!0}),e}}},preOptIn:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{aa:!0,aam:!0,adcloud:!0,campaign:!0,ecid:!0,livefyre:!0,mediaaa:!0,target:!0}}}},enable_performanceCookie:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){window;var e=!1,t=_satellite.cookie.get("OptanonConsent"),n=function(){return-1!==t.indexOf("C0002:1")},a=_satellite.cookie.get("OptanonChoice");return _satellite.getVar("isConsentGiven")||!t?e=!0:a?("1"===a&&(e=!0),"2"!==a&&"3"!==a||(e=n())):t&&(n()||-1!==t.indexOf("interactionCount=0")||-1!==t.indexOf("interactionCount=1"))&&(e=!0),e}}}},extensions:{core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd8fbd515597f4aa19f6f77822ebe6d54/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var a=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},a=function(e,t){return t&&n(e)?e.toLowerCase():e},i=function(e){return t(e)?String(e):e},r=function(e){return n(e)?Number(e):e},o=function(e){return function(t,a,r){return t=i(t),a=i(a),n(t)&&n(a)&&e(t,a,r)}},s=function(e){return function(n,a){return n=r(n),a=r(a),t(n)&&t(a)&&e(n,a)}},c=function(e){return function(t,n,i){return e(a(t,i),a(n,i))}},l={equals:c((function(e,t){return e==t})),doesNotEqual:function(){return!l.equals.apply(null,arguments)},contains:o(c((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!l.contains.apply(null,arguments)},startsWith:o(c((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!l.startsWith.apply(null,arguments)},endsWith:o(c((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!l.endsWith.apply(null,arguments)},matchesRegex:o((function(e,t,n){return new RegExp(t,n?"i":"").test(e)})),doesNotMatchRegex:function(){return!l.matchesRegex.apply(null,arguments)},lessThan:s((function(e,t){return e<t})),lessThanOrEqual:s((function(e,t){return e<=t})),greaterThan:s((function(e,t){return e>t})),greaterThanOrEqual:s((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return l[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,n,a){"use strict";var i={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var n=i[e];if(n){var r={identifier:e,detail:t};n.forEach((function(e){e(r)}));var o=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&o.push(t),a.logger.log.apply(a.logger,o)}else a.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var n=i[e.identifier];n||(n=i[e.identifier]=[]),n.push(t)}}},"core/src/lib/events/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){e.source(t)}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,n){"use strict";var a=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerPageBottomTrigger(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,a){"use strict";var i,r,o,s=n("@adobe/reactor-document"),c=n("@adobe/reactor-promise"),l=n("./helpers/decorateCode"),d=n("./helpers/loadCodeSequentially"),u=n("../../../node_modules/postscribe/dist/postscribe"),f=n("./helpers/unescapeHtmlCode"),p=a.getExtensionSettings(),m=(i=function(e){u(s.body,e,{beforeWriteToken:function(e){var t=e.tagName.toLowerCase();return p.cspNonce&&"script"===t&&(e.attrs.nonce=p.cspNonce),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=f(e.attrs[t])})),e.src&&(e.src=f(e.src))),e},error:function(e){a.logger.error(e.msg)}})},r=[],o=function(){if(s.body)for(;r.length;)i(r.shift());else setTimeout(o,20)},function(e){r.push(e),o()}),h=function(){if(s.currentScript)return s.currentScript.async;for(var e=s.querySelectorAll("script"),t=0;t<e.length;t++){var n=e[t];if(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/.test(n.src))return n.async}return!0}();e.exports=function(e,t){var n,i={settings:e,event:t},r=i.settings.source;if(r)return i.settings.isExternal?d(r).then((function(e){return e?(n=l(i,e),m(n.code),n.promise):c.resolve()})):(n=l(i,r),
h||"loading"!==s.readyState?m(n.code):s.write&&!1===a.propertySettings.ruleComponentSequencingEnabled?s.write(n.code):m(n.code),n.promise)}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,n){"use strict";var a=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerWindowLoadedTrigger(t)}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-window"),i=n("@adobe/reactor-document"),r=-1!==a.navigator.appVersion.indexOf("MSIE 10"),o="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",l=[c,s,o],d=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};l.forEach((function(e){u[e]=[]}));var f=function(e,t){l.slice(0,m(e)+1).forEach((function(e){h(t,e)}))},p=function(){return"complete"===i.readyState?o:"interactive"===i.readyState?r?null:s:void 0},m=function(e){return l.indexOf(e)},h=function(e,t){u[t].forEach((function(t){g(e,t)})),u[t]=[]},g=function(e,t){var n=t.trigger,a=t.syntheticEventFn;n(a?a(e):null)};a._satellite=a._satellite||{},a._satellite.pageBottom=f.bind(null,c),i.addEventListener("DOMContentLoaded",f.bind(null,s),!0),a.addEventListener("load",f.bind(null,o),!0),a.setTimeout((function(){var e=p();e&&f(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:d.bind(null,i)})},registerWindowLoadedTrigger:function(e){u[o].push({trigger:e,syntheticEventFn:d.bind(null,a)})}}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n){"use strict";var a=n("./decorators/decorateGlobalJavaScriptCode"),i=n("./decorators/decorateNonGlobalJavaScriptCode"),r={javascript:function(e,t){return e.settings.global?a(e,t):i(e,t)},html:n("./decorators/decorateHtmlCode")};e.exports=function(e,t){return r[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise"),i=n("./getSourceByUrl"),r=a.resolve();e.exports=function(e){var t=new a((function(t){var n=i(e);a.all([n,r]).then((function(e){var n=e[0];t(n)}))}));return r=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var n,a;n=this,a=function(){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var i=a(n(1));e.exports=i.default},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function r(){}function o(){var e=m.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,n){function a(e){e=n.beforeWrite(e),h.write(e),n.afterWrite(e)}(h=new d.default(e,n)).id=p++,h.name=n.name||h.id,c.streams[h.name]=h;var i=e.ownerDocument,s={close:i.close,open:i.open,write:i.write,writeln:i.writeln};l(i,{close:r,open:r,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(t.join("")+"\n")}});var u=h.win.onerror||r;return h.win.onerror=function(e,t,a){n.error({msg:e+" - "+t+": "+a}),u.apply(h.win,[e,t,a])},h.write(t,(function(){l(i,s),h.win.onerror=u,n.done(),h=null,o()})),h}function c(e,t,n){if(u.isFunction(n))n={done:n};else if("clear"===n)return m=[],h=null,void(p=0);n=u.defaults(n,f);var a=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){a.stream?a.stream.abort():a[1]=r}},n.beforeEnqueue(a),m.push(a),h||o(),e.postscribe}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=c;var d=i(n(2)),u=a(n(4)),f={afterAsync:r,afterDequeue:r,afterStreamStart:r,afterWrite:r,autoFix:!0,beforeEnqueue:r,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:r,error:function(e){throw new Error(e.msg)},releaseAsync:!1},p=0,m=[],h=null;l(c,{streams:{},queue:m,WriteStream:d.default})},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n=f+t,a=e.getAttribute(n);return d.existy(a)?String(a):a}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=f+t;d.existy(n)&&""!==n?e.setAttribute(a,n):e.removeAttribute(a)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=i(n(3)),d=a(n(4)),u=!1,f="data-ps-",p="ps-style",m="ps-script",h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new l.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();d.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,a=void 0,i=[];(t=this.parser.readToken())&&!(n=d.isScript(t))&&!(a=d.isStyle(t));)(t=this.options.beforeWriteToken(t))&&i.push(t);i.length>0&&this._writeStaticTokens(i),n&&this._handleScriptToken(t),a&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],a=[],i=[],r=e.length,o=0;o<r;o++){var s=e[o],c=s.toString();if(n.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var l=t++;a.push(c.replace(/(\/?>)/," "+f+"id="+l+" $1")),s.attrs.id!==m&&s.attrs.id!==p&&i.push("atomicTag"===s.type?"":"<"+s.tagName+" "+f+"proxyof="+l+(s.unary?" />":">"))}}else a.push(c),i.push("endTag"===s.type?c:"")}return{tokens:e,raw:n.join(""),actual:a.join(""),proxy:i.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];d.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!o(e,"proxyof")){n&&(this.actuals[o(e,"id")]=e,s(e,"id"));var a=e.parentNode&&o(e.parentNode,"proxyof");a&&this.actuals[a].appendChild(e)}t.unshift.apply(t,d.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,p),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),d.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),a=this._shouldRelease(n),i=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,a?i:function(){t(),i()}));try{this._insertCursor(n,m),n.src&&!a||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return d.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function a(){n(),null!=t&&t(),t=null}function i(e){n(),o(e),null!=t&&t(),t=null}function r(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var o=this.options.error;r(e,"load"),r(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){i({msg:"onload handler failed "+t+" @ "+e.src})}a()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void i({msg:"onerror handler failed "+t+" @ "+e.src})}i({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&a()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=h},function(e){var t;t=function(){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var i=a(n(1));e.exports=i.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=i(n(2)),s=i(n(3)),c=a(n(6)),l=n(5),d={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.stream=n;var i=!1,s={};for(var l in o)o.hasOwnProperty(l)&&(a.autoFix&&(s[l+"Fix"]=!0),i=i||s[l+"Fix"]);i?(this._readToken=(0,c.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in d)if(d.hasOwnProperty(e)&&d[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var f in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,l.escapeQuotes)(e[n],null));return t},u.supports=o,o)o.hasOwnProperty(f)&&(u.browserHasFlaw=u.browserHasFlaw||!o[f]&&f)},function(e,t){"use strict";t.__esModule=!0;var n=!1,a=!1,i=window.document.createElement("div");try{var r="<P><I></P></I>";i.innerHTML=r,t.tagSoup=n=i.innerHTML!==r}catch(e){t.tagSoup=n=!1}try{i.innerHTML="<P><i><P></P></i></P>",t.selfClose=a=2===i.childNodes.length}catch(e){t.selfClose=a=!1}i=null,t.tagSoup=n,t.selfClose=a},function(e,t,n){"use strict";function a(e){var t=e.indexOf("-->");if(t>=0)return new l.CommentToken(e.substr(4,t-1),t+3)}function i(e){var t=e.indexOf("<");return new l.CharsToken(t>=0?t:e.length)}function r(e){var t,n,a;if(-1!==e.indexOf(">")){var i=e.match(d.startTag);if(i){var r=(t={},n={},a=i[2],i[2].replace(d.attr,(function(e,i){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[i]=arguments[2]||arguments[3]||arguments[4]||d.fillAttr.test(i)&&i||"":t[i]="",a=a.replace(e,"")})),{v:new l.StartTagToken(i[1],i[0].length,t,n,!!i[3],a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===r?"undefined":c(r)))return r.v}}}function o(e){var t=r(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var a=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(a)return new l.AtomicTagToken(t.tagName,a[0].length+t.length,t.attrs,t.booleanAttrs,a[1])}}}function s(e){var t=e.match(d.endTag);if(t)return new l.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=a,t.chars=i,t.startTag=r,t.atomicTag=o,t.endTag=s;var l=n(4),d={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var i=n(5),r=(t.Token=function e(t,n){a(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){a(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){a(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,n,i,r,o){a(this,e),this.type=t,this.length=i,this.text="",this.tagName=n,this.attrs=r,this.booleanAttrs=o,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+e.tagName;for(var a in e.attrs)if(e.attrs.hasOwnProperty(a)){n+=" "+a;var r=e.attrs[a];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[a]||(n+='="'+(0,i.escapeQuotes)(r)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=t+"</"+e.tagName+">"),n},e}());t.StartTagToken=function(){function e(t,n,i,r,o,s){a(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=i,this.booleanAttrs=r,this.html5Unary=!1,this.unary=o,this.rest=s}return e.prototype.toString=function(){return r.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,i,r,o){a(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=i,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1,this.content=o}return e.prototype.toString=function(){return r.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){a(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function a(e,t){var a=e.stream,i=n(t());return e.stream=a,i}function i(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function r(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function o(e,t,o){function s(){var t=a(e,o);t&&d[t.type]&&d[t.type](t)}var l=r(),d={startTag:function(n){var a=n.tagName;"TR"===a.toUpperCase()&&l.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&c.test(a)&&l.containsTagName(a)?l.lastTagNameEq(a)?i(e,l):(e.prepend("</"+n.tagName+">"),s()):n.unary||l.push(n)},endTag:function(n){l.last()?t.tagSoupFix&&!l.lastTagNameEq(n.tagName)?i(e,l):l.pop():t.tagSoupFix&&(o(),s())}};return function(){return s(),n(o())}}t.__esModule=!0,t.default=o;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function a(e){return"function"==typeof e}function i(e,t,n){var a=void 0,i=e&&e.length||0;for(a=0;a<i;a++)t.call(n,e[a],a)}function r(e,t,n){for(var a in e)e.hasOwnProperty(a)&&t.call(n,a,e[a])}function o(e,t){return e=e||{},r(t,(function(t,a){n(e[t])||(e[t]=a)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(a){var t=(n=[],i(e,(function(e){n.push(e)})),{v:n});if("object"===(void 0===t?"undefined":f(t)))return t.v}var n}function c(e){return e[e.length-1]}function l(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function d(e){return l(e,"script")}function u(e){return l(e,"style")}t.__esModule=!0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=a,t.each=i,t.eachKey=r,t.defaults=o,t.toArray=s,t.last=c,t.isTag=l,t.isScript=d,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof t?t.postscribe=a():n.postscribe=a()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document").createElement("div");e.exports=function(e){return a.innerHTML=e,a.textContent||a.innerText||e}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:a.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise"),i=0;e.exports=function(e,t){var n="_runScript"+ ++i,r=new a((function(t,i){_satellite[n]=function(r){delete _satellite[n],new a((function(t){t(r.call(e.event.element,e.event,e.event.target,a))})).then(t,i)}}));return{code:'<script>_satellite["'+n+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:r}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,n,a){"use strict";var i=n("@adobe/reactor-promise"),r=0,o={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=o[e];t&&(delete o[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=o[e];t&&(delete o[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},l=function(e){return e.settings.isExternal};e.exports=function(e,t){var n;return l(e)&&(t=a.replaceTokens(t,e.event)),s(t)?(n=new i((function(e,t){o[String(r)]={resolve:e,reject:t}})),t=c(t,r),r+=1):n=i.resolve(),{code:t,promise:n}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-load-script"),i=n("@adobe/reactor-promise"),r={},o={},s=function(e){return o[e]||(o[e]=a(e)),o[e]};_satellite.__registerScript=function(e,t){r[e]=t},e.exports=function(e){return r[e]?i.resolve(r[e]):new i((function(t){s(e).then((function(){t(r[e])}),(function(){t()}))}))}}}}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPa7ef5ac82db64de8af1284050bf8d75d/",settings:{orgId:"%marketingCloudOrganizationID%",variables:[{name:"idSyncAttachIframeOnWindowLoad",value:"true"},{name:"marketingCloudServer",value:"stats.adobe.com"},{name:"marketingCloudServerSecure",value:"sstats.adobe.com"},{name:"trackingServer",value:"stats.adobe.com"},{name:"trackingServerSecure",value:"sstats.adobe.com"},{name:"idSyncDisableSyncs",value:"%visitorService_idSyncDisableSyncs%"},{name:"disableIdSyncs",value:"%visitorService_idSyncDisableSyncs%"}],doesOptInApply:!0,previousPermissions:"%previousPermissions%",preOptInApprovalInput:"%preOptIn%"},modules:{"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,n,a){"use strict";var i=n("@adobe/reactor-document"),r=n("../codeLibrary/VisitorAPI"),o=n("../../view/utils/timeUnits"),s=function(e){return e.reduce((function(e,t){var n=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=n,e}),{})},c=function(e){var t=a.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var n=s(t.variables||[]),i=t.doesOptInApply;i&&("boolean"==typeof i?n.doesOptInApply=i:t.optInCallback&&(n.doesOptInApply=t.optInCallback));var r=t.isOptInStorageEnabled;r&&(n.isOptInStorageEnabled=r);var c=t.optInCookieDomain;c&&(n.optInCookieDomain=c);var l=t.optInStorageExpiry;if(l){var d=t.timeUnit;if(d&&o[d]){var u=l*o[d];n.optInStorageExpiry=u}}else!0===r&&(n.optInStorageExpiry=33696e3);var f=t.previousPermissions;f&&(n.previousPermissions=f);var p=t.preOptInApprovals;if(p)n.preOptInApprovals=p;else{var m=t.preOptInApprovalInput;m&&(n.preOptInApprovals=m)}var h=t.isIabContext;h&&(n.isIabContext=h);var g=e.getInstance(t.orgId,n);return a.logger.info('Created instance using orgId: "'+t.orgId+'"'),a.logger.info("Set variables: "+JSON.stringify(n)),g.getMarketingCloudVisitorID((function(e){a.logger.info("Obtained Marketing Cloud Visitor Id: "+e)}),!0),g},l=function(e){return(a.getExtensionSettings().pathExclusions||[]).some((function(t){return t.valueIsRegex?new RegExp(t.value,"i").test(e):t.value===e}))},d=null;_satellite.getVisitorId=function(){return d},l(i.location.pathname)?a.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):d=c(r),e.exports=d},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,a=this;return function(){a.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!w.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach((function(t){var n=void 0!==e[t]?e[t]:"";this.execute(t,n)}),this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function a(e,t,n){var a=null==e?void 0:e[t];return void 0===a?n:a}function i(e){for(var t=/^\d+$/,n=0,a=e.length;n<a;n++)if(!t.test(e[n]))return!1;return!0}function r(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var n=0;n<e.length;n++){var a=parseInt(e[n],10),i=parseInt(t[n],10);if(a>i)return 1;if(i>a)return-1}return 0}function s(e,t){if(e===t)return 0;var n=e.toString().split("."),a=t.toString().split(".");return i(n.concat(a))?(r(n,a),o(n,a)):NaN}function c(e){return e===Object(e)&&0===Object.keys(e).length}function l(e){return"function"==typeof e||e instanceof Array&&e.length}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=de("log",e,t),this.warn=de("warn",e,t),this.error=de("error",e,t)}function u(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cookieName,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies;if(!e||!t)return{get:Ee,set:Ee,remove:Ee};var n={remove:function(){t.remove(e)},get:function(){var n=t.get(e),a={};try{a=JSON.parse(n)}catch(n){a={}}return a},set:function(a,i){i=i||{};var r=n.get(),o=Object.assign(r,a);t.set(e,JSON.stringify(o),{domain:i.optInCookieDomain||"",cookieLifetime:i.optInStorageExpiry||3419e4,expires:!0})}};return n}function f(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function p(){function e(e,t){var n=he(e);return n.length?n.every((function(e){return!!t[e]})):ge(t)}function t(){A(C),E(te.COMPLETE),g(h.status,h.permissions),s&&m.set(h.permissions,{optInCookieDomain:c,optInStorageExpiry:l}),v.execute(Oe)}function n(e){return function(n,a){if(!ve(n))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return E(te.CHANGED),Object.assign(C,_e(he(n),e)),a||t(),h}}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a.doesOptInApply,r=a.previousPermissions,o=a.preOptInApprovals,s=a.isOptInStorageEnabled,c=a.optInCookieDomain,l=a.optInStorageExpiry,d=a.isIabContext,f=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies,p=Ae(r);Pe(p,"Invalid `previousPermissions`!"),Pe(o,"Invalid `preOptInApprovals`!");var m=u({cookieName:"adobeujs-optin"},{cookies:f}),h=this,g=ee(h),v=se(),_=ke(p),y=ke(o),b=s?m.get():{},k={},S=function(e,t){return Se(e)||t&&Se(t)?te.COMPLETE:te.PENDING}(_,b),I=function(e,t,n){var a=_e(oe,!i);return i?Object.assign({},a,e,t,n):a}(y,_,b),C=ye(I),E=function(e){return S=e},A=function(e){return I=e};h.deny=n(!1),h.approve=n(!0),h.denyAll=h.deny.bind(h,oe),h.approveAll=h.approve.bind(h,oe),h.isApproved=function(t){return e(t,h.permissions)},h.isPreApproved=function(t){return e(t,y)},h.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?h.on(te.COMPLETE,e):Ee;return!i||i&&h.isComplete||o?e(h.permissions):t||v.add(Oe,(function(){return e(h.permissions)})),n},h.complete=function(){h.status===te.CHANGED&&t()},h.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Me);k[e.name]||(k[e.name]=e,e.onRegister.call(e,h))},h.execute=we(k),h.memoizeContent=function(e){Ce(e)&&m.set(e,{optInCookieDomain:c,optInStorageExpiry:l})},h.getMemoizedContent=function(e){var t=m.get();if(t)return t[e]},Object.defineProperties(h,{permissions:{get:function(){return I}},status:{get:function(){return S}},Categories:{get:function(){return ne}},doesOptInApply:{get:function(){return!!i}},isPending:{get:function(){return h.status===te.PENDING}},isComplete:{get:function(){return h.status===te.COMPLETE}},__plugins:{get:function(){return Object.keys(k)}},isIabContext:{get:function(){return d}}})}function m(e,t){function n(){i=null,e.call(e,new f("The call took longer than you wanted!"))}function a(){i&&(clearTimeout(i),e.apply(e,arguments))}if(void 0===t)return e;var i=setTimeout(n,t);return a}function h(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var t;!t;){e=e.parent;try{e.frames.__tcfapiLocator&&(t=e)}catch(e){}if(e===window.top)break}if(t){var n={};return window.__tcfapi=function(e,a,i,r){var o=Math.random()+"",s={__tcfapiCall:{command:e,parameter:r,version:a,callId:o}};n[o]=i,t.postMessage(s,"*")},window.addEventListener("message",(function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var a=t.__tcfapiReturn;"function"==typeof n[a.callId]&&(n[a.callId](a.returnValue,a.success),delete n[a.callId])}}),!1),window.__tcfapi}pe.error("__tcfapi not found")}else pe.error("__tcfapi not found")}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=!0===e.vendor.consents[t],i=n.every((function(t){return!0===e.purpose.consents[t]}));return a&&i}function v(){var e=this;e.name="iabPlugin",e.version="0.0.2";var t,n=se(),a={transparencyAndConsentData:null},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a[e]=t};e.fetchConsentData=function(e){var t=m(e.callback,e.timeout);r({callback:t})},e.isApproved=function(e){var t=e.callback,n=e.category,i=e.timeout;if(a.transparencyAndConsentData)return t(null,g(a.transparencyAndConsentData,ae[n],ie[n]));var o=m((function(e,a){t(e,g(a,ae[n],ie[n]))}),i);r({category:n,callback:o})},e.onRegister=function(n){t=n;var a=Object.keys(ae),i=function(e,t){!e&&t&&(a.forEach((function(e){var a=g(t,ae[e],ie[e]);n[a?"approve":"deny"](e,!0)})),n.complete())};e.fetchConsentData({callback:i})};var r=function(e){var r=e.callback;if(a.transparencyAndConsentData)return r(null,a.transparencyAndConsentData);n.add("FETCH_CONSENT_DATA",r),o((function(e,r){if(r){var o=ye(e),s=t.getMemoizedContent("iabConsentHash"),c=fe(o.tcString).toString(32);o.consentString=e.tcString,o.hasConsentChangedSinceLastCmpPull=s!==c,i("transparencyAndConsentData",o),t.memoizeContent({iabConsentHash:c})}n.execute("FETCH_CONSENT_DATA",[null,a.transparencyAndConsentData])}))},o=function(e){var t=De(ae),n=h();"function"==typeof n&&n("getTCData",2,e,t)}}var _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,a=1;a<arguments.length;++a)for(t in n=arguments[a])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e};var y,b,k={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"}},S=k.STATE_KEYS_MAP,I=function(e){function t(){}function n(t,n){var a=this;return function(){var i=e(0,t),r={};return r[t]=i,a.setStateAndPublish(r),n(i),i}}
this.getMarketingCloudVisitorID=function(e){e=e||t;var a=this.findField(S.MCMID,e),i=n.call(this,S.MCMID,e);return void 0!==a?a:i()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID((function(t){e({MCMID:t})}))}},C=k.MESSAGES,E=k.ASYNC_API_MAP,A=k.SYNC_API_MAP,P=function(){function e(){}function t(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(C.GETSTATE),""}}function n(n){this[E[n]]=function(a){a=a||e;var i=this.findField(n,a),r=t.call(this,n,a);return void 0!==i?i:r()}}function a(t){this[A[t]]=function(){return this.findField(t,e)||{}}}Object.keys(E).forEach(n,this),Object.keys(A).forEach(a,this)},T=k.ASYNC_API_MAP,D=function(){Object.keys(T).forEach((function(e){this[T[e]]=function(t){this.callbackRegistry.add(e,t)}}),this)},w=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(t,n){n.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},n.isValueEmpty=function(e){return""===e||n.isObjectEmpty(e)};var a=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0};n.getIeVersion=function(){return document.documentMode?document.documentMode:a()?7:null},n.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},n.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},n.defineGlobalNamespace=function(){return window.adobe=n.isObject(window.adobe)?window.adobe:{},window.adobe},n.pluck=function(e,t){return t.reduce((function(t,n){return e[n]&&(t[n]=e[n]),t}),Object.create(null))},n.parseOptOut=function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var a=parseInt(e.d_ottl,10);return isNaN(a)&&(a=7200),{optOut:t,d_ottl:a}},n.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}})),O=(w.isObjectEmpty,w.isValueEmpty,w.getIeVersion,w.encodeAndBuildRequest,w.isObject,w.defineGlobalNamespace,w.pluck,w.parseOptOut,w.normalizeBoolean,n),M=k.MESSAGES,x={0:"prefix",1:"orgID",2:"state"},L=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach((function(e,n){void 0!==e&&(t[x[n]]=2!==n?e:JSON.parse(e))})),t}catch(e){}},this.isInvalid=function(n){var a=this.parse(n);if(!a||Object.keys(a).length<2)return!0;var i=e!==a.orgID,r=!t||n.origin!==t,o=-1===Object.keys(M).indexOf(a.prefix);return i||r||o},this.send=function(n,a,i){var r=a+"|"+e;i&&i===Object(i)&&(r+="|"+JSON.stringify(i));try{n.postMessage(r,t)}catch(e){}}},N=k.MESSAGES,R=function(e,t,n,a){function i(e){Object.assign(p,e)}function r(e){Object.assign(p.state,e),Object.assign(p.state.ALLFIELDS,e),p.callbackRegistry.executeAll(p.state)}function o(e){if(!g.isInvalid(e)){h=!1;var t=g.parse(e);p.setStateAndPublish(t.state)}}function s(e){!h&&m&&(h=!0,g.send(a,e))}function c(){i(new I(n._generateID)),p.getMarketingCloudVisitorID(),p.callbackRegistry.executeAll(p.state,!0),_.removeEventListener("message",l)}function l(e){if(!g.isInvalid(e)){var t=g.parse(e);h=!1,_.clearTimeout(p._handshakeTimeout),_.removeEventListener("message",l),i(new P(p)),_.addEventListener("message",o),p.setStateAndPublish(t.state),p.callbackRegistry.hasCallbacks()&&s(N.GETSTATE)}}function d(){m&&postMessage?(_.addEventListener("message",l),s(N.HANDSHAKE),p._handshakeTimeout=setTimeout(c,250)):c()}function u(){_.s_c_in||(_.s_c_il=[],_.s_c_in=0),p._c="Visitor",p._il=_.s_c_il,p._in=_.s_c_in,p._il[p._in]=p,_.s_c_in++}function f(){function e(e){0!==e.indexOf("_")&&"function"==typeof n[e]&&(p[e]=function(){})}Object.keys(n).forEach(e),p.getSupplementalDataID=n.getSupplementalDataID,p.isAllowed=function(){return!0}}var p=this,m=t.whitelistParentDomain;p.state={ALLFIELDS:{}},p.version=n.version,p.marketingCloudOrgID=e,p.cookieDomain=n.cookieDomain||"",p._instanceType="child";var h=!1,g=new L(e,m);p.callbackRegistry=O(),p.init=function(){u(),f(),i(new D(p)),d()},p.findField=function(e,t){if(void 0!==p.state[e])return t(p.state[e]),p.state[e]},p.messageParent=s,p.setStateAndPublish=r},j=k.MESSAGES,V=k.ALL_APIS,F=k.ASYNC_API_MAP,U=k.FIELDGROUP_TO_FIELD,B=function(e,t){function n(){var t={};return Object.keys(V).forEach((function(n){var a=V[n],i=e[a]();w.isValueEmpty(i)||(t[n]=i)})),t}function a(){var t=[];return e._loading&&Object.keys(e._loading).forEach((function(n){if(e._loading[n]){var a=U[n];t.push(a)}})),t.length?t:null}function i(t){return function n(){var i=a();if(i){var r=F[i[0]];e[r](n,!0)}else t()}}function r(e,a){var i=n();t.send(e,a,i)}function o(e){c(e),r(e,j.HANDSHAKE)}function s(e){i((function(){r(e,j.PARENTSTATE)}))()}function c(n){function a(a){i.call(e,a),t.send(n,j.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var i=e.setCustomerIDs;e.setCustomerIDs=a}return function(e){t.isInvalid(e)||(t.parse(e).prefix===j.HANDSHAKE?o:s)(e.source)}},H=function(e,t){function n(e){return function(n){a[e]=n,++i===r&&t(a)}}var a={},i=0,r=Object.keys(e).length;Object.keys(e).forEach((function(t){var a=e[t];if(a.fn){var i=a.args||[];i.unshift(n(t)),a.fn.apply(a.context||null,i)}}))},q={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),a=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a))},set:function(e,t,n){var i=a(n,"cookieLifetime"),r=a(n,"expires"),o=a(n,"domain"),s=a(n,"secure")?"Secure":"";if(r&&"SESSION"!==i&&"NONE"!==i){var c=""!==t?parseInt(i||0,10):-60;if(c)(r=new Date).setTime(r.getTime()+1e3*c);else if(1===r){var l=(r=new Date).getYear();r.setYear(l+2+(l<1900?1900:0))}}else r=0;return e&&"NONE"!==i?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(r?" expires="+r.toGMTString()+";":"")+(o?" domain="+o+";":"")+s,this.get(e)===t):0},remove:function(e,t){var n=a(t,"domain");n=n?" domain="+n+";":"",document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+n}},G=function(e){var t;!e&&_.location&&(e=_.location.hostname);var n,a=(t=e).split(".");for(n=a.length-2;n>=0;n--)if(t=a.slice(n).join("."),q.set("test","cookie",{domain:t}))return q.remove("test",{domain:t}),t;return""},z={compare:s,isLessThan:function(e,t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}},W=!!_.postMessage,Q={postMessage:function(e,t,n){var a=1;t&&(W?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+a+++"&"+e))},receiveMessage:function(e,t){var n;try{W&&(e&&(n=function(n){if("string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin))return!1;e(n)}),_.addEventListener?_[e?"addEventListener":"removeEventListener"]("message",n):_[e?"attachEvent":"detachEvent"]("onmessage",n))}catch(e){}}},Y=function(e){var t,n,a="0123456789",i="",r="",o=8,s=10,c=10;if(1==e){for(a+="ABCDEF",t=0;16>t;t++)n=Math.floor(Math.random()*o),i+=a.substring(n,n+1),n=Math.floor(Math.random()*o),r+=a.substring(n,n+1),o=16;return i+"-"+r}for(t=0;19>t;t++)n=Math.floor(Math.random()*s),i+=a.substring(n,n+1),0===t&&9==n?s=3:((1==t||2==t)&&10!=s&&2>n||2<t)&&(s=10),n=Math.floor(Math.random()*c),r+=a.substring(n,n+1),0===t&&9==n?c=3:((1==t||2==t)&&10!=c&&2>n||2<t)&&(c=10);return i+r},K=function(e){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(_.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new _[this.corsMetadata.corsType]},fireCORS:function(t,n){function a(e){var n;try{if((n=JSON.parse(e))!==Object(n))return void i.handleCORSError(t,null,"Response is not JSON")}catch(e){return void i.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var a=t.callback,r=_,o=0;o<a.length;o++)r=r[a[o]];r(n)}catch(e){i.handleCORSError(t,e,"Error forming callback function")}}var i=this;n&&(t.loadErrorHandler=n);try{var r=this.getCORSInstance();r.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(r.withCredentials=!0,r.timeout=e.loadTimeout,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4===this.readyState&&200===this.status&&a(this.responseText)}),r.onerror=function(e){i.handleCORSError(t,e,"onerror")},r.ontimeout=function(e){i.handleCORSError(t,e,"ontimeout")},r.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,n,a){e.CORSErrors.push({corsData:t,error:n,description:a}),t.loadErrorHandler&&("ontimeout"===a?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},J={POST_MESSAGE_ENABLED:!!_.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},$=function(e,t){var n=_.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,a="http://fast.",i="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(a=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=a+this.subdomain+".demdex.net/dest5.html"+i,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(n.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:J.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(i=n.createElement("iframe")).sandbox="allow-scripts allow-same-origin",i.title="Adobe ID Syncing iFrame",i.id=a.id,i.name=a.id+"_name",i.style.cssText="display: none; width: 0; height: 0;",i.src=a.url,a.newIframeCreated=!0,t(),n.body.appendChild(i)}function t(e){i.addEventListener("load",(function(){i.className="aamIframeLoaded",a.iframeHasLoaded=!0,a.fireIframeLoadedCallbacks(e),a.requestToProcess()}))}this.startedAttachingIframe=!0;var a=this,i=n.getElementById(this.id);i?"IFRAME"!==i.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==i.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=i,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=i},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach((function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})})),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function n(){i.jsonForComparison.push(t),i.jsonWaiting.push(t),i.processSyncOnPage(t)}var a,i=this;if(t===Object(t)&&t.ibs)if(a=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var r,o,s,c=!1;for(r=0,o=this.jsonForComparison.length;r<o;r++)if(s=this.jsonForComparison[r],a===JSON.stringify(s.ibs||[])){c=!0;break}c?this.jsonDuplicates.push(t):n()}else n();if((this.receivedThirdPartyCookiesNotification||!J.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var l=this.jsonWaiting.shift();this.process(l),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout((function(){i.messageSendingInterval=J.POST_MESSAGE_ENABLED?null:150}),this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,n){var a=e._getField("MCAAMLH"),i=t.d_region||t.dcs_region;return a?i&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",i),parseInt(a,10)!==i&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),a=i)):(a=i)&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",a)),a||(a=""),a},processSyncOnPage:function(e){var t,n,a,i;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(a=0;a<n;a++)(i=t[a]).syncOnPage&&this.checkFirstPartyCookie(i,"","syncOnPage")},process:function(e){var t,n,a,i,r,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,a=0;a<n;a++)i=t[a],r=[o("ibs"),o(i.id||""),o(i.tag||""),w.encodeAndBuildRequest(i.url||[],","),o(i.ttl||""),"","",i.fireURLSync?"true":"false"],i.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(r.join("|")):i.fireURLSync&&this.checkFirstPartyCookie(i,r.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,n,a){var i="syncOnPage"===a,r=i?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,s,c=e._getField(r),l=!1,d=!1,u=Math.ceil((new Date).getTime()/J.MILLIS_PER_DAY);c?(o=c.split("*"),l=(s=this.pruneSyncData(o,t.id,u)).dataPresent,d=s.dataValid,l&&d||this.fireSync(i,t,n,o,r,u)):(o=[],this.fireSync(i,t,n,o,r,u))},pruneSyncData:function(e,t,n){var a,i,r,o=!1,s=!1;for(i=0;i<e.length;i++)a=e[i],r=parseInt(a.split("-")[1],10),a.match("^"+t+"-")?(o=!0,n<r?s=!0:(e.splice(i,1),i--)):n>=r&&(e.splice(i,1),i--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort((function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)}));e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,n,a,i,r,o){var s=this;if(t){if("img"===n.tag){var c,l,d,u,f=n.url,p=e.loadSSL?"https:":"http:";for(c=0,l=f.length;c<l;c++){d=f[c],u=/^\/\//.test(d);var m=new Image;m.addEventListener("load",function(t,n,a,i){return function(){s.onPagePixels[t]=null,e._readVisitor();var o,c,l,d,u=e._getField(r),f=[];if(u)for(c=0,l=(o=u.split("*")).length;c<l;c++)(d=o[c]).match("^"+n.id+"-")||f.push(d);s.setSyncTrackingData(f,n,a,i)}}(this.onPagePixels.length,n,r,o)),m.src=(u?p:"")+d,this.onPagePixels.push(m)}}}else this.addMessage(a),this.setSyncTrackingData(i,n,r,o)},addMessage:function(t){var n=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((J.POST_MESSAGE_ENABLED?"":n)+t)},setSyncTrackingData:function(t,n,a,i){t.push(n.id+"-"+(i+Math.ceil(n.ttl/60/24))),this.manageSyncsSize(t),e._setField(a,t.join("*"))},sendMessages:function(){var e,t=this,n="",a=encodeURIComponent;this.regionChanged&&(n=a("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?J.POST_MESSAGE_ENABLED?(e=n+a("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout((function(){t.sendMessages()}),this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){Q.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(n,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(a){(null==this.url||a.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=a.subdomain||"",this.url=this.getUrl()),a.ibs instanceof Array&&a.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===n.readyState||"loaded"===n.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(a):this.requestToProcess(a),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(a)},canMakeSyncIDCall:function(t,n){return e._forceSyncIDCall||!t||n-t>J.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(n.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},X={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},discardTrackingServerECID:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},Z={getConfigNames:function(){return Object.keys(X)},getConfigs:function(){return X},normalizeConfig:function(e){return"function"!=typeof e?e:e()}},ee=function(e){var t={};return e.on=function(e,n,a){if(!n||"function"!=typeof n)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var i=t[e].push({callback:n,context:a})-1;return function(){t[e].splice(i,1),t[e].length||delete t[e]}},e.off=function(e,n){t.hasOwnProperty(e)&&(t[e]=t[e].filter((function(e){if(e.callback!==n)return e})))},e.publish=function(e){if(t.hasOwnProperty(e)){var n=[].slice.call(arguments,1);t[e].slice(0).forEach((function(e){e.callback.apply(e.context,n)}))}},e.publish},te={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},ne={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},ae=(t(y={},ne.AAM,565),t(y,ne.ECID,565),y),ie=(t(b={},ne.AAM,[1,10]),t(b,ne.ECID,[1,10]),b),re=["videoaa","iabConsentHash"],oe=function(e){return Object.keys(e).map((function(t){return e[t]}))}(ne),se=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,n){if(!l(n))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var a=e.callbacks[t].push(n)-1;return function(){e.callbacks[t].splice(a,1)}},e.execute=function(t,n){if(e.callbacks[t]){n=(n=void 0===n?[]:n)instanceof Array?n:[n];try{for(;e.callbacks[t].length;){var a=e.callbacks[t].shift();"function"==typeof a?a.apply(null,n):a instanceof Array&&a[1].apply(a[0],n)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,n){(n||t&&!c(t))&&Object.keys(e.callbacks).forEach((function(n){var a=void 0!==t[n]?t[n]:"";e.execute(n,a)}),e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},ce=function(){},le=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},de=function(e,t,n){return n()?function(){if(le(e)){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];console[e].apply(console,[t].concat(a))}}:ce},ue=d,fe=function(){for(var e=[],t=0;t<256;t++){for(var n=t,a=0;a<8;a++)n=1&n?3988292384^n>>>1:n>>>1;e.push(n)}return function(t,n){t=unescape(encodeURIComponent(t)),n||(n=0),n^=-1;for(var a=0;a<t.length;a++){var i=255&(n^t.charCodeAt(a));n=n>>>8^e[i]}return(n^=-1)>>>0}}(),pe=new ue("[ADOBE OPT-IN]"),me=function(t,n){return e(t)===n},he=function(e,t){return e instanceof Array?e:me(e,"string")?[e]:t||[]},ge=function(e){var t=Object.keys(e);return!!t.length&&t.every((function(t){return!0===e[t]}))},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||be(e))&&he(e).every((function(e){return oe.indexOf(e)>-1||t&&re.indexOf(e)>-1}))},_e=function(e,t){return e.reduce((function(e,n){return e[n]=t,e}),{})},ye=function(e){return JSON.parse(JSON.stringify(e))},be=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},ke=function(e){if(Ce(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Se=function(e){return void 0===e||(Ce(e)?ve(Object.keys(e),!0):Ie(e))},Ie=function(e){try{var t=JSON.parse(e);return!!e&&me(e,"string")&&ve(Object.keys(t),!0)}catch(e){return!1}},Ce=function(e){return null!==e&&me(e,"object")&&!1===Array.isArray(e)},Ee=function(){},Ae=function(e){return me(e,"function")?e():e},Pe=function(e,t){Se(e)||pe.error("".concat(t))},Te=function(e){return Object.keys(e).map((function(t){return e[t]}))},De=function(e){return Te(e).filter((function(e,t,n){return n.indexOf(e)===t}))},we=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.command,a=t.params,i=void 0===a?{}:a,r=t.callback,o=void 0===r?Ee:r;if(!n||-1===n.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=n.split("."),c=e[s[0]],l=s[1];if(!c||"function"!=typeof c[l])throw new Error("Make sure the plugin and API name exist.");var d=Object.assign(i,{callback:o});c[l].call(c,d)}catch(e){pe.error("[execute] Something went wrong: "+e.message)}}};f.prototype=Object.create(Error.prototype),f.prototype.constructor=f;var Oe="fetchPermissions",Me="[OptIn#registerPlugin] Plugin is invalid.";p.Categories=ne,p.TimeoutError=f;var xe=Object.freeze({OptIn:p,IabPlugin:v}),Le=function(e,t){e.publishDestinations=function(n){var a=arguments[1],i=arguments[2];try{i="function"==typeof i?i:n.callback}catch(e){i=function(){}}var r=t;if(r.readyToAttachIframePreliminary()){if("string"==typeof n){if(!n.length)return void i({error:"subdomain is not a populated string."});if(!(a instanceof Array&&a.length))return void i({error:"messages is not a populated array."});var o=!1;if(a.forEach((function(e){"string"==typeof e&&e.length&&(r.addMessage(e),o=!0)})),!o)return void i({error:"None of the messages are populated strings."})}else{if(!w.isObject(n))return void i({error:"Invalid parameters passed."});var s=n;if("string"!=typeof(n=s.subdomain)||!n.length)return void i({error:"config.subdomain is not a populated string."});var c=s.urlDestinations;if(!(c instanceof Array&&c.length))return void i({error:"config.urlDestinations is not a populated array."});var l=[];c.forEach((function(e){w.isObject(e)&&(e.hideReferrer?e.message&&r.addMessage(e.message):l.push(e))})),function e(){l.length&&setTimeout((function(){var t=new Image,n=l.shift();t.src=n.url,r.onPageDestinationsFired.push(n),e()}),100)}()}r.iframe?(i({message:"The destination publishing iframe is already attached and loaded."}),r.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(r.subdomain=n,r.doAttachIframe=!0,r.url=r.getUrl(),r.readyToAttachIframe()?(r.iframeLoadedCallbacks.push((function(e){i({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})})),r.attachIframe()):i({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):r.iframeLoadedCallbacks.push((function(e){i({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})}))}else i({error:"The destination publishing iframe is disabled in the Visitor library."})}},Ne=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var a,i,r=Math.pow,o=r(2,32),s="",c=[],l=8*t.length,d=e.h=e.h||[],u=e.k=e.k||[],f=u.length,p={},m=2;f<64;m++)if(!p[m]){for(a=0;a<313;a+=m)p[a]=m;d[f]=r(m,.5)*o|0,u[f++]=r(m,1/3)*o|0}for(t+="\x80";t.length%64-56;)t+="\0";for(a=0;a<t.length;a++){if((i=t.charCodeAt(a))>>8)return;c[a>>2]|=i<<(3-a)%4*8}for(c[c.length]=l/o|0,c[c.length]=l,i=0;i<c.length;){var h=c.slice(i,i+=16),g=d;for(d=d.slice(0,8),a=0;a<64;a++){var v=h[a-15],_=h[a-2],y=d[0],b=d[4],k=d[7]+(n(b,6)^n(b,11)^n(b,25))+(b&d[5]^~b&d[6])+u[a]+(h[a]=a<16?h[a]:h[a-16]+(n(v,7)^n(v,18)^v>>>3)+h[a-7]+(n(_,17)^n(_,19)^_>>>10)|0);(d=[k+((n(y,2)^n(y,13)^n(y,22))+(y&d[1]^y&d[2]^d[1]&d[2]))|0].concat(d))[4]=d[4]+k|0}for(a=0;a<8;a++)d[a]=d[a]+g[a]|0}for(a=0;a<8;a++)for(i=3;i+1;i--){var S=d[a]>>8*i&255;s+=(S<16?0:"")+S.toString(16)}return s},Re=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Ne(e)),e},je=function(e){return String(e).trim().toLowerCase()},Ve=xe.OptIn;w.defineGlobalNamespace(),window.adobe.OptInCategories=Ve.Categories;var Fe=function(t,n,a){function i(){y._customerIDsHashChanged=!1}function r(e){var t=e;return function(e){var n=e||A.location.href;try{var a=y._extractParamFromUri(n,t);if(a)return Z.parsePipeDelimetedKeyValues(a)}catch(e){}}}function o(e){function t(e,t,n){e&&e.match(J.VALID_VISITOR_ID_REGEX)&&(n===O&&(E=!0),t(e))}t(e[O],y.setMarketingCloudVisitorID,O),y._setFieldExpire(j,-1),t(e[N],y.setAnalyticsVisitorID)}function s(e){e=e||{},y._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",y._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},y._supplementalDataIDLast=e.supplementalDataIDLast||"",y._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function c(e){function t(e,t,n){return(n=n?n+="|":n)+(e+"=")+encodeURIComponent(t)}function n(e,n){var a=n[0],i=n[1];return null!=i&&i!==V&&(e=t(a,i,e)),e}return function(e){return(e=e?e+="|":e)+"TS="+Z.getTimestampInSeconds()}(e.reduce(n,""))}function l(e){var t=e.minutesToLive,n="";return(y.idSyncDisableSyncs||y.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}function d(){return!(!y.configs.doesOptInApply||b.optIn.isComplete&&u())}function u(){return y.configs.doesOptInApply&&y.configs.isIabContext?b.optIn.isApproved(b.optIn.Categories.ECID)&&C:b.optIn.isApproved(b.optIn.Categories.ECID)}function f(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach((function(e){var t=e[0],n=2===e.length?e[1]:"",a=y[t];y[t]=function(e){return u()&&y.isAllowed()?a.apply(y,arguments):("function"==typeof e&&y._callCallback(e,[n]),n)}}))}function p(){var e=y._getAudienceManagerURLData(),t=e.url;return y._loadData(D,t,null,e)}function m(e,t){if(C=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(S=t.consentString,I=t.hasConsentChangedSinceLastCmpPull?1:0),p(),v()}function h(e,t){if(C=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(S=t.consentString,I=t.hasConsentChangedSinceLastCmpPull?1:0),y.init(),v()}function g(){b.optIn.isComplete&&(b.optIn.isApproved(b.optIn.Categories.ECID)?y.configs.isIabContext?b.optIn.execute({command:"iabPlugin.fetchConsentData",callback:h}):(y.init(),v()):y.configs.isIabContext?b.optIn.execute({command:"iabPlugin.fetchConsentData",callback:m}):(f(),v()))}function v(){b.optIn.off("complete",g)}if(!a||a.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var y=this,b=window.adobe,S="",I=0,C=!1,E=!1;y.version="5.0.0";var A=_,P=A.Visitor;P.version=y.version,P.AuthState=k.AUTH_STATE,P.OptOut=k.OPT_OUT,A.s_c_in||(A.s_c_il=[],A.s_c_in=0),y._c="Visitor",y._il=A.s_c_il,y._in=A.s_c_in,y._il[y._in]=y,A.s_c_in++,y._instanceType="regular",y._log={requests:[]},y.marketingCloudOrgID=t,y.cookieName="AMCV_"+t,y.sessionCookieName="AMCVS_"+t,y.cookieDomain=G(),y.loadSSL=!0,y.loadTimeout=3e4,y.CORSErrors=[],y.marketingCloudServer=y.audienceManagerServer="dpm.demdex.net",y.sdidParamExpiry=30;var T=null,D="MC",O="MCMID",M="MCIDTS",x="A",N="MCAID",R="AAM",j="MCAAMB",V="NONE",F=function(e){return!Object.prototype[e]},U=K(y);y.FIELDS=k.FIELDS,y.cookieRead=function(e){return q.get(e)},y.cookieWrite=function(e,t,n){var a=y.cookieLifetime?(""+y.cookieLifetime).toUpperCase():"",i=!1;return y.configs&&y.configs.secureCookie&&"https:"===location.protocol&&(i=!0),q.set(e,""+t,{expires:n,domain:y.cookieDomain,cookieLifetime:a,secure:i})},y.resetState=function(e){e?y._mergeServerState(e):s()},y._isAllowedDone=!1,y._isAllowedFlag=!1,y.isAllowed=function(){return y._isAllowedDone||(y._isAllowedDone=!0,(y.cookieRead(y.cookieName)||y.cookieWrite(y.cookieName,"T",1))&&(y._isAllowedFlag=!0)),"T"===y.cookieRead(y.cookieName)&&y._helpers.removeCookie(y.cookieName),y._isAllowedFlag},y.setMarketingCloudVisitorID=function(e){y._setMarketingCloudFields(e)},y._use1stPartyMarketingCloudServer=!1,y.getMarketingCloudVisitorID=function(e,t){y.marketingCloudServer&&y.marketingCloudServer.indexOf(".demdex.net")<0&&(y._use1stPartyMarketingCloudServer=!0);var n=y._getAudienceManagerURLData("_setMarketingCloudFields"),a=n.url;return y._getRemoteField(O,a,e,t,n)};var W=function(e,t){var n={};y.getMarketingCloudVisitorID((function(){t.forEach((function(e){n[e]=y._getField(e,!0)})),-1!==t.indexOf("MCOPTOUT")?y.isOptedOut((function(t){n.MCOPTOUT=t,e(n)}),null,!0):e(n)}),!0)};y.getVisitorValues=function(e,t){var n={MCMID:{fn:y.getMarketingCloudVisitorID,args:[!0],context:y},MCOPTOUT:{fn:y.isOptedOut,args:[void 0,!0],context:y},MCAID:{fn:y.getAnalyticsVisitorID,args:[!0],context:y},MCAAMLH:{fn:y.getAudienceManagerLocationHint,args:[!0],context:y},MCAAMB:{fn:y.getAudienceManagerBlob,args:[!0],context:y}},a=t&&t.length?w.pluck(n,t):n;t&&-1===t.indexOf("MCAID")?W(e,t):H(a,e)},y._currentCustomerIDs={},y._customerIDsHashChanged=!1,y._newCustomerIDsHash="",y.setCustomerIDs=function(t,n){if(!y.isOptedOut()&&t){if(!w.isObject(t)||w.isObjectEmpty(t))return!1;var a,r,o,s;for(a in y._readVisitor(),t)if(F(a)&&(y._currentCustomerIDs.dataSources=y._currentCustomerIDs.dataSources||{},n=(r=t[a]).hasOwnProperty("hashType")?r.hashType:n,r))if("object"===e(r)){var c={};if(r.id){if(n){if(!(s=Re(je(r.id),n)))return;r.id=s,c.hashType=n}c.id=r.id}null!=r.authState&&(c.authState=r.authState),y._currentCustomerIDs.dataSources[a]=c}else if(n){if(!(s=Re(je(r),n)))return;y._currentCustomerIDs.dataSources[a]={id:s,hashType:n}}else y._currentCustomerIDs.dataSources[a]={id:r};var l=y.getCustomerIDs(!0),d=y._getField("MCCIDH"),u="";for(o in d||(d=0),l){var f=l[o];if(!w.isObjectEmpty(f))for(a in f)F(a)&&(u+=(u?"|":"")+a+"|"+((r=f[a]).id?r.id:"")+(r.authState?r.authState:""))}y._newCustomerIDsHash=String(y._hash(u)),y._newCustomerIDsHash!==d&&(y._customerIDsHashChanged=!0,y._mapCustomerIDs(i))}},y.syncIdentity=function(t,n){if(!y.isOptedOut()&&t){if(!w.isObject(t)||w.isObjectEmpty(t))return!1;var a,r,o,s,c;for(a in y._readVisitor(),t)if(F(a)&&(y._currentCustomerIDs.nameSpaces=y._currentCustomerIDs.nameSpaces||{},n=(r=t[a]).hasOwnProperty("hashType")?r.hashType:n,r&&"object"===e(r))){var l={};if(r.id){if(n){if(!(o=Re(je(r.id),n)))return;r.id=o,l.hashType=n}l.id=r.id}null!=r.authState&&(l.authState=r.authState),r.dataSource&&(y._currentCustomerIDs.dataSources=y._currentCustomerIDs.dataSources||{},s=r.dataSource,y._currentCustomerIDs.dataSources[s]=l),y._currentCustomerIDs.nameSpaces[a]=l}
var d=y.getCustomerIDs(!0),u=y._getField("MCCIDH"),f="";for(c in u||(u="0"),d){var p=d[c];if(!w.isObjectEmpty(p))for(a in p)F(a)&&(f+=(f?"|":"")+a+"|"+((r=p[a]).id?r.id:"")+(r.authState?r.authState:""))}y._newCustomerIDsHash=String(y._hash(f)),y._newCustomerIDsHash!==u&&(y._customerIDsHashChanged=!0,y._mapCustomerIDs(i))}},y.getCustomerIDs=function(e){y._readVisitor();var t,n,a={dataSources:{},nameSpaces:{}},i=y._currentCustomerIDs.dataSources;for(t in i)F(t)&&(n=i[t]).id&&(a.dataSources[t]||(a.dataSources[t]={}),a.dataSources[t].id=n.id,null!=n.authState?a.dataSources[t].authState=n.authState:a.dataSources[t].authState=P.AuthState.UNKNOWN,n.hashType&&(a.dataSources[t].hashType=n.hashType));var r=y._currentCustomerIDs.nameSpaces;for(t in r)F(t)&&(n=r[t]).id&&(a.nameSpaces[t]||(a.nameSpaces[t]={}),a.nameSpaces[t].id=n.id,null!=n.authState?a.nameSpaces[t].authState=n.authState:a.nameSpaces[t].authState=P.AuthState.UNKNOWN,n.hashType&&(a.nameSpaces[t].hashType=n.hashType));return e?a:a.dataSources},y.setAnalyticsVisitorID=function(e){y._setAnalyticsFields(e)},y.getAnalyticsVisitorID=function(e,t,n){if(!Z.isTrackingServerPopulated()&&!n)return y._callCallback(e,[""]),"";var a="";if(n||(a=y.getMarketingCloudVisitorID((function(){y.getAnalyticsVisitorID(e,!0)}))),a||n){var i=n?y.marketingCloudServer:y.trackingServer,r="";y.loadSSL&&(n?y.marketingCloudServerSecure&&(i=y.marketingCloudServerSecure):y.trackingServerSecure&&(i=y.trackingServerSecure));var o={};if(i){var s="http"+(y.loadSSL?"s":"")+"://"+i+"/id",c="d_visid_ver="+y.version+"&mcorgid="+encodeURIComponent(y.marketingCloudOrgID)+(a?"&mid="+encodeURIComponent(a):"")+(y.idSyncDisable3rdPartySyncing||y.disableThirdPartyCookies?"&d_coppa=true":""),l=["s_c_il",y._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];r=s+"?"+c+"&callback=s_c_il%5B"+y._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+c,o.callback=l}return o.url=r,y._getRemoteField(n?O:N,r,e,t,o)}return""},y.getAudienceManagerLocationHint=function(e,t){if(y.getMarketingCloudVisitorID((function(){y.getAudienceManagerLocationHint(e,!0)}))){var n=y._getField(N);if(!n&&Z.isTrackingServerPopulated()&&(n=y.getAnalyticsVisitorID((function(){y.getAudienceManagerLocationHint(e,!0)}))),n||!Z.isTrackingServerPopulated()){var a=y._getAudienceManagerURLData(),i=a.url;return y._getRemoteField("MCAAMLH",i,e,t,a)}}return""},y.getLocationHint=y.getAudienceManagerLocationHint,y.getAudienceManagerBlob=function(e,t){if(y.getMarketingCloudVisitorID((function(){y.getAudienceManagerBlob(e,!0)}))){var n=y._getField(N);if(!n&&Z.isTrackingServerPopulated()&&(n=y.getAnalyticsVisitorID((function(){y.getAudienceManagerBlob(e,!0)}))),n||!Z.isTrackingServerPopulated()){var a=y._getAudienceManagerURLData(),i=a.url;return y._customerIDsHashChanged&&y._setFieldExpire(j,-1),y._getRemoteField(j,i,e,t,a)}}return""},y._supplementalDataIDCurrent="",y._supplementalDataIDCurrentConsumed={},y._supplementalDataIDLast="",y._supplementalDataIDLastConsumed={},y.getSupplementalDataID=function(e,t){y._supplementalDataIDCurrent||t||(y._supplementalDataIDCurrent=y._generateID(1));var n=y._supplementalDataIDCurrent;return y._supplementalDataIDLast&&!y._supplementalDataIDLastConsumed[e]?(n=y._supplementalDataIDLast,y._supplementalDataIDLastConsumed[e]=!0):n&&(y._supplementalDataIDCurrentConsumed[e]&&(y._supplementalDataIDLast=y._supplementalDataIDCurrent,y._supplementalDataIDLastConsumed=y._supplementalDataIDCurrentConsumed,y._supplementalDataIDCurrent=n=t?"":y._generateID(1),y._supplementalDataIDCurrentConsumed={}),n&&(y._supplementalDataIDCurrentConsumed[e]=!0)),n};var X=!1;y._liberatedOptOut=null,y.getOptOut=function(e,t){var n=y._getAudienceManagerURLData("_setMarketingCloudFields"),a=n.url;if(u())return y._getRemoteField("MCOPTOUT",a,e,t,n);if(y._registerCallback("liberatedOptOut",e),null!==y._liberatedOptOut)return y._callAllCallbacks("liberatedOptOut",[y._liberatedOptOut]),X=!1,y._liberatedOptOut;if(X)return null;X=!0;var i="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),n.callback=[i],_[i]=function(e){if(e===Object(e)){var t,n,a=w.parseOptOut(e,t,V);t=a.optOut,n=1e3*a.d_ottl,y._liberatedOptOut=t,setTimeout((function(){y._liberatedOptOut=null}),n)}y._callAllCallbacks("liberatedOptOut",[t]),X=!1},U.fireCORS(n),null},y.isOptedOut=function(e,t,n){t||(t=P.OptOut.GLOBAL);var a=y.getOptOut((function(n){var a=n===P.OptOut.GLOBAL||n.indexOf(t)>=0;y._callCallback(e,[a])}),n);return a?a===P.OptOut.GLOBAL||a.indexOf(t)>=0:null},y._fields=null,y._fieldsExpired=null,y._hash=function(e){var t,n=0;if(e)for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n},y._generateID=Y,y._generateLocalMID=function(){var e=y._generateID(0);return ne.isClientSideMarketingCloudVisitorID=!0,e},y._callbackList=null,y._callCallback=function(e,t){try{"function"==typeof e?e.apply(A,t):e[1].apply(e[0],t)}catch(e){}},y._registerCallback=function(e,t){t&&(null==y._callbackList&&(y._callbackList={}),null==y._callbackList[e]&&(y._callbackList[e]=[]),y._callbackList[e].push(t))},y._callAllCallbacks=function(e,t){if(null!=y._callbackList){var n=y._callbackList[e];if(n)for(;n.length>0;)y._callCallback(n.shift(),t)}},y._addQuerystringParam=function(e,t,n,a){var i=encodeURIComponent(t)+"="+encodeURIComponent(n),r=Z.parseHash(e),o=Z.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+i+r;var s=o.split("?"),c=s[0]+"?",l=s[1];return c+Z.addQueryParamAtLocation(l,i,a)+r},y._extractParamFromUri=function(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(n&&n.length)return decodeURIComponent(n[1])},y._parseAdobeMcFromUrl=r(J.ADOBE_MC),y._parseAdobeMcSdidFromUrl=r(J.ADOBE_MC_SDID),y._attemptToPopulateSdidFromUrl=function(e){var n=y._parseAdobeMcSdidFromUrl(e),a=1e9;n&&n.TS&&(a=Z.getTimestampInSeconds()-n.TS),n&&n.SDID&&n.MCORGID===t&&a<y.sdidParamExpiry&&(y._supplementalDataIDCurrent=n.SDID,y._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},y._attemptToPopulateIdsFromUrl=function(){var e=y._parseAdobeMcFromUrl();if(e&&e.TS){var n=Z.getTimestampInSeconds()-e.TS;if(Math.floor(n/60)>J.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;o(e)}},y._mergeServerState=function(e){if(e)try{if((e=function(e){return Z.isObject(e)?e:JSON.parse(e)}(e))[y.marketingCloudOrgID]){var t=e[y.marketingCloudOrgID];!function(e){Z.isObject(e)&&y.setCustomerIDs(e)}(t.customerIDs),s(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},y._timeout=null,y._loadData=function(e,t,n,a){t=y._addQuerystringParam(t,"d_fieldgroup",e,1),a.url=y._addQuerystringParam(a.url,"d_fieldgroup",e,1),a.corsUrl=y._addQuerystringParam(a.corsUrl,"d_fieldgroup",e,1),ne.fieldGroupObj[e]=!0,a===Object(a)&&a.corsUrl&&"XMLHttpRequest"===U.corsMetadata.corsType&&U.fireCORS(a,n,e)},y._clearTimeout=function(e){null!=y._timeout&&y._timeout[e]&&(clearTimeout(y._timeout[e]),y._timeout[e]=0)},y._settingsDigest=0,y._getSettingsDigest=function(){if(!y._settingsDigest){var e=y.version;y.audienceManagerServer&&(e+="|"+y.audienceManagerServer),y.audienceManagerServerSecure&&(e+="|"+y.audienceManagerServerSecure),y._settingsDigest=y._hash(e)}return y._settingsDigest},y._readVisitorDone=!1,y._readVisitor=function(){if(!y._readVisitorDone){y._readVisitorDone=!0;var e,t,n,a,i,r,o=y._getSettingsDigest(),s=!1,c=y.cookieRead(y.cookieName),l=new Date;if(c||E||y.discardTrackingServerECID||(c=y.cookieRead(J.FIRST_PARTY_SERVER_COOKIE)),null==y._fields&&(y._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==o&&(s=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)n=(t=c[e].split("-"))[0],a=c[e+1],t.length>1?(i=parseInt(t[1],10),r=t[1].indexOf("s")>0):(i=0,r=!1),s&&("MCCIDH"===n&&(a=""),i>0&&(i=l.getTime()/1e3-60)),n&&a&&(y._setField(n,a,1),i>0&&(y._fields["expire"+n]=i+(r?"s":""),(l.getTime()>=1e3*i||r&&!y.cookieRead(y.sessionCookieName))&&(y._fieldsExpired||(y._fieldsExpired={}),y._fieldsExpired[n]=!0)));!y._getField(N)&&Z.isTrackingServerPopulated()&&(c=y.cookieRead("s_vi"))&&(c=c.split("|")).length>1&&c[0].indexOf("v1")>=0&&((e=(a=c[1]).indexOf("["))>=0&&(a=a.substring(0,e)),a&&a.match(J.VALID_VISITOR_ID_REGEX)&&y._setField(N,a))}},y._appendVersionTo=function(e){var t="vVersion|"+y.version,n=e?y._getCookieVersion(e):null;return n?z.areVersionsDifferent(n,y.version)&&(e=e.replace(J.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},y._writeVisitor=function(){var e,t,n=y._getSettingsDigest();for(e in y._fields)F(e)&&y._fields[e]&&"expire"!==e.substring(0,6)&&(t=y._fields[e],n+=(n?"|":"")+e+(y._fields["expire"+e]?"-"+y._fields["expire"+e]:"")+"|"+t);n=y._appendVersionTo(n),y.cookieWrite(y.cookieName,n,1)},y._getField=function(e,t){return null==y._fields||!t&&y._fieldsExpired&&y._fieldsExpired[e]?null:y._fields[e]},y._setField=function(e,t,n){null==y._fields&&(y._fields={}),y._fields[e]=t,n||y._writeVisitor()},y._getFieldList=function(e,t){var n=y._getField(e,t);return n?n.split("*"):null},y._setFieldList=function(e,t,n){y._setField(e,t?t.join("*"):"",n)},y._getFieldMap=function(e,t){var n=y._getFieldList(e,t);if(n){var a,i={};for(a=0;a<n.length;a+=2)i[n[a]]=n[a+1];return i}return null},y._setFieldMap=function(e,t,n){var a,i=null;if(t)for(a in i=[],t)F(a)&&(i.push(a),i.push(t[a]));y._setFieldList(e,i,n)},y._setFieldExpire=function(e,t,n){var a=new Date;a.setTime(a.getTime()+1e3*t),null==y._fields&&(y._fields={}),y._fields["expire"+e]=Math.floor(a.getTime()/1e3)+(n?"s":""),t<0?(y._fieldsExpired||(y._fieldsExpired={}),y._fieldsExpired[e]=!0):y._fieldsExpired&&(y._fieldsExpired[e]=!1),n&&(y.cookieRead(y.sessionCookieName)||y.cookieWrite(y.sessionCookieName,"1"))},y._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=V),t&&(t===V||t.match(J.VALID_VISITOR_ID_REGEX))||(t="")),t},y._setFields=function(t,n){if(y._clearTimeout(t),null!=y._loading&&(y._loading[t]=!1),ne.fieldGroupObj[t]&&ne.setState(t,!1),t===D){!0!==ne.isClientSideMarketingCloudVisitorID&&(ne.isClientSideMarketingCloudVisitorID=!1);var a=y._getField(O);if(!a||y.overwriteCrossDomainMCIDAndAID){if(!(a="object"===e(n)&&n.mid?n.mid:y._findVisitorID(n))){if(y._use1stPartyMarketingCloudServer&&!y.tried1stPartyMarketingCloudServer)return y.tried1stPartyMarketingCloudServer=!0,void y.getAnalyticsVisitorID(null,!1,!0);a=y._generateLocalMID()}y._setField(O,a)}a&&a!==V||(a=""),"object"===e(n)&&((n.d_region||n.dcs_region||n.d_blob||n.blob)&&y._setFields(R,n),y._use1stPartyMarketingCloudServer&&n.mid&&y._setFields(x,{id:n.id})),y._callAllCallbacks(O,[a])}if(t===R&&"object"===e(n)){var i=604800;null!=n.id_sync_ttl&&n.id_sync_ttl&&(i=parseInt(n.id_sync_ttl,10));var r=ee.getRegionAndCheckIfChanged(n,i);y._callAllCallbacks("MCAAMLH",[r]);var o=y._getField(j);(n.d_blob||n.blob)&&((o=n.d_blob)||(o=n.blob),y._setFieldExpire(j,i),y._setField(j,o)),o||(o=""),y._callAllCallbacks(j,[o]),!n.error_msg&&y._newCustomerIDsHash&&y._setField("MCCIDH",y._newCustomerIDsHash)}if(t===x){var s=y._getField(N);s&&!y.overwriteCrossDomainMCIDAndAID||((s=y._findVisitorID(n))?s!==V&&y._setFieldExpire(j,-1):s=V,y._setField(N,s)),s&&s!==V||(s=""),y._callAllCallbacks(N,[s])}if(y.idSyncDisableSyncs||y.disableIdSyncs)ee.idCallNotProcesssed=!0;else{ee.idCallNotProcesssed=!1;var c={};c.ibs=n.ibs,c.subdomain=n.subdomain,ee.processIDCallData(c)}if(n===Object(n)){var l,d;u()&&y.isAllowed()&&(l=y._getField("MCOPTOUT"));var f=w.parseOptOut(n,l,V);l=f.optOut,d=f.d_ottl,y._setFieldExpire("MCOPTOUT",d,!0),y._setField("MCOPTOUT",l),y._callAllCallbacks("MCOPTOUT",[l])}},y._loading=null,y._getRemoteField=function(e,t,n,a,i){var r,o="",s=Z.isFirstPartyAnalyticsVisitorIDCall(e),c={MCAAMLH:!0,MCAAMB:!0};if(u()&&y.isAllowed())if(y._readVisitor(),!(!(o=y._getField(e,!0===c[e]))||y._fieldsExpired&&y._fieldsExpired[e])||y.disableThirdPartyCalls&&!s)o||(e===O?(y._registerCallback(e,n),o=y._generateLocalMID(),y.setMarketingCloudVisitorID(o)):e===N?(y._registerCallback(e,n),o="",y.setAnalyticsVisitorID(o)):(o="",a=!0));else if(e===O||"MCOPTOUT"===e?r=D:"MCAAMLH"===e||e===j?r=R:e===N&&(r=x),r)return!t||null!=y._loading&&y._loading[r]||(null==y._loading&&(y._loading={}),y._loading[r]=!0,y._loadData(r,t,(function(t){if(!y._getField(e)){t&&ne.setState(r,!0);var n="";e===O?n=y._generateLocalMID():r===R&&(n={error_msg:"timeout"}),y._setFields(r,n)}}),i)),y._registerCallback(e,n),o||(t||y._setFields(r,{id:V}),"");return e!==O&&e!==N||o!==V||(o="",a=!0),n&&a&&y._callCallback(n,[o]),o},y._setMarketingCloudFields=function(e){y._readVisitor(),y._setFields(D,e)},y._mapCustomerIDs=function(e){y.getAudienceManagerBlob(e,!0)},y._setAnalyticsFields=function(e){y._readVisitor(),y._setFields(x,e)},y._setAudienceManagerFields=function(e){y._readVisitor(),y._setFields(R,e)},y._getAudienceManagerURLData=function(e){var t=y.audienceManagerServer,n="",a=y._getField(O),i=y._getField(j,!0),r=y._getField(N),o=r&&r!==V?"&d_cid_ic=AVID%01"+encodeURIComponent(r):"";if(y.loadSSL&&y.audienceManagerServerSecure&&(t=y.audienceManagerServerSecure),t){var s,c,l,d=y.getCustomerIDs(!0);if(d)for(c in d){var u=d[c];if(!w.isObjectEmpty(u)){var f="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(s in u)F(s)&&(l=u[s],o+=f+encodeURIComponent(s)+"%01"+encodeURIComponent(l.id?l.id:"")+(l.authState?"%01"+l.authState:""))}}e||(e="_setAudienceManagerFields");var p="http"+(y.loadSSL?"s":"")+"://"+t+"/id",m="d_visid_ver="+y.version+(S&&-1!==p.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+S:"")+(I&&-1!==p.indexOf("demdex.net")?"&d_cf="+I:"")+"&d_rtbd=json&d_ver=2"+(!a&&y._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(y.marketingCloudOrgID)+"&d_nsid="+(y.idSyncContainerID||0)+(a?"&d_mid="+encodeURIComponent(a):"")+(y.idSyncDisable3rdPartySyncing||y.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===T?"&d_coop_safe=1":!1===T?"&d_coop_unsafe=1":"")+(i?"&d_blob="+encodeURIComponent(i):"")+o;I=0;var h=["s_c_il",y._in,e];return{url:n=p+"?"+m+"&d_cb=s_c_il%5B"+y._in+"%5D."+e,corsUrl:p+"?"+m,callback:h}}return{url:n}},y.appendVisitorIDsTo=function(e){try{var t=[[O,y._getField(O)],[N,y._getField(N)],["MCORGID",y.marketingCloudOrgID]];return y._addQuerystringParam(e,J.ADOBE_MC,c(t))}catch(t){return e}},y.appendSupplementalDataIDTo=function(e,t){if(!(t=t||y.getSupplementalDataID(Z.generateRandomString(),!0)))return e;try{var n=c([["SDID",t],["MCORGID",y.marketingCloudOrgID]]);return y._addQuerystringParam(e,J.ADOBE_MC_SDID,n)}catch(t){return e}};var Z={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){var a=e.split("&");return n=null!=n?n:a.length,a.splice(n,0,t),a.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){return e===N&&(t||(t=y.trackingServer),n||(n=y.trackingServerSecure),!("string"!=typeof(a=y.loadSSL?n:t)||!a.length)&&a.indexOf("2o7.net")<0&&a.indexOf("omtrdc.net")<0);var a},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){q.remove(e,{domain:y.cookieDomain})},isTrackingServerPopulated:function(){return!!y.trackingServer||!!y.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce((function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e}),{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};y._helpers=Z;var ee=$(y,P);y._destinationPublishing=ee,y.timeoutMetricsLog=[];var te,ne={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case D:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case x:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case R:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};y.isClientSideMarketingCloudVisitorID=function(){return ne.isClientSideMarketingCloudVisitorID},y.MCIDCallTimedOut=function(){return ne.MCIDCallTimedOut},y.AnalyticsIDCallTimedOut=function(){return ne.AnalyticsIDCallTimedOut},y.AAMIDCallTimedOut=function(){return ne.AAMIDCallTimedOut},y.idSyncGetOnPageSyncInfo=function(){return y._readVisitor(),y._getField("MCSYNCSOP")},y.idSyncByURL=function(e){if(!y.isOptedOut()){var t=l(e||{});if(t.error)return t.error;var n,a,i=e.url,r=encodeURIComponent,o=ee;return i=i.replace(/^https:/,"").replace(/^http:/,""),n=w.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),a=["ibs",r(e.dpid),"img",r(i),t.ttl,"",n],o.addMessage(a.join("|")),o.requestToProcess(),"Successfully queued"}},y.idSyncByDataSource=function(e){if(!y.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,y.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Le(y,ee),y._getCookieVersion=function(e){e=e||y.cookieRead(y.cookieName);var t=J.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},y._resetAmcvCookie=function(e){var t=y._getCookieVersion();t&&!z.isLessThan(t,e)||Z.removeCookie(y.cookieName)},y.setAsCoopSafe=function(){T=!0},y.setAsCoopUnsafe=function(){T=!1},function(){if(y.configs=Object.create(null),Z.isObject(n))for(var e in n)F(e)&&(y[e]=n[e],y.configs[e]=n[e])}(),f(),y.init=function(){d()&&(b.optIn.fetchPermissions(g,!0),!b.optIn.isApproved(b.optIn.Categories.ECID))||te||(te=!0,function(){if(Z.isObject(n)){y.idSyncContainerID=y.idSyncContainerID||0,T="boolean"==typeof y.isCoopSafe?y.isCoopSafe:Z.parseBoolean(y.isCoopSafe),y.resetBeforeVersion&&y._resetAmcvCookie(y.resetBeforeVersion),y._attemptToPopulateIdsFromUrl(),y._attemptToPopulateSdidFromUrl(),y._readVisitor();var e=y._getField(M),t=Math.ceil((new Date).getTime()/J.MILLIS_PER_DAY);y.idSyncDisableSyncs||y.disableIdSyncs||!ee.canMakeSyncIDCall(e,t)||(y._setFieldExpire(j,-1),y._setField(M,t)),y.getMarketingCloudVisitorID(),y.getAudienceManagerLocationHint(),y.getAudienceManagerBlob(),y._mergeServerState(y.serverState)}else y._attemptToPopulateIdsFromUrl(),y._attemptToPopulateSdidFromUrl()}(),function(){if(!y.idSyncDisableSyncs&&!y.disableIdSyncs){ee.checkDPIframeSrc();var e=function(){var e=ee;e.readyToAttachIframe()&&e.attachIframe()};A.addEventListener("load",(function(){P.windowLoaded=!0,e()}));try{Q.receiveMessage((function(e){ee.receiveMessage(e.data)}),ee.iframeHost)}catch(e){}}}(),y.whitelistIframeDomains&&J.POST_MESSAGE_ENABLED&&(y.whitelistIframeDomains=y.whitelistIframeDomains instanceof Array?y.whitelistIframeDomains:[y.whitelistIframeDomains],y.whitelistIframeDomains.forEach((function(e){var n=new L(t,e),a=B(y,n);Q.receiveMessage(a,e)}))))}};Fe.config=Z,_.Visitor=Fe;var Ue=Fe,Be=function(e){if(w.isObject(e))return Object.keys(e).filter((function(t){return""!==e[t]})).reduce((function(t,n){var a=Z.normalizeConfig(e[n]),i=w.normalizeBoolean(a);return t[n]=i,t}),Object.create(null))},He=xe.OptIn,qe=xe.IabPlugin;Ue.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var n=function(){var t=_.s_c_il;if(t)for(var n=0;n<t.length;n++){var a=t[n];if(a&&"Visitor"===a._c&&a.marketingCloudOrgID===e)return a}}();if(n)return n;var a=Be(t);!function(e){_.adobe.optIn=_.adobe.optIn||function(){var t=w.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),n=e.optInCookieDomain||e.cookieDomain;n=(n=n||G())===window.location.hostname?"":n,t.optInCookieDomain=n;var a=new He(t,{cookies:q});if(t.isIabContext&&t.doesOptInApply){var i=new qe;a.registerPlugin(i)}return a}()}(a||{});var i=e.split("").reverse().join(""),r=new Ue(e,null,i);w.isObject(a)&&a.cookieDomain&&(r.cookieDomain=a.cookieDomain),_.s_c_il.splice(--_.s_c_in,1);var o=w.getIeVersion();if("number"==typeof o&&o<10)return r._helpers.replaceMethodsWithFunction(r,(function(){}));var s=function(){try{return _.self!==_.parent}catch(e){return!0}}()&&!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e._helpers.removeCookie("TEST_AMCV_COOKIE"),!0)}(r)&&_.parent?new R(e,a,r,_.parent):new Ue(e,a,i);return r=null,s.init(),s},function(){function e(){Ue.windowLoaded=!0}_.addEventListener?_.addEventListener("load",e):_.attachEvent&&_.attachEvent("onload",e),Ue.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}}},"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP7b1fa4581fb94dd0961a981af9997765/",settings:{orgId:"9E1005A551ED61CA0A490D45@AdobeOrg",libraryCode:{type:"preinstalled",trackerVariableName:"s_adbadobenonacdc"},trackerProperties:{currencyCode:"USD",trackingServer:"stats.adobe.com",trackInlineStats:!0,trackDownloadLinks:!0,trackExternalLinks:!0,trackingServerSecure:"sstats.adobe.com",linkDownloadFileTypes:["doc","docx","eps","jpg","png","svg","xls","ppt","pptx","pdf","xlsx","tab","csv","zip","txt","vsd","vxd","xml","js","css","rar","exe","wma","mov","avi","wmv","mp3","wav","m4v"]}},modules:{"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,n,a){"use strict";var i,r=n("@adobe/reactor-cookie"),o=n("@adobe/reactor-promise"),s=n("@adobe/reactor-window"),c=n("../helpers/settingsHelper"),l=n("../helpers/augmenters"),d=n("../helpers/applyTrackerVariables"),u=n("../helpers/loadLibrary"),f=n("../helpers/generateVersion")(a.buildInfo.turbineBuildDate),p="beforeSettings",m=a.getSharedModule("adobe-mcid","mcid-instance"),h=function(e){return!e||"true"===r.get(e)},g=function(e){return o.all(l.map((function(t){var n;try{n=t(e)}catch(e){setTimeout((function(){throw e}))}return o.resolve(n)}))).then((function(){return e}))},v=function(e){return m&&(a.logger.info("Setting MCID instance on the tracker."),e.visitor=m),e},_=function(e){return a.logger.info('Setting version on tracker: "'+f+'".'),void 0!==e.tagContainerMarker?e.tagContainerMarker=f:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+f&&(e.version+="-"+f),e},y=function(e,t,n){return t.loadPhase===p&&t.source&&(a.logger.info("Calling custom script before settings."),t.source.call(s,n)),d(n,e||{}),t.loadPhase!==p&&t.source&&(a.logger.info("Calling custom script after settings."),t.source.call(s,n)),n},b=function(e,t){return c.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),a.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},k=(i=a.getExtensionSettings(),h(i.trackingCookieName)?u(i).then(g).then(v).then(_).then(y.bind(null,i.trackerProperties,i.customSetup||{})).then(b.bind(null,i)):o.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return k}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,n){"use strict";var a=n("../helpers/augmenters");e.exports=function(e){a.push(e)}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,n,a){"use strict";var i=n("@adobe/reactor-window"),r={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[a.buildInfo.environment]&&(t=e[a.buildInfo.environment]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&i&&i._satellite&&i._satellite.company&&i._satellite.company.orgId&&(t=!0),t}};e.exports=r}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,n,a){"use strict";var i=n("@adobe/reactor-query-string"),r=n("@adobe/reactor-window"),o=/eVar([0-9]+)/,s=/prop([0-9]+)/,c=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),l=function(e,t,n){return n.indexOf(e)===t},d=function(e,t,n){var a=Object.keys(t).filter(c.test.bind(c));return n&&a.push("events"),(a=a.concat((e.linkTrackVars||"").split(","))).filter((function(e,t){return"None"!==e&&e&&l(e,t,a)})).join(",")},u=function(e,t){var n=t.map((function(e){return e.name}));return(n=n.concat((e.linkTrackEvents||"").split(","))).filter((function(e,t){return"None"!==e&&l(e,t,n)})).join(",")},f=function(e,t,n){e[t]=n[t].join(",")},p=function(e,t,n){var a=n.dynamicVariablePrefix||"D=";n[t].forEach((function(t){var n;if("value"===t.type)n=t.value;else{var i=o.exec(t.value);if(i)n=a+"v"+i[1];else{var r=s.exec(t.value);r&&(n=a+"c"+r[1])}}e[t.name]=n}))},m={linkDownloadFileTypes:f,linkExternalFilters:f,linkInternalFilters:f,hierarchies:function(e,t,n){n[t].forEach((function(t){e[t.name]=t.sections.join(t.delimiter)}))},props:p,eVars:p,campaign:function(e,t,n){if("queryParam"===n[t].type){var a=i.parse(r.location.search);e[t]=a[n[t].value]}else e[t]=n[t].value},events:function(e,t,n){var a=n[t].map((function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t}));e[t]=a.join(",")}};e.exports=function(e,t){var n={};t=t||{},Object.keys(t).forEach((function(e){var a=m[e],i=t[e];a?a(n,e,t):n[e]=i})),n.events&&e.events&&e.events.length>0&&(n.events=e.events+","+n.events);var i=t&&t.events&&t.events.length>0,r=d(e,n,i);r&&(n.linkTrackVars=r);var o=u(e,t.events||[]);o&&(n.linkTrackEvents=o),a.logger.info('Applying the following properties on tracker: "'+JSON.stringify(n)+'".'),Object.keys(n).forEach((function(t){e[t]=n[t]}))}}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,n,a){"use strict";var i=n("@adobe/reactor-load-script"),r=n("@adobe/reactor-window"),o=n("@adobe/reactor-promise"),s=n("./settingsHelper"),c=n("./pollHelper"),l=function(e,t){if(!r.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+r.AppMeasurement);a.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var n=r.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(a.logger.info("Setting the tracker as window.s"),r.s=n),n},d=function(e){var t=[];switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:t.push(a.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.APP_MEASUREMENT)),s.isActivityMapEnabled(e)&&t.push(a.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case s.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case s.LIB_TYPES.REMOTE:t.push("https:"===r.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(s.isAudienceManagementEnabled(e)){var n={namespace:r._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=n,t.push(a.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},u=function(e){return o.all(d(e).map((function(e){return a.logger.info("Loading script: "+e),i(e)})))},f=function(e,t){if(e.libraryCode.accounts)if(t.sa){var n=s.getReportSuites(e.libraryCode.accounts);a.logger.info('Setting the following report suites on the tracker: "'+n+'"'),t.sa(n)}else a.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},p=function(e){if(r[e])return a.logger.info('Found tracker located at: "'+e+'".'),r[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=u(e);switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:var n=s.getReportSuites(e.libraryCode.accounts);return t.then(l.bind(null,e,n));case s.LIB_TYPES.PREINSTALLED:return t.then(c.poll.bind(null,r,e.libraryCode.trackerVariableName)).then(f.bind(null,e));case s.LIB_TYPES.CUSTOM:case s.LIB_TYPES.REMOTE:return t.then(p.bind(null,e.libraryCode.trackerVariableName)).then(f.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,n=function(e){return e.getUTCDate().toString(36)},a=function(e){return e.substr(e.length-1)},i=function(e){return Math.floor(e.getUTCHours()/t)},r=function(e){var t=(e.getUTCMonth()+1+12*i(e)).toString(36);return a(t)},o=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+o(t)+r(t)+n(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,n,a){"use strict";var i=n("@adobe/reactor-promise"),r=40,o=250,s=function(e,t,n){a.logger.info('Found property located at: "'+t+'"].'),e(n)},c=function(e,t){return new i((function(n,a){if(e[t])return s(n,t,e[t]);var i=1,c=setInterval((function(){e[t]&&(s(n,t,e[t]),clearInterval(c)),i>=r&&(clearInterval(c),a(new Error('Bailing out. Cannot find the variable name: "'+t+'"].'))),i++}),o)}))};e.exports={poll:function(e,t){return a.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),c(e,t)}}}}}},"simple-custom-code-action":{displayName:"Simple Custom Code Action",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP86e6334f2499473c8a9195688326c2df/",modules:{"simple-custom-code-action/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n){"use strict";e.exports=function(e){var t=n("@adobe/reactor-load-script");e.file&&t(e.file).then((function(){}),(function(e){console.error(e)}))}}}}},"adobe-media-analytics":{displayName:"Adobe Media Analytics (3.x SDK) for Audio and Video",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd9a187e9632d49738559339a913561f0/",settings:{ssl:!0,channel:"video.tv.adobe.com",appVersion:"3.0.0",playerName:"html5-player",debugLogging:!1,trackingServer:"adobecorp.hb-api.omtrdc.net",exportNamespace:"ADB"},modules:{"adobe-media-analytics/src/lib/sharedModules/media.js":{name:"media",shared:!0,script:function(e,t,n,a){"use strict";var i=n("../helpers/configure"),r=n("../helpers/exportGlobal"),o=n("../helpers/mediaAPI"),s=a.getExtensionSettings(),c=a.getSharedModule("adobe-analytics","get-tracker");a.logger.info("Configuring MediaSDK"),i(s,c).catch((function(e){a.logger.error("Error configuring MediaSDK: "+e)})),r(s),e.exports=o}},"adobe-media-analytics/src/lib/helpers/configure.js":{script:function(e,t,n){"use strict";function a(e){var t=new s;return t.trackingServer=e.trackingServer,t.appVersion=e.appVersion,t.debugLogging=e.debugLogging,t.ssl=e.ssl,t.channel=e.channel,t.playerName=e.playerName,"string"==typeof t.playerName&&""!==t.playerName||(t.playerName="unknown"),t}var i=n("@adobe/reactor-promise"),r=n("../codeLibrary/MediaSDK"),o=r.Media,s=r.MediaConfig;e.exports=function(e,t){return i.resolve().then((function(){if(!t)throw new Error("Error getting a reference to Analytics shared module. Make sure Adobe Analytics Extension is configured properly.");return t().then((function(t){var n=a(e);o.configure(n,t)}))}))}}},"adobe-media-analytics/src/lib/helpers/exportGlobal.js":{script:function(e,t,n,a){"use strict";var i=n("@adobe/reactor-window"),r=(n("@adobe/reactor-object-assign"),n("./mediaAPI"));e.exports=function(e){try{var t=e&&e.exportNamespace;if(t)if(void 0===i[t]||"object"==typeof i[t]&&!i[t])i[t]=Object.freeze({Media:r});else{var n='Exporting APIs to Browser window["'+t+'"] failed as it is not null/undefined.';a.logger.error(n)}}catch(e){n='Exporting APIs to Browser window["'+t+'"] failed with reason'+e.message+".",a.logger.error(n)}}}},"adobe-media-analytics/src/lib/helpers/mediaAPI.js":{script:function(e,t,n){"use strict";var a=n("../codeLibrary/MediaSDK").Media,i={Event:a.Event,MediaType:a.MediaType,StreamType:a.StreamType,PlayerState:a.PlayerState,MediaObjectKey:a.MediaObjectKey,VideoMetadataKeys:a.VideoMetadataKeys,AudioMetadataKeys:a.AudioMetadataKeys,AdMetadataKeys:a.AdMetadataKeys,version:a.version,createMediaObject:a.createMediaObject,createAdBreakObject:a.createAdBreakObject,
createAdObject:a.createAdObject,createChapterObject:a.createChapterObject,createQoEObject:a.createQoEObject,createStateObject:a.createStateObject,getInstance:a.getInstance};e.exports=Object.freeze(i)}},"adobe-media-analytics/src/lib/codeLibrary/MediaSDK.js":{script:function(e,t){var n,a;n=this,a=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){var e=0;return{getUniqueId:function(){return e+=1}}}function f(){return(new Date).getTime()}function p(e,t){if(window.console){var n;switch(e){case O.Log:n=window.console.log;break;case O.Info:n=window.console.info;break;case O.Warn:n=window.console.warn;break;case O.Error:n=window.console.error}n&&n("MediaSDK: ["+function(){var e=new Date,t=function(e){return e<10?"00"+e:e<100?"0"+e:""+e}(e.getMilliseconds());return e.toTimeString()+"."+t}()+"] "+t)}}function m(e,t){return setInterval(e,t)}function h(e){var t=e.debugLogging;M(t)&&(R=t)}function g(e,t,n){(R||e===O.Error)&&p(e,t+" "+n)}function v(e){var t=L(e)?"["+e+"]":"";return{log:function(e){!function(e,t){g(O.Log,e,t)}(t,e)},info:function(e){!function(e,t){g(O.Info,e,t)}(t,e)},warn:function(e){!function(e,t){g(O.Warn,e,t)}(t,e)},error:function(e){!function(e,t){g(O.Error,e,t)}(t,e)}}}function _(e){var t={};return N(e)&&Object.keys(e).forEach((function(n){var a=e[n],i=a.id,r=a.authState,o=void 0===r?0:r;L(i)&&(t[n]={id:i,authState:o})})),t}function y(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i({},J.EventType,e.eventType);a[J.PlayerTime]=(i(t={},$.Playhead,e.playhead),i(t,$.Ts,e.ts),t),X(e.customMetadata)||(a[J.CustomMetadata]=e.customMetadata),X(e.qoeData)||(a[J.QoE]=e.qoeData);var r=o({},e.params);if(e.eventType===F.SessionStart){L(n[j.AnalyticsTrackingServer])&&(r[q.AnalyticsTrackingServer]=n[j.AnalyticsTrackingServer]),L(n[j.Rsid])&&(r[q.AnalyticsRsid]=n[j.Rsid]),M(n[j.AnalyticsSsl])&&(r[q.AnalyticsSsl]=n[j.AnalyticsSsl]),L(n[j.Vid])&&(r[q.AnalyticsVisitorId]=n[j.Vid]),L(n[j.Aid])&&(r[q.AnalyticsAid]=n[j.Aid]),L(n[j.McOrgId])&&(r[q.VisitorMcOrgId]=n[j.McOrgId]),L(n[j.Mcid])&&(r[q.VisitorMcuserId]=n[j.Mcid]),ee(n[j.AamLocHint])&&(r[q.VisitorAamLocHint]=n[j.AamLocHint]);var s=_(n[j.CustomerIds]);if(N(s)&&!X(s)&&(r[q.VisitorCustomerIds]=s),!L(r[H.Channel])){var c=n[j.MediaChannel];r[H.Channel]=L(c)?c:"unknown"}var l=n[j.MediaPlayerName];r[H.PlayerName]=L(l)?l:"unknown",L(n[j.MediaAppVersion])&&(r[H.SdkVersion]=n[j.MediaAppVersion]),r[q.MediaVersion]="js-extn-3.0.2"}else if(e.eventType===F.AdStart){var d=n[j.MediaPlayerName];r[W.PlayerName]=L(d)?d:"unknown"}return X(r)||(a[J.Params]=r),ne((function(){return JSON.stringify(a)}),"")}function b(e){try{var t=e.split("/");return t[4]?t[4]:""}catch(e){return""}}var k=Object.freeze({AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"}),S=Object.freeze({MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"}),I=Object.freeze({Video:"video",Audio:"audio"}),C=Object.freeze({FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"}),E=Object.freeze({Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"}),A=Object.freeze({Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"}),P=Object.freeze({Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"}),T=Object.freeze({VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"}),D=Object.freeze({OptOut:"optout",OptIn:"optin",OptUnknown:"optunknown"}),w=function(e){return null==e},O=Object.freeze({Log:"log",Info:"info",Warn:"warn",Error:"error"}),M=function(e){return"boolean"==typeof e},x=function(e){return"string"==typeof e},L=function(e){return x(e)&&e.length>0},N=function(t){return!w(t)&&!Array.isArray(t)&&"object"===e(t)},R=!1,j=Object.freeze({AnalyticsTrackingServer:"analyticstrackingserver",AnalyticsSsl:"analyticsssl",Rsid:"rsid",Vid:"vid",Aid:"aid",Mcid:"mid",McOrgId:"orgid",AamLocHint:"aamlochint",CustomerIds:"customerids",MediaTrackingServer:"mediatrackingserver",MediaChannel:"mediachannel",MediaPlayerName:"mediaplayername",MediaAppVersion:"mediaappversion",MediaSsl:"mediassl"}),V=Object.freeze({Get:"GET",Post:"POST"}),F=Object.freeze({SessionStart:"sessionStart",SessionComplete:"sessionComplete",SessionEnd:"sessionEnd",AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",Play:"play",Ping:"ping",BufferStart:"bufferStart",PauseStart:"pauseStart",BitrateChange:"bitrateChange",Error:"error",StateStart:"stateStart",StateEnd:"stateEnd"}),U=Object.freeze({Show:"media.show",Season:"media.season",Episode:"media.episode",AssetId:"media.assetId",Genre:"media.genre",FirstAirDate:"media.firstAirDate",FirstDigitalDate:"media.firstDigitalDate",Rating:"media.rating",Originator:"media.originator",Network:"media.network",ShowType:"media.showType",AdLoad:"media.adLoad",MVPD:"media.pass.mvpd",Auth:"media.pass.auth",DayPart:"media.dayPart",Feed:"media.feed",StreamFormat:"media.streamFormat",Artist:"media.artist",Album:"media.album",Label:"media.label",Author:"media.author",Station:"media.station",Publisher:"media.publisher"}),B=Object.freeze({Advertiser:"media.ad.advertiser",CampaignId:"media.ad.campaignId",CreativeId:"media.ad.creativeId",SiteId:"media.ad.siteId",CreativeUrl:"media.ad.creativeURL",PlacementId:"media.ad.placementId"}),H=Object.freeze({Id:"media.id",Name:"media.name",Length:"media.length",ContentType:"media.contentType",StreamType:"media.streamType",PlayerName:"media.playerName",Resume:"media.resume",Channel:"media.channel",Publisher:"media.publisher",SdkVersion:"media.sdkVersion"}),q=Object.freeze({AppInstallationId:"appInstallationId",AnalyticsTrackingServer:"analytics.trackingServer",AnalyticsRsid:"analytics.reportSuite",AnalyticsSsl:"analytics.enableSSL",AnalyticsVisitorId:"analytics.visitorId",AnalyticsAid:"analytics.aid",VisitorMcOrgId:"visitor.marketingCloudOrgId",VisitorMcuserId:"visitor.marketingCloudUserId",VisitorAamLocHint:"visitor.aamLocationHint",VisitorCustomerIds:"visitor.customerIDs",VisitorCustomerKeyId:"id",VisitorCustomerKeyAuthState:"authState",MediaVersion:"media.libraryVersion"}),G=Object.freeze({Channel:"media.channel"}),z=Object.freeze({PodFriendlyName:"media.ad.podFriendlyName",PodIndex:"media.ad.podIndex",PodSecond:"media.ad.podSecond"}),W=Object.freeze({Name:"media.ad.name",Id:"media.ad.id",Length:"media.ad.length",PodPosition:"media.ad.podPosition",PlayerName:"media.ad.playerName"}),Q=Object.freeze({FriendlyName:"media.chapter.friendlyName",Length:"media.chapter.length",Offset:"media.chapter.offset",Index:"media.chapter.index"}),Y=Object.freeze({StateName:"media.state.name"}),K=Object.freeze({Bitrate:"media.qoe.bitrate",DroppedFrames:"media.qoe.droppedFrames",Fps:"media.qoe.framesPerSecond",StartupTime:"media.qoe.timeToStart",ErrorId:"media.qoe.errorID",ErrorSource:"media.qoe.errorSource",ErrorSourcePlayer:"player",ErrorSourceExternal:"external"}),J=Object.freeze({EventType:"eventType",Params:"params",QoE:"qoeData",CustomMetadata:"customMetadata",PlayerTime:"playerTime"}),$=Object.freeze({Playhead:"playhead",Ts:"ts"}),X=function(e){return 0===Object.keys(e).length},Z=function(e){return"number"==typeof e&&!isNaN(e)},ee=function(e){var t=parseInt(e,10);return Z(t)&&e===t},te=function(e){return"function"==typeof e},ne=function(e,t){if(!te(e))return t;try{return e()}catch(e){return t}},ae=[j.AnalyticsTrackingServer,j.AnalyticsSsl,j.Rsid,j.Vid,j.Aid,j.Mcid,j.McOrgId,j.AamLocHint,j.CustomerIds,j.MediaChannel,j.MediaAppVersion,j.MediaPlayerName,j.MediaTrackingServer,j.MediaSsl],ie={"Content-Type":"application/json"},re=function(){function e(n){t(this,e),this._logger=v("MediaSession("+n+")"),this._hits=[],this._ecParams=null,this._sessionId=null,this._creatingMCSession=!1,this._createSessionFailureCount=0,this._internalError=!1,this._doneQueuing=!1}return a(e,[{key:"queue",value:function(e){this._internalError||this._doneQueuing||this._hits.push(e)}},{key:"process",value:function(e){this._internalError||0!==this._hits.length&&e.isReady()&&(this._ecParams||(this._ecParams=e.resolveKeys(ae)),w(this._sessionId)?this._startMCSession():this._flushPendingHits())}},{key:"end",value:function(){this._logger.log("end"),this._doneQueuing=!0}},{key:"abort",value:function(){this._logger.log("abort"),this._doneQueuing=!0,this._hits=[]}},{key:"doneProcessing",value:function(){return this._internalError||this._doneQueuing&&0===this._hits.length}},{key:"_startMCSession",value:function(){var e=this;if(!this._creatingMCSession){var t=this._hits[0];if(t.eventType!==F.SessionStart)return this._logger.log("Dropping hit("+t.eventType+") as we expected sessionStart"),void this._hits.shift();var n,a=((n=this._ecParams)[j.MediaSsl]?"https":"http")+"://"+n[j.MediaTrackingServer]+"/api/v1/sessions",i=y(t,this._ecParams);this._creatingMCSession=!0,this._sendRequest(a,V.Post,ie,i,(function(t,n){var a,i=!1;do{if(201!==t)break;var r=n.location;if(!L(r))break;if(!(a=b(r)))break;i=!0}while(0);i?(e._logger.log("Media collection session created with session id :  "+a),e._sessionId=a,e._hits.shift()):(e._logger.log("Creating Media collection session failed"),e._createSessionFailureCount+=1,e._createSessionFailureCount>=3&&(e._logger.log("Internal error: Creating Media collection session failed 3 times"),e._internalError=!0)),e._creatingMCSession=!1}))}}},{key:"_flushPendingHits",value:function(){var e=this;this._hits.splice(0,3).forEach((function(t){var n,a,i=(n=e._ecParams,a=e._sessionId,(n[j.MediaSsl]?"https":"http")+"://"+n[j.MediaTrackingServer]+"/api/v1/sessions/"+a+"/events"),r=y(t,e._ecParams);e._sendRequest(i,V.Post,ie,r,(function(){}))}))}},{key:"_sendRequest",value:function(e,t,n,a,i){!function(e,t,n,a,i){if(void 0!==window.XMLHttpRequest){var r=new window.XMLHttpRequest;if("withCredentials"in r){var o=r;return o.open(t,e,!0),N(n)&&Object.keys(n).forEach((function(e){o.setRequestHeader(e,n[e])})),o.timeout=5e3,o.onload=function(){var e=o.status&&parseInt(o.status,10),t=o.responseText,n=function(e){var t={};try{e.trim().split(/[\r\n]+/).forEach((function(e){var n=e.split(":",1)[0],a=e.substring(n.length+2);n.length>0&&(t[n.toLowerCase()]=a)}))}catch(e){}return t}(o.getAllResponseHeaders());i(e,n,t)},o.onerror=function(){i(0)},void o.send(a)}i(0)}}(e,t,n,a,i)}}]),e}(),oe=function(){function e(){t(this,e),this._logger=v("MediaProcessor"),this._isConfigured=!1,this._privacyStatus=D.OptUnknown,this._sessionIdGenerator=u(),this._sessionMap={}}return a(e,[{key:"configure",value:function(e){var t=this;this._isConfigured||(this._ecResolver=e,this._privacyStatus=this._ecResolver.getPrivacyStatus(),this._ecResolver.notifyPrivacyChange(this._onPrivacyChange.bind(this)),this._isConfigured=!0,this._processSessionTimer=m((function(){t._tick()}),500),this._logger.log("Configured with resolver"))}},{key:"startSession",value:function(){if(this._privacyStatus===D.OptOut)return this._logger.log("Privacy is opted out. Not starting a session"),-1;var t=this._sessionIdGenerator.getUniqueId();return this._sessionMap[t]=e._createMediaSession(t),t}},{key:"processHit",value:function(e,t){if(-1!==e){var n=this._sessionMap[e];w(n)||(this._logger.log("Process hit for session("+e+") => "+t),n.queue(t))}}},{key:"endSession",value:function(e){if(-1!==e){var t=this._sessionMap[e];w(t)||t.end()}}},{key:"_tick",value:function(){var e=this;Object.keys(this._sessionMap).forEach((function(t){var n=e._sessionMap[t];n.process(e._ecResolver),n.doneProcessing()&&(e._logger.log("Removing session "+t+" from store as it has finished processing"),delete e._sessionMap[t])}))}},{key:"_onPrivacyChange",value:function(e){var t=this;this._logger.log("Privacy switched to "+e),this._privacyStatus=e,e===D.OptOut&&(this._logger.log("Aborting all active sessions"),Object.keys(this._sessionMap).forEach((function(e){t._sessionMap[e].abort()})))}}],[{key:"_createMediaSession",value:function(e){return new re(e)}}]),e}(),se=function(){function e(n){var a=n.id,i=n.name,r=n.position,o=n.length;if(t(this,e),!L(a))throw new TypeError("id is not a valid string");if(!L(i))throw new TypeError("name is not a valid string");if(!ee(r)||r<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(o)||o<0)throw new TypeError("length cannot be less than zero");this.id=a,this.name=i,this.position=r,this.length=o}return a(e,[{key:"equal",value:function(t){return!w(t)&&t instanceof e&&this.id===t.id&&this.name===t.name&&this.position===t.position&&this.length===t.length}},{key:"serialize",value:function(){var e;return i(e={},"ad.id",this.id),i(e,"ad.name",this.name),i(e,"ad.position",this.position),i(e,"ad.length",this.length),e}}],[{key:"deserialize",value:function(t){return N(t)?ne((function(){return new e({id:t["ad.id"],name:t["ad.name"],position:t["ad.position"],length:t["ad.length"]})}),null):null}}]),e}(),ce=function(){function e(n){var a=n.name,i=n.position,r=n.startTime;if(t(this,e),!L(a))throw new TypeError("name is not a valid string");if(!ee(i)||i<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(r)||r<0)throw new TypeError("startTime cannot be less than zero");this.name=a,this.position=i,this.startTime=r}return a(e,[{key:"equal",value:function(t){return!w(t)&&t instanceof e&&this.name===t.name&&this.position===t.position&&this.startTime===t.startTime}},{key:"serialize",value:function(){var e;return i(e={},"adbreak.name",this.name),i(e,"adbreak.position",this.position),i(e,"adbreak.starttime",this.startTime),e}}],[{key:"deserialize",value:function(t){return N(t)?ne((function(){return new e({name:t["adbreak.name"],position:t["adbreak.position"],startTime:t["adbreak.starttime"]})}),null):null}}]),e}(),le=function(){function e(n){var a=n.name,i=n.position,r=n.startTime,o=n.length;if(t(this,e),!L(a))throw new TypeError("name is not a valid string");if(!ee(i)||i<1)throw new TypeError("position should be a valid integer greater than zero");if(!Z(r)||r<0)throw new TypeError("startTime cannot be less than zero");if(!Z(o)||o<0)throw new TypeError("length cannot be less than zero");this.name=a,this.position=i,this.startTime=r,this.length=o}return a(e,[{key:"equal",value:function(t){return!w(t)&&t instanceof e&&this.name===t.name&&this.position===t.position&&this.startTime===t.startTime&&this.length===t.length}},{key:"serialize",value:function(){var e;return i(e={},"chapter.name",this.name),i(e,"chapter.position",this.position),i(e,"chapter.starttime",this.startTime),i(e,"chapter.length",this.length),e}}],[{key:"deserialize",value:function(t){return N(t)?ne((function(){return new e({name:t["chapter.name"],position:t["chapter.position"],startTime:t["chapter.starttime"],length:t["chapter.length"]})}),null):null}}]),e}(),de=new RegExp("^[a-zA-Z0-9_\\.]{1,64}$"),ue=function(){function e(n){var a=n.name;if(t(this,e),!L(a))throw new TypeError("name is not a valid string");if(!de.test(a))throw new TypeError("name should match '^[a-zA-Z0-9_\\.]{1,64}$' pattern");this.name=a}return a(e,[{key:"equal",value:function(t){return!w(t)&&t instanceof e&&this.name===t.name}},{key:"serialize",value:function(){return i({},"customstate.name",this.name)}}],[{key:"deserialize",value:function(t){return N(t)?ne((function(){return new e({name:t["customstate.name"]})}),null):null}}]),e}(),fe=function(){function e(n){var a=n.id,i=n.name,r=n.streamType,o=n.mediaType,s=n.length,c=n.resumed,l=n.prerollWaitTime,d=n.granularAdTracking;if(t(this,e),!L(a))throw new TypeError("id is not a valid string");if(!L(i))throw new TypeError("name is not a valid string");if(!L(r))throw new TypeError("streamType is not a valid string");if(!Z(s)||s<0)throw new TypeError("length cannot be less than zero");this.id=a,this.name=i,this.streamType=r,this.mediaType=o!==I.Audio?I.Video:o,this.length=s,this.resumed=!!M(c)&&c,this.prerollWaitTime=!ee(l)||l<0?250:l,this.granularAdTracking=!!M(d)&&d}return a(e,[{key:"equal",value:function(t){return!w(t)&&t instanceof e&&this.id===t.id&&this.name===t.name&&this.streamType===t.streamType&&this.mediaType===t.mediaType&&this.length===t.length&&this.resumed===t.resumed&&this.prerollWaitTime===t.prerollWaitTime&&this.granularAdTracking===t.granularAdTracking}},{key:"serialize",value:function(){var e;return i(e={},"media.id",this.id),i(e,"media.name",this.name),i(e,"media.streamtype",this.streamType),i(e,"media.type",this.mediaType),i(e,"media.length",this.length),i(e,"media.resumed",this.resumed),i(e,"media.prerollwaittime",this.prerollWaitTime),i(e,"media.granularadtracking",this.granularAdTracking),e}}],[{key:"deserialize",value:function(t){return N(t)?ne((function(){return new e({id:t["media.id"],name:t["media.name"],streamType:t["media.streamtype"],mediaType:t["media.type"],length:t["media.length"],resumed:t["media.resumed"],prerollWaitTime:t["media.prerollwaittime"],granularAdTracking:t["media.granularadtracking"]})}),null):null}}]),e}(),pe=function(){function e(n){var a=n.bitrate,i=n.droppedFrames,r=n.fps,o=n.startupTime;if(t(this,e),!Z(a)||a<0)throw new TypeError("bitrate must not be less than zero");if(!Z(i)||i<0)throw new TypeError("dropped frames must not be less than zero");if(!Z(r)||r<0)throw new TypeError("fps must not be less than zero");if(!Z(o)||o<0)throw new TypeError("startupTime must not be less than zero");this.bitrate=a,this.droppedFrames=i,this.fps=r,this.startupTime=o}return a(e,[{key:"equal",value:function(t){return!w(t)&&t instanceof e&&this.bitrate===t.bitrate&&this.droppedFrames===t.droppedFrames&&this.fps===t.fps&&this.startupTime===t.startupTime}},{key:"serialize",value:function(){var e;return i(e={},"qoe.bitrate",this.bitrate),i(e,"qoe.droppedframes",this.droppedFrames),i(e,"qoe.fps",this.fps),i(e,"qoe.startuptime",this.startupTime),e}}],[{key:"deserialize",value:function(t){return N(t)?ne((function(){return new e({bitrate:t["qoe.bitrate"],droppedFrames:t["qoe.droppedframes"],fps:t["qoe.fps"],startupTime:t["qoe.startuptime"]})}),null):null}}]),e}(),me=v("Media"),he=function(e){try{return JSON.stringify(e,null,4)}catch(e){return"[Error formatting object]"}},ge=Object.freeze({Name:"event.name",Params:"event.params",Metadata:"event.metadata",TimeStamp:"event.ts",InternalEvent:"event.internal",Playhead:"event.playhead",ErrorId:"error.id"}),ve=Object.freeze(o({SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pause",Error:"error",QoEUpdate:"qoeUpdate",PlayheadUpdate:"playheadUpdate"},k)),_e=function(){function e(n,a){if(t(this,e),w(n))throw new Error("id is not valid");this.id=n,this.description=a,this.predicates=[],this.actions=[]}return a(e,[{key:"addPredicate",value:function(e,t,n){if(!te(e))throw new Error("predicate is not a function");return this.predicates.push({predicate:e,val:t,message:n}),this}},{key:"addAction",value:function(e){if(!te(e))throw new Error("action is not a function");return this.actions.push(e),this}},{key:"runPredicates",value:function(e){for(var t=0;t<this.predicates.length;++t){var n=this.predicates[t];if(n.predicate(e)!==n.val)return{success:!1,message:n.message}}return{success:!0,message:""}}},{key:"runActions",value:function(e){for(var t=0;t<this.actions.length;++t)if(!(0,this.actions[t])(e))return!1;return!0}}]),e}(),ye=function(){function e(n){if(t(this,e),!n)throw new Error("RuleEngine needs a logger");this.logger=n,this.rules={}}return a(e,[{key:"setEnterAction",value:function(e){if(!te(e))throw new Error("enterAction is not a function");this.enterAction=e}},{key:"setExitAction",value:function(e){if(!te(e))throw new Error("exitAction is not a function");this.exitAction=e}},{key:"addRule",value:function(e){if(!(e instanceof _e))throw new Error("rule is not valid");this.rules[e.id]=e}},{key:"processRule",value:function(e,t){var n=this.rules[e];if(!n)return{success:!1,message:"Matching rule is not found"};var a=n.runPredicates(t);do{if(!a.success){this.logger.log("RuleEngine: Predicates failed for rule "+n.description+" : "+a.message);break}if(this.enterAction&&!this.enterAction(n,t)){this.logger.log("RuleEngine: Enter action prevents further processing for rule "+n.description);break}if(!n.runActions(t)){this.logger.log("RuleEngine: Rule action prevents further processing for rule "+n.description);break}this.exitAction&&this.exitAction(n,t)}while(0);return a}}]),e}(),be=Object.freeze({Init:0,Play:1,Pause:2,Buffer:3,Seek:4,Stall:5}),ke=function(){function e(n,a){t(this,e),this._mediaInfo=n,this._mediaMetadata=a,this._adBreakInfo=null,this._adInfo=null,this._adMetadata=null,this._chapterInfo=null,this._chapterMetadata=null,this._qoeInfo=null,this._playhead=0,this._playstate=be.Init,this._buffering=!1,this._seeking=!1,this._customStates=new Map}return a(e,[{key:"setAdBreakInfo",value:function(e){this._adBreakInfo=e}},{key:"clearAdBreakInfo",value:function(){this._adBreakInfo=null}},{key:"setAdInfo",value:function(e,t){this._adInfo=e,this._adMetadata=t}},{key:"clearAdInfo",value:function(){this._adInfo=null,this._adMetadata=null}},{key:"setChapterInfo",value:function(e,t){this._chapterInfo=e,this._chapterMetadata=t}},{key:"clearChapterInfo",value:function(){this._chapterInfo=null,this._chapterMetadata=null}},{key:"enterPlaybackState",value:function(e){switch(e){case be.Play:case be.Pause:case be.Stall:this._playstate=e;break;case be.Buffer:this._buffering=!0;break;case be.Seek:this._seeking=!0}}},{key:"exitPlaybackState",value:function(e){switch(e){case be.Buffer:this._buffering=!1;break;case be.Seek:this._seeking=!1}}},{key:"isInPlaybackState",value:function(e){var t=!1;switch(e){case be.Init:case be.Play:case be.Pause:case be.Stall:t=this._playstate===e;break;case be.Buffer:t=this._buffering;break;case be.Seek:t=this._seeking}return t}},{key:"isIdle",value:function(){return!this.isInPlaybackState(be.Play)||this.isInPlaybackState(be.Seek)||this.isInPlaybackState(be.Buffer)}},{key:"startCustomState",value:function(e){this._customStates.set(e.name,e)}},{key:"endCustomState",value:function(e){this._customStates.set(e.name,null)}},{key:"isCustomStateActive",value:function(e){return!!this._customStates.get(e.name)}},{key:"getActiveCustomStates",value:function(){var e=[];return this._customStates.forEach((function(t){t&&e.push(t)})),e}},{key:"hasTrackedCustomState",value:function(e){return this._customStates.has(e.name)}},{key:"numTrackedCustomStates",value:function(){return this._customStates.size}},{key:"mediaInfo",get:function(){return this._mediaInfo}},{key:"mediaMetadata",get:function(){return this._mediaMetadata}},{key:"isInAdBreak",get:function(){return!!this._adBreakInfo}},{key:"adBreakInfo",get:function(){return this._adBreakInfo}},{key:"isInAd",get:function(){return!!this._adInfo}},{key:"adInfo",get:function(){return this._adInfo}},{key:"adMetadata",get:function(){return this._adMetadata}},{key:"isInChapter",get:function(){return!!this._chapterInfo}},{key:"chapterInfo",get:function(){return this._chapterInfo}},{key:"chapterMetadata",get:function(){return this._chapterMetadata}},{key:"qoeInfo",get:function(){return this._qoeInfo},set:function(e){this._qoeInfo=e}},{key:"playhead",get:function(){return this._playhead},set:function(e){this._playhead=e}}]),e}(),Se=function(){function e(n){var a=n.eventType,i=n.params,r=n.customMetadata,o=n.qoeData,s=n.playhead,c=n.ts;if(t(this,e),!x(a))throw new Error("eventType should be a valid string");if(!Z(s))throw new Error("playhead should be a valid number");if(!ee(c)||c<0)throw new Error("ts should be a valid positive integer");this.eventType=a,this.params=N(i)?i:{},this.customMetadata=N(r)?r:{},this.qoeData=N(o)?o:{},this.playhead=s,this.ts=c}return a(e,[{key:"toString",value:function(){return he(this)}}]),e}(),Ie=function(){function e(n,a,i,r,o){t(this,e),this._logger=n,this._hitProcessor=a,this._config=i,this._media=r,this._refTs=o,this._previousState=be.Init,this._previousStateTs=o,this._interval=1e4,this._lastQoeInfo=null,this._startSession()}return a(e,[{key:"setRefTS",value:function(e){this._refTs=e}},{key:"processMediaStart",value:function(){this._processMediaStart(!1)}},{key:"processMediaComplete",value:function(){this._generateHit(F.SessionComplete),this._endSession()}},{key:"processMediaSkip",value:function(){this._generateHit(F.SessionEnd),this._endSession()}},{key:"processAdBreakStart",value:function(){var t=e._extractAdBreakParams(this._media);this._generateHit(F.AdBreakStart,t,{})}},{key:"processAdBreakComplete",value:function(){this._generateHit(F.AdBreakComplete)}},{key:"processAdBreakSkip",value:function(){this._generateHit(F.AdBreakComplete)}},{key:"processAdStart",value:function(){e._isGranularAdTrackingEnabled(this._media)&&(this._interval=1e3);var t=e._extractAdParams(this._media),n=e._extractAdMetadata(this._media);this._generateHit(F.AdStart,t,n)}},{key:"processAdComplete",value:function(){this._interval=1e4,this._generateHit(F.AdComplete)}},{key:"processAdSkip",value:function(){this._interval=1e4,this._generateHit(F.AdSkip)}},{key:"processChapterStart",value:function(){var t=e._extractChapterParams(this._media),n=e._extractChapterMetadata(this._media);this._generateHit(F.ChapterStart,t,n)}},{key:"processChapterComplete",value:function(){this._generateHit(F.ChapterComplete)}},{key:"processChapterSkip",value:function(){this._generateHit(F.ChapterSkip)}},{key:"processCustomStateStart",value:function(e){var t={};t[Y.StateName]=e.name,this._generateHit(F.StateStart,t,{},{})}},{key:"processCustomStateEnd",value:function(e){var t={};t[Y.StateName]=e.name,this._generateHit(F.StateEnd,t,{},{})}},{key:"processSessionAbort",value:function(){this.processMediaSkip()}},{key:"processSessionRestart",value:function(){this._previousState=be.Init,this._previousStateTs=this._refTs,this._lastQoeInfo=null,this._startSession(),this.processMediaStart(!0),this._media.isInChapter&&this.processChapterStart(),this._media.isInAdBreak&&this.processAdBreakStart(),this._media.isInAd&&this.processAdStart();var e,t=this._media.getActiveCustomStates();for(e=0;e<t.length;e++)this.processCustomStateStart(t[e]);this.processPlayback(!0)}},{key:"processBitrateChange",value:function(){var t=e._extractQoeData(this._media);this._generateHit(F.BitrateChange,{},{},t)}},{key:"processError",value:function(t){var n=e._extractQoeData(this._media);n[K.ErrorId]=t,n[K.ErrorSource]=K.ErrorSourcePlayer,this._generateHit(F.Error,{},{},n)}},{key:"processPlayback",value:function(t){if(this._isTracking){var n=this._getPlaybackState();if(this._previousState!==n||t){var a=e._playbackStateToMediaCollectionEvent(n);this._generateHit(a),this._previousState=n,this._previousStateTs=this._refTs}else n===this._previousState&&this._refTs-this._previousStateTs>=this._interval&&(this._generateHit(F.Ping),this._previousStateTs=this._refTs)}}},{key:"_processMediaStart",value:function(t){var n={};n=e._extractMediaParams(this._media),t&&(n[H.Resume]=!0);var a=this._config[G.Channel];L(a)&&(n[G.Channel]=a);var i=e._extractMediaMetadata(this._media);this._generateHit(F.SessionStart,n,i)}},{key:"_generateHit",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(w(i)){var r=this._media.qoeInfo;!(w(r)||!w(this._lastQoeInfo)&&this._lastQoeInfo.equal(r))&&(i=e._extractQoeData(this._media),this._lastQoeInfo=r)}if(this._isTracking){var o=this._media.playhead,s=this._refTs,c=new Se({eventType:t,params:n,customMetadata:a,qoeData:i,playhead:o,ts:s});this._hitProcessor.processHit(this._sessionId,c)}else this._logger.log("#_generateHit - Dropping hit as we have internally stopped tracking the session")}},{key:"_getPlaybackState",value:function(){return this._media.isInPlaybackState(be.Buffer)?be.Buffer:this._media.isInPlaybackState(be.Seek)?be.Seek:this._media.isInPlaybackState(be.Play)?be.Play:this._media.isInPlaybackState(be.Pause)?be.Pause:this._media.isInPlaybackState(be.Stall)?be.Stall:be.Init}},{key:"_startSession",value:function(){this._sessionId=this._hitProcessor.startSession(),this._isTracking=!0,this._logger.log("Start internal session("+this._sessionId+")")}},{key:"_endSession",value:function(){this._hitProcessor.endSession(this._sessionId),this._isTracking=!1,this._logger.log("End internal session("+this._sessionId+")")}}],[{key:"_isGranularAdTrackingEnabled",value:function(e){var t=e.mediaInfo;return!w(t)&&t.granularAdTracking}},{key:"_extractMediaParams",value:function(t){var n={},a=t.mediaInfo;w(a)||(n[H.Id]=a.id,n[H.Name]=a.name,n[H.Length]=a.length,n[H.ContentType]=a.streamType,n[H.StreamType]=a.mediaType,n[H.Resume]=a.resumed);var i=t.mediaMetadata;return N(i)&&Object.keys(i).forEach((function(t){if(e._standardMediaMetadataMap.has(t)){var a=e._standardMediaMetadataMap.get(t);n[a]=i[t]}})),n}},{key:"_extractMediaMetadata",value:function(t){var n={},a=t.mediaMetadata;return N(a)&&Object.keys(a).forEach((function(t){e._standardMediaMetadataMap.has(t)||(n[t]=a[t])})),n}},{key:"_extractAdBreakParams",value:function(e){var t={},n=e.adBreakInfo;return w(n)||(t[z.PodFriendlyName]=n.name,t[z.PodIndex]=n.position,t[z.PodSecond]=n.startTime),t}},{key:"_extractAdParams",value:function(t){var n={},a=t.adInfo;w(a)||(n[W.Name]=a.name,n[W.Id]=a.id,n[W.Length]=a.length,n[W.PodPosition]=a.position);var i=t.adMetadata;return N(i)&&Object.keys(i).forEach((function(t){if(e._standardAdMetadataMap.has(t)){var a=e._standardAdMetadataMap.get(t);n[a]=i[t]}})),n}},{key:"_extractAdMetadata",value:function(t){var n={},a=t.adMetadata;return N(a)&&Object.keys(a).forEach((function(t){e._standardAdMetadataMap.has(t)||(n[t]=a[t])})),n}},{key:"_extractChapterParams",value:function(e){var t={},n=e.chapterInfo;return w(n)||(t[Q.FriendlyName]=n.name,t[Q.Index]=n.position,t[Q.Length]=n.length,t[Q.Offset]=n.startTime),t}},{key:"_extractChapterMetadata",value:function(e){var t={},n=e.chapterMetadata;return N(n)&&Object.keys(n).forEach((function(e){t[e]=n[e]})),t}},{
key:"_extractQoeData",value:function(e){var t={},n=e.qoeInfo;return N(n)&&(t[K.Bitrate]=parseInt(n.bitrate,10),t[K.Fps]=parseInt(n.fps,10),t[K.DroppedFrames]=parseInt(n.droppedFrames,10),t[K.StartupTime]=parseInt(n.startupTime,10)),t}},{key:"_playbackStateToMediaCollectionEvent",value:function(e){switch(e){case be.Buffer:return F.BufferStart;case be.Seek:return F.PauseStart;case be.Play:return F.Play;case be.Pause:return F.PauseStart;case be.Stall:return F.Play;case be.Init:return F.Ping;default:return""}}}]),e}(),Ce=new Map;Ce.set(E.Show,U.Show),Ce.set(E.Season,U.Season),Ce.set(E.Episode,U.Episode),Ce.set(E.AssetId,U.AssetId),Ce.set(E.Genre,U.Genre),Ce.set(E.FirstAirDate,U.FirstAirDate),Ce.set(E.FirstDigitalDate,U.FirstDigitalDate),Ce.set(E.Rating,U.Rating),Ce.set(E.Originator,U.Originator),Ce.set(E.Network,U.Network),Ce.set(E.ShowType,U.ShowType),Ce.set(E.AdLoad,U.AdLoad),Ce.set(E.MVPD,U.MVPD),Ce.set(E.Authorized,U.Auth),Ce.set(E.DayPart,U.DayPart),Ce.set(E.Feed,U.Feed),Ce.set(E.StreamFormat,U.StreamFormat),Ce.set(A.Artist,U.Artist),Ce.set(A.Album,U.Album),Ce.set(A.Label,U.Label),Ce.set(A.Author,U.Author),Ce.set(A.Station,U.Station),Ce.set(A.Publisher,U.Publisher),Ie._standardMediaMetadataMap=Ce;var Ee=new Map;Ee.set(P.Advertiser,B.Advertiser),Ee.set(P.CampaignId,B.CampaignId),Ee.set(P.CreativeId,B.CreativeId),Ee.set(P.PlacementId,B.PlacementId),Ee.set(P.SiteId,B.SiteId),Ee.set(P.CreativeUrl,B.CreativeUrl),Ie._standardAdMetadataMap=Ee;var Ae="Media tracker is not in active tracking session, call 'API:trackSessionStart' to begin a new tracking session.",Pe="Media tracker is in active tracking session, call 'API:trackSessionEnd' or 'API:trackComplete' to end current tracking session.",Te="Media tracker is tracking buffer events, call 'API:trackEvent(BufferComplete)' first to stop tracking buffer events.",De="Media tracker is not tracking buffer events, call 'API:trackEvent(BufferStart)' before 'API:trackEvent(BufferComplete)'.",we="Media tracker is tracking seek events, call 'API:trackEvent(SeekComplete)' first to stop tracking seek events.",Oe="Media tracker is not tracking seek events, call 'API:trackEvent(SeekStart)' before 'API:trackEvent(SeekComplete)'.",Me="Media tracker is not tracking any AdBreak, call 'API:trackEvent(AdBreakStart)' to begin tracking AdBreak",xe="Media tracker is not tracking any Ad, call 'API:trackEvent(AdStart)' to begin tracking Ad",Le="Media tracker is not tracking any Chapter, call 'API:trackEvent(ChapterStart)' to begin tracking Chapter",Ne="MediaInfo passed into 'API:trackSessionStart' is invalid.",Re="AdBreakInfo passed into 'API:trackEvent(AdBreakStart)' is invalid.",je="Media tracker is currently tracking the AdBreak passed into 'API:trackEvent(AdBreakStart)'.",Ve="AdInfo passed into 'API:trackEvent(AdStart)' is invalid.",Fe="StateInfo passed into 'API:trackEvent(StateStart|StateEnd)' is invalid.",Ue="ErrorId passed into 'API:trackError()' is invalid.",Be="Media tracker is currently tracking the Ad passed into 'API:trackEvent(AdStart)'.",He="ChapterInfo passed into 'API:trackEvent(ChapterStart)' is invalid.",qe="Media tracker is currently tracking the Chapter passed into 'API:trackEvent(ChapterStart)'.",Ge="QoEInfo passed into 'API:updateQoEInfo' is invalid.",ze="Media tracker is tracking an AdBreak but not tracking any Ad and will drop any calls to track player state (Play, Pause, Buffer or Seek) in this state.",We="Media tracker is already tracking a state with the same state name.",Qe="Media tracker is not already tracking a state with the same state name.",Ye="Media tracker has reached maximum number of states per session (10).",Ke=new RegExp("^[a-zA-Z0-9_\\.]+$"),Je=function(){function e(n,a,i){if(t(this,e),!n)throw new Error("hitProcessor should be valid");if(!a)throw new Error("logger should be valid");this._hitProcessor=n,this._logger=a,this._config=N(i)?i:{},this._resetStates(),this._setupRules()}return a(e,[{key:"track",value:function(e){var t=e[ge.Name];return L(t)?ee(e[ge.TimeStamp])?(N(e[ge.Params])||(e[ge.Params]={}),e[ge.Metadata]=this._cleanMetadata(e[ge.Metadata]),!!this._prerollDeferRule(t,e)||this._processRule(t,e)):(this._logger.log("#track - Event timestamp is missing in track event data. - "+t),!1):(this._logger.log("#track - Event name is missing in track event data"),!1)}},{key:"_resetStates",value:function(){this._media=null,this._hitGenerator=null,this._sessionRefTs=null,this._inPrerollInterval=!1,this._prerollRefTs=null,this._prerollQueuedRules=[],this._contentStarted=!1,this._contentStartRefTs=null,this._mediaIdle=!1,this._trackerIdle=!1,this._mediaIdleStartTs=0}},{key:"_createHitGenerator",value:function(e){return new Ie(this._logger,this._hitProcessor,this._config,this._media,e)}},{key:"_processRule",value:function(e,t){return this._ruleEngine.processRule(e,t).success}},{key:"_setupRules",value:function(){this._ruleEngine=new ye(this._logger),this._ruleEngine.setEnterAction(this._cmdEnterAction.bind(this)),this._ruleEngine.setExitAction(this._cmdExitAction.bind(this));var e=this._isInMedia.bind(this),t=this._isInAdBreak.bind(this),n=this._isInAd.bind(this),a=this._isInChapter.bind(this),i=this._isInTrackedState.bind(this),r=this._isValidMediaInfo.bind(this),o=this._isValidAdBreakInfo.bind(this),s=this._isValidAdInfo.bind(this),c=this._isValidChapterInfo.bind(this),l=this._isValidQoEInfo.bind(this),d=this._isValidStateInfo.bind(this),u=this._isValidErrorInfo.bind(this),f=this._isDifferentAdBreakInfo.bind(this),p=this._isDifferentAdInfo.bind(this),m=this._isDifferentChapterInfo.bind(this),h=this._allowPlayerStateChange.bind(this),g=this._allowStateTrack.bind(this),v=this._isInBuffering.bind(this),_=this._isInSeeking.bind(this),y=this._cmdMediaStart.bind(this),b=this._cmdMediaSkip.bind(this),k=this._cmdMediaComplete.bind(this),S=this._cmdError.bind(this),I=this._cmdPlay.bind(this),C=this._cmdPause.bind(this),E=this._cmdBufferStart.bind(this),A=this._cmdBufferComplete.bind(this),P=this._cmdSeekStart.bind(this),T=this._cmdSeekComplete.bind(this),D=this._cmdAdStart.bind(this),w=this._cmdAdComplete.bind(this),O=this._cmdAdSkip.bind(this),M=this._cmdAdBreakStart.bind(this),x=this._cmdAdBreakComplete.bind(this),L=this._cmdAdBreakSkip.bind(this),N=this._cmdChapterStart.bind(this),R=this._cmdChapterComplete.bind(this),j=this._cmdChapterSkip.bind(this),V=this._cmdStateStart.bind(this),F=this._cmdStateEnd.bind(this),U=this._cmdBitrateChange.bind(this),B=this._cmdQoEUpdate.bind(this),H=this._cmdPlayheadUpdate.bind(this),q=new _e(ve.SessionStart,"API:trackSessionStart");q.addPredicate(e,!1,Pe).addPredicate(r,!0,Ne).addAction(y),this._ruleEngine.addRule(q);var G=new _e(ve.SessionComplete,"API:trackComplete");G.addPredicate(e,!0,Ae).addAction(O).addAction(L).addAction(j).addAction(k),this._ruleEngine.addRule(G);var z=new _e(ve.SessionEnd,"API:trackSessionEnd");z.addPredicate(e,!0,Ae).addAction(O).addAction(L).addAction(j).addAction(b),this._ruleEngine.addRule(z);var W=new _e(ve.Error,"API:trackError");W.addPredicate(e,!0,Ae).addPredicate(u,!0,Ue).addAction(S),this._ruleEngine.addRule(W);var Q=new _e(ve.Play,"API:trackPlay");Q.addPredicate(e,!0,Ae).addPredicate(h,!0,ze).addAction(T).addAction(A).addAction(I),this._ruleEngine.addRule(Q);var Y=new _e(ve.Pause,"API:trackPause");Y.addPredicate(e,!0,Ae).addPredicate(h,!0,ze).addPredicate(v,!1,Te).addPredicate(_,!1,we).addAction(C),this._ruleEngine.addRule(Y);var K=new _e(ve.BufferStart,"API:trackEvent(BufferStart)");K.addPredicate(e,!0,Ae).addPredicate(h,!0,ze).addPredicate(v,!1,Te).addPredicate(_,!1,we).addAction(E),this._ruleEngine.addRule(K);var J=new _e(ve.BufferComplete,"API:trackEvent(BufferComplete)");J.addPredicate(e,!0,Ae).addPredicate(h,!0,ze).addPredicate(v,!0,De).addAction(A),this._ruleEngine.addRule(J);var $=new _e(ve.SeekStart,"API:trackEvent(SeekStart)");$.addPredicate(e,!0,Ae).addPredicate(h,!0,ze).addPredicate(_,!1,we).addPredicate(v,!1,Te).addAction(P),this._ruleEngine.addRule($);var X=new _e(ve.SeekComplete,"API:trackEvent(SeekComplete)");X.addPredicate(e,!0,Ae).addPredicate(h,!0,ze).addPredicate(_,!0,Oe).addAction(T),this._ruleEngine.addRule(X);var Z=new _e(ve.AdBreakStart,"API:trackEvent(AdBreakStart)");Z.addPredicate(e,!0,Ae).addPredicate(o,!0,Re).addPredicate(f,!0,je).addAction(O).addAction(L).addAction(M),this._ruleEngine.addRule(Z);var ee=new _e(ve.AdBreakComplete,"API:trackEvent(AdBreakComplete)");ee.addPredicate(e,!0,Ae).addPredicate(t,!0,Me).addAction(O).addAction(x),this._ruleEngine.addRule(ee);var te=new _e(ve.AdStart,"API:trackEvent(AdStart)");te.addPredicate(e,!0,Ae).addPredicate(t,!0,Me).addPredicate(s,!0,Ve).addPredicate(p,!0,Be).addAction(O).addAction(D),this._ruleEngine.addRule(te);var ne=new _e(ve.AdComplete,"API:trackEvent(AdComplete)");ne.addPredicate(e,!0,Ae).addPredicate(t,!0,Me).addPredicate(n,!0,xe).addAction(w),this._ruleEngine.addRule(ne);var ae=new _e(ve.AdSkip,"API:trackEvent(AdSkip)");ae.addPredicate(e,!0,Ae).addPredicate(t,!0,Me).addPredicate(n,!0,xe).addAction(O),this._ruleEngine.addRule(ae);var ie=new _e(ve.ChapterStart,"API::trackEvent(chapterStart)");ie.addPredicate(e,!0,Ae).addPredicate(c,!0,He).addPredicate(m,!0,qe).addAction(j).addAction(N),this._ruleEngine.addRule(ie);var re=new _e(ve.ChapterComplete,"API::trackEvent(chapterComplete)");re.addPredicate(e,!0,Ae).addPredicate(a,!0,Le).addAction(R),this._ruleEngine.addRule(re);var oe=new _e(ve.ChapterSkip,"API:trackEvent(chapterSkip)");oe.addPredicate(e,!0,Ae).addPredicate(a,!0,Le).addAction(j),this._ruleEngine.addRule(oe);var se=new _e(ve.BitrateChange,"API:trackEvent(BitrateChange)");se.addPredicate(e,!0,Ae).addAction(U),this._ruleEngine.addRule(se);var ce=new _e(ve.QoEUpdate,"API:trackEvent(QoEUpdate)");ce.addPredicate(e,!0,Ae).addPredicate(l,!0,Ge).addAction(B),this._ruleEngine.addRule(ce);var le=new _e(ve.PlayheadUpdate,"API:trackEvent(PlayheadUpdate)");le.addPredicate(e,!0,Ae).addAction(H),this._ruleEngine.addRule(le);var de=new _e(ve.StateStart,"API:trackEvent(StateStart)");de.addPredicate(e,!0,Ae).addPredicate(d,!0,Fe).addPredicate(i,!1,We).addPredicate(g,!0,Ye).addAction(V),this._ruleEngine.addRule(de);var ue=new _e(ve.StateEnd,"API:trackEvent(StateEnd)");ue.addPredicate(e,!0,Ae).addPredicate(d,!0,Fe).addPredicate(i,!0,Qe).addAction(F),this._ruleEngine.addRule(ue)}},{key:"_isInMedia",value:function(){return!w(this._media)}},{key:"_isInAdBreak",value:function(){return this._media.isInAdBreak}},{key:"_isInAd",value:function(){return this._media.isInAd}},{key:"_isInChapter",value:function(){return this._media.isInChapter}},{key:"_isInBuffering",value:function(){return this._media.isInPlaybackState(be.Buffer)}},{key:"_isInSeeking",value:function(){return this._media.isInPlaybackState(be.Seek)}},{key:"_isInTrackedState",value:function(e){var t=ue.deserialize(e[ge.Params]);return this._media.isCustomStateActive(t)}},{key:"_isValidMediaInfo",value:function(e){return null!=fe.deserialize(e[ge.Params])}},{key:"_isValidAdBreakInfo",value:function(e){return null!=ce.deserialize(e[ge.Params])}},{key:"_isValidAdInfo",value:function(e){return null!=se.deserialize(e[ge.Params])}},{key:"_isValidStateInfo",value:function(e){return null!=ue.deserialize(e[ge.Params])}},{key:"_isValidChapterInfo",value:function(e){return null!=le.deserialize(e[ge.Params])}},{key:"_isValidQoEInfo",value:function(e){return null!=pe.deserialize(e[ge.Params])}},{key:"_isValidErrorInfo",value:function(e){var t=e[ge.Params];if(!N(t))return!1;var n=t[ge.ErrorId];return L(n)}},{key:"_isDifferentAdBreakInfo",value:function(e){return!ce.deserialize(e[ge.Params]).equal(this._media.adBreakInfo)}},{key:"_isDifferentAdInfo",value:function(e){return!se.deserialize(e[ge.Params]).equal(this._media.adInfo)}},{key:"_isDifferentChapterInfo",value:function(e){return!le.deserialize(e[ge.Params]).equal(this._media.chapterInfo)}},{key:"_allowPlayerStateChange",value:function(){return!this._media.isInAdBreak||this._media.isInAd}},{key:"_allowStateTrack",value:function(e){var t=ue.deserialize(e[ge.Params]);return this._media.hasTrackedCustomState(t)||this._media.numTrackedCustomStates()<10}},{key:"_cmdEnterAction",value:function(e,t){var n=this._getRefTs(t);return w(this._hitGenerator)||this._hitGenerator.setRefTS(n),!0}},{key:"_cmdExitAction",value:function(e,t){if(w(this._media))return!1;e.id===ve.AdStart&&(!this._media.isInPlaybackState(be.Init)||this._media.isInPlaybackState(be.Buffer)||this._media.isInPlaybackState(be.Seek)||this._media.enterPlaybackState(be.Play)),e.id!==ve.BufferComplete&&e.id!==ve.SeekComplete||this._media.isInPlaybackState(be.Init)&&this._media.enterPlaybackState(be.Pause),this._cmdIdleDetection(t),this._cmdSessionTimeoutDetection(t),this._cmdContentStartDetection(t);var n=e.id===ve.AdStart||e.id===ve.AdBreakComplete;return this._hitGenerator.processPlayback(n),!0}},{key:"_cmdMediaStart",value:function(e){var t=fe.deserialize(e[ge.Params]),n=e[ge.Metadata],a=this._getRefTs(e);return this._media=new ke(t,n),this._hitGenerator=this._createHitGenerator(a),this._hitGenerator.processMediaStart(),this._sessionRefTs=a,this._inPrerollInterval=0!==t.prerollWaitTime,this._prerollRefTs=a,!0}},{key:"_cmdMediaComplete",value:function(){return this._hitGenerator.processMediaComplete(),this._resetStates(),!0}},{key:"_cmdMediaSkip",value:function(){return this._hitGenerator.processMediaSkip(),this._resetStates(),!0}},{key:"_cmdAdBreakStart",value:function(e){var t=ce.deserialize(e[ge.Params]);return this._media.setAdBreakInfo(t),this._hitGenerator.processAdBreakStart(),!0}},{key:"_cmdAdBreakComplete",value:function(){return this._hitGenerator.processAdBreakComplete(),this._media.clearAdBreakInfo(),!0}},{key:"_cmdAdBreakSkip",value:function(){return this._media.isInAdBreak&&(this._hitGenerator.processAdBreakSkip(),this._media.clearAdBreakInfo()),!0}},{key:"_cmdAdStart",value:function(e){var t=se.deserialize(e[ge.Params]),n=e[ge.Metadata];return this._media.setAdInfo(t,n),this._hitGenerator.processAdStart(),!0}},{key:"_cmdAdComplete",value:function(){return this._hitGenerator.processAdComplete(),this._media.clearAdInfo(),!0}},{key:"_cmdAdSkip",value:function(){return this._media.isInAd&&(this._hitGenerator.processAdSkip(),this._media.clearAdInfo()),!0}},{key:"_cmdChapterStart",value:function(e){var t=le.deserialize(e[ge.Params]),n=e[ge.Metadata];return this._media.setChapterInfo(t,n),this._hitGenerator.processChapterStart(),!0}},{key:"_cmdChapterComplete",value:function(){return this._hitGenerator.processChapterComplete(),this._media.clearChapterInfo(),!0}},{key:"_cmdChapterSkip",value:function(){return this._media.isInChapter&&(this._hitGenerator.processChapterSkip(),this._media.clearChapterInfo()),!0}},{key:"_cmdError",value:function(e){var t=e[ge.Params][ge.ErrorId];return this._hitGenerator.processError(t),!0}},{key:"_cmdBitrateChange",value:function(){return this._hitGenerator.processBitrateChange(),!0}},{key:"_cmdPlay",value:function(){return this._media.enterPlaybackState(be.Play),!0}},{key:"_cmdPause",value:function(){return this._media.enterPlaybackState(be.Pause),!0}},{key:"_cmdBufferStart",value:function(){return this._media.enterPlaybackState(be.Buffer),!0}},{key:"_cmdBufferComplete",value:function(){return this._media.isInPlaybackState(be.Buffer)&&this._media.exitPlaybackState(be.Buffer),!0}},{key:"_cmdSeekStart",value:function(){return this._media.enterPlaybackState(be.Seek),!0}},{key:"_cmdSeekComplete",value:function(){return this._media.isInPlaybackState(be.Seek)&&this._media.exitPlaybackState(be.Seek),!0}},{key:"_cmdQoEUpdate",value:function(e){var t=pe.deserialize(e[ge.Params]);return this._media.qoeInfo=t,!0}},{key:"_cmdPlayheadUpdate",value:function(e){var t=e[ge.Params];if(N(t)){var n=t[ge.Playhead];Z(n)&&n>=0&&(this._media.playhead=n)}return!0}},{key:"_cmdIdleDetection",value:function(e){var t=this._getRefTs(e);this._media.isIdle()?this._mediaIdle?!this._trackerIdle&&t-this._mediaIdleStartTs>=18e5&&(this._hitGenerator.processSessionAbort(),this._trackerIdle=!0):(this._mediaIdle=!0,this._mediaIdleStartTs=t):(this._trackerIdle&&(this._hitGenerator.processSessionRestart(),this._trackerIdle=!1,this._sessionRefTs=t,this._contentStarted=!1,this._contentStartRefTs=null),this._mediaIdle=!1)}},{key:"_cmdSessionTimeoutDetection",value:function(e){var t=this._getRefTs(e);!this._trackerIdle&&t-this._sessionRefTs>=864e5&&(this._hitGenerator.processSessionAbort(),this._hitGenerator.processSessionRestart(),this._sessionRefTs=t,this._contentStarted=!1,this._contentStartRefTs=null)}},{key:"_cmdContentStartDetection",value:function(e){return!(!this._media.isIdle()&&!this._contentStarted&&(this._media.isInAdBreak?(this._contentStartRefTs=null,0):(null==this._contentStartRefTs&&(this._contentStartRefTs=this._getRefTs(e)),this._getRefTs(e)-this._contentStartRefTs>=1e3&&(this._hitGenerator.processPlayback(!0),this._contentStarted=!0),0)))}},{key:"_cmdStateStart",value:function(e){var t=ue.deserialize(e[ge.Params]);return this._media.startCustomState(t),this._hitGenerator.processCustomStateStart(t),!0}},{key:"_cmdStateEnd",value:function(e){var t=ue.deserialize(e[ge.Params]);return this._media.endCustomState(t),this._hitGenerator.processCustomStateEnd(t),!0}},{key:"_getRefTs",value:function(e){var t=e[ge.TimeStamp];return ee(t)?t:null}},{key:"_prerollDeferRule",value:function(e,t){if(this._inPrerollInterval&&null!=this._media){var n=this._media.mediaInfo.prerollWaitTime;if(this._prerollQueuedRules.push({eventName:e,context:t}),this._getRefTs(t)-this._prerollRefTs>=n||e===ve.AdBreakStart||e===ve.MediaComplete||e===ve.MediaSkip){for(var a=this._prerollReorderRules(this._prerollQueuedRules),i=0;i<a.length;i++){var r=a[i];this._processRule(r.eventName,r.context)}this._prerollQueuedRules=[],this._inPrerollInterval=!1}return!0}return!1}},{key:"_prerollReorderRules",value:function(e){for(var t=[],n=!1,a=0;a<e.length;++a)if(e[a].eventName===ve.AdBreakStart){n=!0;break}for(var i=n,r=0;r<e.length;r++){var o=e[r];o.eventName===ve.Play&&i||(o.eventName===ve.AdBreakStart&&(i=!1),t.push(o))}return t}},{key:"_cleanMetadata",value:function(e){var t=this,n={};return N(e)&&Object.keys(e).forEach((function(a){var i=e[a];Ke.test(a)&&!w(i)?n[a]=String(i):t._logger.log("#_cleanMetadata - Dropping metadata item "+a+": "+i)})),n}}]),e}(),$e=function(){function e(n,a,i){t(this,e),this._logger=v("MediaTracker ("+a+")"),this._tracker=new Je(n,this._logger,i),this._timer=null,this._lastEventTS=null,this._lastPlayheadParams=null}return a(e,[{key:"trackSessionStart",value:function(e,t){this._logger.log("trackSessionStart(info:"+he(e)+" metadata:"+he(t)+")"),this._trackInternal(ve.SessionStart,e,t)}},{key:"trackSessionEnd",value:function(){this._logger.log("trackSessionEnd"),this._trackInternal(ve.SessionEnd)}},{key:"trackComplete",value:function(){this._logger.log("trackComplete"),this._trackInternal(ve.SessionComplete)}},{key:"trackPlay",value:function(){this._logger.log("trackPlay"),this._trackInternal(ve.Play)}},{key:"trackPause",value:function(){this._logger.log("trackPause"),this._trackInternal(ve.Pause)}},{key:"trackEvent",value:function(e,t,n){this._logger.log("trackEvent("+e+" info:"+he(t)+" metadata:"+he(n)+")"),this._trackInternal(e,t,n)}},{key:"trackError",value:function(e){this._logger.log("trackError("+e+")");var t=i({},ge.ErrorId,e);this._trackInternal(ve.Error,t)}},{key:"updatePlayhead",value:function(e){var t=i({},ge.Playhead,e);this._trackInternal(ve.PlayheadUpdate,t)}},{key:"updateQoEObject",value:function(e){this._logger.log("updateQoEObject("+he(e)+")"),this._trackInternal(ve.QoEUpdate,e)}},{key:"destroy",value:function(){this._logger.log("destroy()"),this._stopTimer(),this._tracker=null}},{key:"_trackInternal",value:function(e,t,n){var a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._tracker){var o=f(),s=(i(a={},ge.Name,e),i(a,ge.Params,t),i(a,ge.Metadata,n),i(a,ge.TimeStamp,o),i(a,ge.InternalEvent,r),a),c=this._tracker.track(s);this._lastEventTS=o,e===ve.PlayheadUpdate&&(this._lastPlayheadParams=t),e===ve.SessionStart&&c?this._startTimer():e!==ve.SessionComplete&&e!==ve.SessionEnd||this._stopTimer()}else this._logger.warn("Dropping the call as the tracker instance is already destroyed")}},{key:"_startTimer",value:function(){var e=this;this._timer||(this._timer=m((function(){e._onTick()}),500))}},{key:"_stopTimer",value:function(){var e;this._timer&&(e=this._timer,clearInterval(e),this._timer=null)}},{key:"_onTick",value:function(){f()-this._lastEventTS>750&&this._trackInternal(ve.PlayheadUpdate,this._lastPlayheadParams,null,!0)}}]),e}(),Xe=new oe,Ze=u(),et={configure:function(e){Xe.configure(e)},getInstance:function(e){var t="tracker"+Ze.getUniqueId();return new $e(Xe,t,e)},createMediaObject:function(e,t,n,a,i){var r=null;try{r=new fe({id:t,name:e,streamType:a,mediaType:i,length:n}).serialize()}catch(e){me.error("Error creating MediaObject ("+e.message+")")}return r},createAdBreakObject:function(e,t,n){var a=null;try{a=new ce({name:e,position:t,startTime:n}).serialize()}catch(e){me.error("Error creating AdBreakObject ("+e.message+")")}return a},createAdObject:function(e,t,n,a){var i=null;try{i=new se({id:t,name:e,position:n,length:a}).serialize()}catch(e){me.error("Error creating AdObject ("+e.message+")")}return i},createChapterObject:function(e,t,n,a){var i=null;try{i=new le({name:e,position:t,length:n,startTime:a}).serialize()}catch(e){me.error("Error creating ChapterObject ("+e.message+")")}return i},createQoEObject:function(e,t,n,a){var i=null;try{i=new pe({bitrate:e,droppedFrames:a,fps:n,startupTime:t}).serialize()}catch(e){me.error("Error creating QoEObject ("+e.message+")")}return i},createStateObject:function(e){var t=null;try{t=new ue({name:e}).serialize()}catch(e){me.error("Error creating StateObject ("+e.message+")")}return t},version:"js-extn-3.0.2",Event:k,MediaType:I,PlayerState:C,StreamType:T,MediaObjectKey:S,VideoMetadataKeys:E,AudioMetadataKeys:A,AdMetadataKeys:P},tt="ecid",nt="analytics",at="mediaanalytics",it=function(e){function n(e,a){var i;if(t(this,n),i=o.call(this),!e)throw new Error("Valid appmeasurement instance is required");if(!e.visitor)throw new Error("Valid visitor instance is required");return i._mediaConfig=a,i._appMeasurement=e,i._appMeasurementReady=!1,i._privacyResolved=!1,i._logger=v("WebECResolver"),i._fetchECParams(),i._fetchPrivacyStatus(),i._setupResolver(),i}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e);var r,o=(r=n,function(){var e,t=s(r);if(l()){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});return a(n,[{key:"resolveKeys",value:function(e){if(!e||0===e.length)return{};for(var t={},n=0;n<e.length;n++){var a=e[n],i=Object.prototype.hasOwnProperty.call(this._fnMap,a)?this._fnMap[a].call(this):null;w(i)||(t[a]=i)}return t}},{key:"getPrivacyStatus",value:function(){return this._privacyStatus[at]}},{key:"notifyPrivacyChange",value:function(e){this._mediaPrivacyClb.push(e)}},{key:"isReady",value:function(){return!!this._privacyResolved&&this._privacyStatus[at]===D.OptIn&&(this._privacyStatus[nt]!==D.OptIn||this._appMeasurementReady)}},{key:"_setupResolver",value:function(){var e=this,t={};t[j.Rsid]=function(){return e._appMeasurement.account},t[j.AnalyticsTrackingServer]=function(){return e._appMeasurement.ssl&&e._appMeasurement.trackingServerSecure?e._appMeasurement.trackingServerSecure:e._appMeasurement.trackingServer},t[j.AnalyticsSsl]=function(){return e._appMeasurement.ssl},t[j.Vid]=function(){return e._appMeasurement.visitorID},t[j.Aid]=function(){var t=e._appMeasurement.analyticsVisitorID;if(""!==t)return t},t[j.Mcid]=function(){return e._appMeasurement.marketingCloudVisitorID},t[j.McOrgId]=function(){return e._appMeasurement.visitor.marketingCloudOrgID},t[j.AamLocHint]=function(){var t=parseInt(e._appMeasurement.audienceManagerLocationHint,10);return isNaN(t)?void 0:t},t[j.CustomerIds]=function(){return e._appMeasurement.visitor.getCustomerIDs()},t[j.MediaTrackingServer]=function(){return e._mediaConfig.trackingServer},t[j.MediaChannel]=function(){return e._mediaConfig.channel},t[j.MediaAppVersion]=function(){return e._mediaConfig.appVersion},t[j.MediaPlayerName]=function(){return e._mediaConfig.playerName},t[j.MediaSsl]=function(){return e._mediaConfig.ssl},this._fnMap=t}},{key:"_fetchECParams",value:function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady,[])}},{key:"_onAppMeasurementReady",value:function(){this._logger.log("AppMeasurement ready"),this._appMeasurementReady=!0}},{key:"_fetchPrivacyStatus",value:function(){var e,t=this;this._mediaPrivacyClb=[],this._optIn=window.adobe&&window.adobe.optIn?window.adobe.optIn:void 0;var n=this._optIn&&this._optIn.doesOptInApply,a=n?D.OptUnknown:D.OptIn;this._privacyStatus=(i(e={},tt,a),i(e,nt,a),i(e,at,a),e),n?this._optIn.fetchPermissions((function(){t._privacyResolved=!0,t._privacyStatus[tt]=t._optIn.isApproved(t._optIn.Categories.ECID)?D.OptIn:D.OptOut,t._privacyStatus[nt]=t._optIn.isApproved(t._optIn.Categories.ANALYTICS)?D.OptIn:D.OptOut,t._privacyStatus[at]=t._optIn.isApproved(t._optIn.Categories.MEDIA_ANALYTICS)?D.OptIn:D.OptOut,t._mediaPrivacyClb.forEach((function(e){e(t._privacyStatus[at])})),t._logger.log("Privacy Status "+he(t._privacyStatus))}),!0):(this._privacyResolved=!0,this._logger.log("OptIn service not used, defaulting privacy status to "+he(this._privacyStatus)))}}]),n}(function(){function e(){t(this,e)}return a(e,[{key:"resolveKeys",value:function(){throw new Error("Implementation error: Method must be overridden.")}},{key:"isReady",value:function(){}},{key:"getPrivacyStatus",value:function(){}},{key:"notifyPrivacyChange",value:function(){}}]),e}()),rt=v("Media"),ot=!1;return{Media:o({},et,{configure:function(e,t){if(h(e||{}),ot)rt.error("MediaSDK is already configured");else{rt.log("configure("+he(e)+")");try{!function(e){if(!N(e))throw new Error("mediaConfig is not a valid object");var t=e.trackingServer;if(!L(t))throw new Error("trackingServer is empty");if(-1!==t.indexOf("hb.omtrdc.net"))throw new Error("trackingServer should be set to Media collection endpoint and not heartbeat endpoint. Contact your Adobe representative for more information.")}(e);var n=new it(t,e);et.configure(n),ot=!0}catch(e){rt.error("Error configuring MediaSDK : "+e.message),h({debugLogging:!1})}}},getInstance:function(e){return et.getInstance(e)}}),MediaConfig:function e(){t(this,e),this.trackingServer=void 0,this.channel=void 0,this.appVersion=void 0,this.playerName=void 0,this.ssl=!0,this.debugLogging=!1}}},"object"==typeof t&&void 0!==e?e.exports=a():"function"==typeof define&&define.amd?define(a):(n=n||self).ADB=a()}}}}},company:{orgId:"9E1005A551ED61CA0A490D45@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"Video Analytics",settings:{domains:["video.tv.adobe.com","stage-video.tv.adobe.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!1},id:"PRd78743271c2f4b22b80a8110fa67e853"},rules:[{id:"RLe493979ed8264e308e2693478104e7b4",name:"initAnalytics",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){function e(e){var t=this;t.version="2.20.0";var n=window;n.s_c_in||(n.s_c_il=[],n.s_c_in=0),t._il=n.s_c_il,t._in=n.s_c_in,t._il[t._in]=t,n.s_c_in++,t._c="s_c";var a=n.AppMeasurement.hc;a||(a=null);var i,r,o,s=n;try{for(i=s.parent,r=s.location;i&&i.location&&r&&""+i.location!=""+r&&s.location&&""+i.location!=""+s.location&&i.location.host===r.host;)i=(s=i).parent}catch(e){}t.C=function(e){try{console.log(e)}catch(e){}},t.Qa=function(e){return""+parseInt(e)==""+e},t.replace=function(e,t,n){return!e||0>e.indexOf(t)?e:e.split(t).join(n)},t.escape=function(e){var n,a;if(!e)return e;for(e=encodeURIComponent(e),n=0;7>n;n++)a="+~!*()'".substring(n,n+1),0<=e.indexOf(a)&&(e=t.replace(e,a,"%"+a.charCodeAt(0).toString(16).toUpperCase()));return e},t.unescape=function(e){if(!e)return e;e=0<=e.indexOf("+")?t.replace(e,"+"," "):e;try{return decodeURIComponent(e)}catch(e){}return unescape(e)},t.Mb=function(){var e,a=n.location.hostname,i=t.fpCookieDomainPeriods;if(i||(i=t.cookieDomainPeriods),a&&!t.Ja&&!/^[0-9.]+$/.test(a)&&(i=2<(i=i?parseInt(i):2)?i:2,0<=(e=a.lastIndexOf(".")))){for(;0<=e&&1<i;)e=a.lastIndexOf(".",e-1),i--;t.Ja=0<e?a.substring(e):a}return t.Ja},t.c_r=t.cookieRead=function(e){e=t.escape(e);var n=" "+t.d.cookie,a=n.indexOf(" "+e+"="),i=0>a?a:n.indexOf(";",a);return"[[B]]"!=(e=0>a?"":t.unescape(n.substring(a+2+e.length,0>i?n.length:i)))?e:""},t.c_w=t.cookieWrite=function(e,n,a){var i,r=t.Mb(),o=t.cookieLifetime;return n=""+n,o=o?(""+o).toUpperCase():"",a&&"SESSION"!=o&&"NONE"!=o&&((i=""!=n?parseInt(o||0):-60)?(a=new Date).setTime(a.getTime()+1e3*i):1===a&&(i=(a=new Date).getYear(),a.setYear(i+2+(1900>i?1900:0)))),e&&"NONE"!=o?(t.d.cookie=t.escape(e)+"="+t.escape(""!=n?n:"[[B]]")+"; path=/;"+(a&&"SESSION"!=o?" expires="+a.toUTCString()+";":"")+(r?" domain="+r+";":"")+(t.writeSecureCookies?" secure;":""),t.cookieRead(e)==n):0},t.Jb=function(){var e=t.Util.getIeVersion();"number"==typeof e&&10>e&&(t.unsupportedBrowser=!0,t.wb(t,(function(){})))},t.xa=function(){var e=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName||0<=e.indexOf("MSIE ")||0<=e.indexOf("Trident/")&&0<=e.indexOf("Windows NT 6")},t.wb=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&"function"==typeof e[n]&&(e[n]=t)},t.K=[],t.ea=function(e,n,a){if(t.Ka)return 0;t.maxDelay||(t.maxDelay=250);var i=0,r=(new Date).getTime()+t.maxDelay,o=t.d.visibilityState,s=["webkitvisibilitychange","visibilitychange"];if(o||(o=t.d.webkitVisibilityState),o&&"prerender"==o){if(!t.fa)for(t.fa=1,a=0;a<s.length;a++)t.d.addEventListener(s[a],(function(){var e=t.d.visibilityState;e||(e=t.d.webkitVisibilityState),"visible"==e&&(t.fa=0,t.delayReady())}));i=1,r=0}else a||t.u("_d")&&(i=1);return i&&(t.K.push({m:e,a:n,t:r}),t.fa||setTimeout(t.delayReady,t.maxDelay)),i},t.delayReady=function(){var e,n=(new Date).getTime(),a=0;for(t.u("_d")?a=1:t.za();0<t.K.length;){if(e=t.K.shift(),a&&!e.t&&e.t>n){t.K.unshift(e),setTimeout(t.delayReady,parseInt(t.maxDelay/2));break}t.Ka=1,t[e.m].apply(t,e.a),t.Ka=0}},t.setAccount=t.sa=function(e){var n,a;if(!t.ea("setAccount",arguments))if(t.account=e,t.allAccounts)for(n=t.allAccounts.concat(e.split(",")),t.allAccounts=[],n.sort(),a=0;a<n.length;a++)0!=a&&n[a-1]==n[a]||t.allAccounts.push(n[a]);else t.allAccounts=e.split(",")},t.foreachVar=function(e,n){var a,i,r,o,s="";for(r=i="",t.lightProfileID?(a=t.O,(s=t.lightTrackVars)&&(s=","+s+","+t.ka.join(",")+",")):(a=t.g,(t.pe||t.linkType)&&(s=t.linkTrackVars,i=t.linkTrackEvents,t.pe&&(r=t.pe.substring(0,1).toUpperCase()+t.pe.substring(1),t[r]&&(s=t[r].cc,i=t[r].bc))),s&&(s=","+s+","+t.F.join(",")+","),i&&s&&(s+=",events,")),n&&(n=","+n+","),i=0;i<a.length;i++)r=a[i],(o=t[r])&&(!s||0<=s.indexOf(","+r+","))&&(!n||0<=n.indexOf(","+r+","))&&e(r,o)},t.o=function(e,n,a,i,r){var o,s,c,l,d="",u=0;if("contextData"==e&&(e="c"),n){for(o in n)if(!(Object.prototype[o]||r&&o.substring(0,r.length)!=r)&&n[o]&&(!a||0<=a.indexOf(","+(i?i+".":"")+o+","))){if(c=!1,u)for(s=0;s<u.length;s++)if(o.substring(0,u[s].length)==u[s]){c=!0;break}if(!c&&(""==d&&(d+="&"+e+"."),s=n[o],r&&(o=o.substring(r.length)),0<o.length))if(0<(c=o.indexOf(".")))c=(r||"")+(s=o.substring(0,c))+".",u||(u=[]),u.push(c),d+=t.o(s,n,a,i,c);else if("boolean"==typeof s&&(s=s?"true":"false"),s){if("retrieveLightData"==i&&0>r.indexOf(".contextData."))switch(c=o.substring(0,4),l=o.substring(4),o){case"transactionID":o="xact";break;case"channel":o="ch";break;case"campaign":o="v0";break;default:t.Qa(l)&&("prop"==c?o="c"+l:"eVar"==c?o="v"+l:"list"==c?o="l"+l:"hier"==c&&(o="h"+l,s=s.substring(0,255)))}d+="&"+t.escape(o)+"="+t.escape(s)}}""!=d&&(d+="&."+e)}return d},t.usePostbacks=0,t.Pb=function(){var e,n,i,r,o,s,c,l,d="",u="",f="",p=r="",m=t.T();if(t.lightProfileID?(e=t.O,(u=t.lightTrackVars)&&(u=","+u+","+t.ka.join(",")+",")):(e=t.g,(t.pe||t.linkType)&&(u=t.linkTrackVars,f=t.linkTrackEvents,t.pe&&(r=t.pe.substring(0,1).toUpperCase()+t.pe.substring(1),t[r]&&(u=t[r].cc,f=t[r].bc))),u&&(u=","+u+","+t.F.join(",")+","),f&&(f=","+f+",",u&&(u+=",events,")),t.events2&&(p+=(""!=p?",":"")+t.events2)),m&&m.getCustomerIDs){if(r=a,o=m.getCustomerIDs())for(n in o)Object.prototype[n]||"object"==typeof(i=o[n])&&(r||(r={}),i.id&&(r[n+".id"]=i.id),i.authState&&(r[n+".as"]=i.authState));r&&(d+=t.o("cid",r))}
for(t.AudienceManagement&&t.AudienceManagement.isReady()&&(d+=t.o("d",t.AudienceManagement.getEventCallConfigParams())),n=0;n<e.length;n++){if(r=e[n],o=t[r],i=r.substring(0,4),s=r.substring(4),o||("events"==r&&p?(o=p,p=""):"marketingCloudOrgID"==r&&m&&t.V("ECID")&&(o=m.marketingCloudOrgID)),o&&(!u||0<=u.indexOf(","+r+","))){switch(r){case"customerPerspective":r="cp";break;case"marketingCloudOrgID":r="mcorgid";break;case"supplementalDataID":r="sdid";break;case"timestamp":r="ts";break;case"dynamicVariablePrefix":r="D";break;case"visitorID":r="vid";break;case"marketingCloudVisitorID":r="mid";break;case"analyticsVisitorID":r="aid";break;case"audienceManagerLocationHint":r="aamlh";break;case"audienceManagerBlob":r="aamb";break;case"authState":r="as";break;case"pageURL":r="g",255<o.length&&(t.pageURLRest=o.substring(255),o=o.substring(0,255));break;case"pageURLRest":r="-g";break;case"referrer":r="r";break;case"vmk":case"visitorMigrationKey":r="vmt";break;case"visitorMigrationServer":r="vmf",t.ssl&&t.visitorMigrationServerSecure&&(o="");break;case"visitorMigrationServerSecure":r="vmf",!t.ssl&&t.visitorMigrationServer&&(o="");break;case"charSet":r="ce";break;case"visitorNamespace":r="ns";break;case"cookieDomainPeriods":r="cdp";break;case"cookieLifetime":r="cl";break;case"variableProvider":r="vvp";break;case"currencyCode":r="cc";break;case"channel":r="ch";break;case"transactionID":r="xact";break;case"campaign":r="v0";break;case"latitude":r="lat";break;case"longitude":r="lon";break;case"resolution":r="s";break;case"colorDepth":r="c";break;case"javascriptVersion":r="j";break;case"javaEnabled":r="v";break;case"cookiesEnabled":r="k";break;case"browserWidth":r="bw";break;case"browserHeight":r="bh";break;case"connectionType":r="ct";break;case"homepage":r="hp";break;case"events":if(p&&(o+=(""!=o?",":"")+p),f)for(s=o.split(","),o="",i=0;i<s.length;i++)0<=(l=(c=s[i]).indexOf("="))&&(c=c.substring(0,l)),0<=(l=c.indexOf(":"))&&(c=c.substring(0,l)),0<=f.indexOf(","+c+",")&&(o+=(o?",":"")+s[i]);break;case"events2":o="";break;case"contextData":d+=t.o("c",t[r],u,r),o="";break;case"lightProfileID":r="mtp";break;case"lightStoreForSeconds":r="mtss",t.lightProfileID||(o="");break;case"lightIncrementBy":r="mti",t.lightProfileID||(o="");break;case"retrieveLightProfiles":r="mtsr";break;case"deleteLightProfiles":r="mtsd";break;case"retrieveLightData":t.retrieveLightProfiles&&(d+=t.o("mts",t[r],u,r)),o="";break;default:t.Qa(s)&&("prop"==i?r="c"+s:"eVar"==i?r="v"+s:"list"==i?r="l"+s:"hier"==i&&(r="h"+s,o=o.substring(0,255)))}o&&(d+="&"+r+"="+("pev"!=r.substring(0,3)?t.escape(o):o))}"pev3"==r&&t.e&&(d+=t.e)}return t.ja&&(d+="&lrt="+t.ja,t.ja=null),d},t.B=function(e){var t=e.tagName;return"undefined"!=""+e.kc||"undefined"!=""+e.Yb&&"HTML"!=(""+e.Yb).toUpperCase()?"":("SHAPE"==(t=t&&t.toUpperCase?t.toUpperCase():"")&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},t.Ma=function(e){var t,a,i,r=n.location,o=e.href?e.href:"";return t=o.indexOf(":"),a=o.indexOf("?"),i=o.indexOf("/"),o&&(0>t||0<=a&&t>a||0<=i&&t>i)&&(a=e.protocol&&1<e.protocol.length?e.protocol:r.protocol?r.protocol:"",t=r.pathname.lastIndexOf("/"),o=(a?a+"//":"")+(e.host?e.host:r.host?r.host:"")+("/"!=o.substring(0,1)?r.pathname.substring(0,0>t?0:t)+"/":"")+o),o},t.L=function(e){var n,a,i=t.B(e),r="",o=0;return i&&(n=e.protocol,a=e.onclick,!e.href||"A"!=i&&"AREA"!=i||a&&n&&!(0>n.toLowerCase().indexOf("javascript"))?a?(r=t.replace(t.replace(t.replace(t.replace(""+a,"\r",""),"\n",""),"\t","")," ",""),o=2):"INPUT"==i||"SUBMIT"==i?(e.value?r=e.value:e.innerText?r=e.innerText:e.textContent&&(r=e.textContent),o=3):"IMAGE"==i&&e.src&&(r=e.src):r=t.Ma(e),r)?{id:r.substring(0,100),type:o}:0},t.ic=function(e){for(var n=t.B(e),a=t.L(e);e&&!a&&"BODY"!=n;)(e=e.parentElement?e.parentElement:e.parentNode)&&(n=t.B(e),a=t.L(e));return a&&"BODY"!=n||(e=0),e&&(0<=(n=e.onclick?""+e.onclick:"").indexOf(".tl(")||0<=n.indexOf(".trackLink("))&&(e=0),e},t.Xb=function(){var e,a,i,r,o=t.linkObject,s=t.linkType,c=t.linkURL;if(t.la=1,o||(t.la=0,o=t.clickObject),o){for(e=t.B(o),a=t.L(o);o&&!a&&"BODY"!=e;)(o=o.parentElement?o.parentElement:o.parentNode)&&(e=t.B(o),a=t.L(o));if(a&&"BODY"!=e||(o=0),o&&!t.linkObject){var l=o.onclick?""+o.onclick:"";(0<=l.indexOf(".tl(")||0<=l.indexOf(".trackLink("))&&(o=0)}}else t.la=1;if(!c&&o&&(c=t.Ma(o)),c&&!t.linkLeaveQueryString&&0<=(i=c.indexOf("?"))&&(c=c.substring(0,i)),!s&&c){var d,u=0,f=0;if(t.trackDownloadLinks&&t.linkDownloadFileTypes)for(i=(l=c.toLowerCase()).indexOf("?"),r=l.indexOf("#"),0<=i?0<=r&&r<i&&(i=r):i=r,0<=i&&(l=l.substring(0,i)),i=t.linkDownloadFileTypes.toLowerCase().split(","),r=0;r<i.length;r++)(d=i[r])&&l.substring(l.length-(d.length+1))=="."+d&&(s="d");if(t.trackExternalLinks&&!s&&(l=c.toLowerCase(),t.Pa(l)&&(t.linkInternalFilters||(t.linkInternalFilters=n.location.hostname),i=0,t.linkExternalFilters?(i=t.linkExternalFilters.toLowerCase().split(","),u=1):t.linkInternalFilters&&(i=t.linkInternalFilters.toLowerCase().split(",")),i))){for(r=0;r<i.length;r++)d=i[r],0<=l.indexOf(d)&&(f=1);f?u&&(s="e"):u||(s="e")}}t.linkObject=o,t.linkURL=c,t.linkType=s,(t.trackClickMap||t.trackInlineStats)&&(t.e="",o&&(s=t.pageName,c=1,o=o.sourceIndex,s||(s=t.pageURL,c=0),n.s_objectID&&(a.id=n.s_objectID,o=a.type=1),s&&a&&a.id&&e&&(t.e="&pid="+t.escape(s.substring(0,255))+(c?"&pidt="+c:"")+"&oid="+t.escape(a.id.substring(0,100))+(a.type?"&oidt="+a.type:"")+"&ot="+e+(o?"&oi="+o:""))))},t.Qb=function(){var e=t.la,n=t.linkType,a=t.linkURL,i=t.linkName;if(n&&(a||i)&&("d"!=(n=n.toLowerCase())&&"e"!=n&&(n="o"),t.pe="lnk_"+n,t.pev1=a?t.escape(a):"",t.pev2=i?t.escape(i):"",e=1),t.abort&&(e=0),t.trackClickMap||t.trackInlineStats||t.Tb()){n={},a=0;var r,o,s,c=(l=t.qb())?l.split("&"):0,l=0;if(c)for(r=0;r<c.length;r++)o=c[r].split("="),i=t.unescape(o[0]).split(","),n[o=t.unescape(o[1])]=i;for(s in i=t.account.split(","),r={},t.contextData)s&&!Object.prototype[s]&&"a.activitymap."==s.substring(0,14)&&(r[s]=t.contextData[s],t.contextData[s]="");if(t.e=t.o("c",r)+(t.e?t.e:""),e||t.e){for(o in e&&!t.e&&(l=1),n)if(!Object.prototype[o])for(s=0;s<i.length;s++)for(l&&(c=n[o].join(","))==t.account&&(t.e+=("&"!=o.charAt(0)?"&":"")+o,n[o]=[],a=1),r=0;r<n[o].length;r++)(c=n[o][r])==i[s]&&(l&&(t.e+="&u="+t.escape(c)+("&"!=o.charAt(0)?"&":"")+o+"&u=0"),n[o].splice(r,1),a=1);if(e||(a=1),a){for(o in l="",r=2,!e&&t.e&&(l=t.escape(i.join(","))+"="+t.escape(t.e),r=1),n)!Object.prototype[o]&&0<r&&0<n[o].length&&(l+=(l?"&":"")+t.escape(n[o].join(","))+"="+t.escape(o),r--);t.yb(l)}}}return e},t.qb=function(){return t.useLinkTrackSessionStorage?t.Da()?n.sessionStorage.getItem(t.P):void 0:t.cookieRead(t.P)},t.Da=function(){return!!n.sessionStorage},t.yb=function(e){t.useLinkTrackSessionStorage?t.Da()&&n.sessionStorage.setItem(t.P,e):t.cookieWrite(t.P,e)},t.Rb=function(){if(!t.ac){var e,n,a=new Date,i=s.location,r=n=e="",o="",c="",l="1.2",d=t.cookieWrite("s_cc","true",0)?"Y":"N",u="",f="";if(a.setUTCDate&&(l="1.3",(0).toPrecision&&(l="1.5",(a=[]).forEach))){l="1.6",n=0,e={};try{(n=new Iterator(e)).next&&(l="1.7",a.reduce&&(l="1.8").trim&&(l="1.8.1",Date.parse&&(l="1.8.2",Object.create&&(l="1.8.5"))))}catch(e){}}e=screen.width+"x"+screen.height,r=navigator.javaEnabled()?"Y":"N",n=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,o=t.w.innerWidth?t.w.innerWidth:t.d.documentElement.offsetWidth,c=t.w.innerHeight?t.w.innerHeight:t.d.documentElement.offsetHeight;try{t.b.addBehavior("#default#homePage"),u=t.b.jc(i)?"Y":"N"}catch(e){}try{t.b.addBehavior("#default#clientCaps"),f=t.b.connectionType}catch(e){}t.resolution=e,t.colorDepth=n,t.javascriptVersion=l,t.javaEnabled=r,t.cookiesEnabled=d,t.browserWidth=o,t.browserHeight=c,t.connectionType=f,t.homepage=u,t.ac=1}},t.Q={},t.loadModule=function(e,a){var i=t.Q[e];if(!i){i=n["AppMeasurement_Module_"+e]?new n["AppMeasurement_Module_"+e](t):{},t.Q[e]=t[e]=i,i.jb=function(){return i.tb},i.zb=function(n){(i.tb=n)&&(t[e+"_onLoad"]=n,t.ea(e+"_onLoad",[t,i],1)||n(t,i))};try{Object.defineProperty?Object.defineProperty(i,"onLoad",{get:i.jb,set:i.zb}):i._olc=1}catch(e){i._olc=1}}a&&(t[e+"_onLoad"]=a,t.ea(e+"_onLoad",[t,i],1)||a(t,i))},t.u=function(e){var n,a;for(n in t.Q)if(!Object.prototype[n]&&(a=t.Q[n])&&(a._olc&&a.onLoad&&(a._olc=0,a.onLoad(t,a)),a[e]&&a[e]()))return 1;return 0},t.Tb=function(){return!(!t.ActivityMap||!t.ActivityMap._c)},t.Ub=function(){var e=Math.floor(1e13*Math.random()),n=t.visitorSampling,a=t.visitorSamplingGroup,i=(a="s_vsn_"+(t.visitorNamespace?t.visitorNamespace:t.account)+(a?"_"+a:""),t.cookieRead(a));if(n){if(n*=100,i&&(i=parseInt(i)),!i){if(!t.cookieWrite(a,e))return 0;i=e}if(i%1e4>n)return 0}return 1},t.S=function(e,n){var a,i,r,o,s,c,l;for(l={},a=0;2>a;a++)for(i=0<a?t.Fa:t.g,r=0;r<i.length;r++)if((s=e[o=i[r]])||e["!"+o]){if(s&&!n&&("contextData"==o||"retrieveLightData"==o)&&t[o])for(c in t[o])s[c]||(s[c]=t[o][c]);t[o]||(l["!"+o]=1),l[o]=t[o],t[o]=s}return l},t.gc=function(e){var n,a,i,r;for(n=0;2>n;n++)for(a=0<n?t.Fa:t.g,i=0;i<a.length;i++)e[r=a[i]]=t[r],e[r]||"prop"!==r.substring(0,4)&&"eVar"!==r.substring(0,4)&&"hier"!==r.substring(0,4)&&"list"!==r.substring(0,4)&&"channel"!==r&&"events"!==r&&"eventList"!==r&&"products"!==r&&"productList"!==r&&"purchaseID"!==r&&"transactionID"!==r&&"state"!==r&&"zip"!==r&&"campaign"!==r&&"events2"!==r&&"latitude"!==r&&"longitude"!==r&&"ms_a"!==r&&"contextData"!==r&&"supplementalDataID"!==r&&"tnt"!==r&&"timestamp"!==r&&"abort"!==r&&"useBeacon"!==r&&"linkObject"!==r&&"clickObject"!==r&&"linkType"!==r&&"linkName"!==r&&"linkURL"!==r&&"bodyClickTarget"!==r&&"bodyClickFunction"!==r||(e["!"+r]=1)},t.Lb=function(e){var t,n,a,i,r,o,s=0,c="",l="";if(e&&255<e.length&&0<(n=(t=""+e).indexOf("?"))&&(o=t.substring(n+1),a=0,"http://"==(i=(t=t.substring(0,n)).toLowerCase()).substring(0,7)?a+=7:"https://"==i.substring(0,8)&&(a+=8),0<(n=i.indexOf("/",a))&&(i=i.substring(a,n),r=t.substring(n),t=t.substring(0,n),0<=i.indexOf("google")?s=",q,ie,start,search_key,word,kw,cd,":0<=i.indexOf("yahoo.co")?s=",p,ei,":0<=i.indexOf("baidu.")&&(s=",wd,word,"),s&&o))){if((e=o.split("&"))&&1<e.length){for(a=0;a<e.length;a++)0<(n=(i=e[a]).indexOf("="))&&0<=s.indexOf(","+i.substring(0,n)+",")?c+=(c?"&":"")+i:l+=(l?"&":"")+i;c&&l?o=c+"&"+l:l=""}e=t+(0<(n=253-(o.length-l.length)-t.length)?r.substring(0,n):"")+"?"+o}return e},t.cb=function(e){var n=t.d.visibilityState,a=["webkitvisibilitychange","visibilitychange"];if(n||(n=t.d.webkitVisibilityState),n&&"prerender"==n){if(e)for(n=0;n<a.length;n++)t.d.addEventListener(a[n],(function(){var n=t.d.visibilityState;n||(n=t.d.webkitVisibilityState),"visible"==n&&e()}));return!1}return!0},t.ba=!1,t.H=!1,t.Bb=function(){t.H=!0,t.p()},t.I=!1,t.Cb=function(e){t.marketingCloudVisitorID=e.MCMID,t.visitorOptedOut=e.MCOPTOUT,t.analyticsVisitorID=e.MCAID,t.audienceManagerLocationHint=e.MCAAMLH,t.audienceManagerBlob=e.MCAAMB,t.I=!1,t.p()},t.bb=function(e){return t.maxDelay||(t.maxDelay=250),!t.u("_d")||(e&&setTimeout((function(){e()}),t.maxDelay),!1)},t.Z=!1,t.G=!1,t.za=function(){t.G=!0,t.p()},t.isReadyToTrack=function(){var e=!0;return!(!t.nb()||!t.lb())&&(t.pb()||(e=!1),t.sb()||(e=!1),e)},t.nb=function(){return t.ba||t.H||(t.cb(t.Bb)?t.H=!0:t.ba=!0),!(t.ba&&!t.H)},t.lb=function(){var e=t.va();if(e){if(!t.ra&&!t.aa)return e.fetchPermissions(t.ub,!0),t.aa=!0,!1;if(!t.ra)return!1;if(!e.isApproved(e.Categories.ANALYTICS))return!1}return!0},t.V=function(e){var n=t.va();return!(n&&!n.isApproved(n.Categories[e]))},t.va=function(){return n.adobe&&n.adobe.optIn?n.adobe.optIn:null},t.Y=!0,t.pb=function(){var e=t.T();return!e||!e.getVisitorValues||(t.Y&&(t.Y=!1,t.I||(t.I=!0,e.getVisitorValues(t.Cb))),!t.I)},t.T=function(){var e=t.visitor;return e&&!e.isAllowed()&&(e=null),e},t.sb=function(){return t.Z||t.G||(t.bb(t.za)?t.G=!0:t.Z=!0),!(t.Z&&!t.G)},t.aa=!1,t.ub=function(){t.aa=!1,t.ra=!0},t.j=a,t.q=0,t.callbackWhenReadyToTrack=function(e,n,i){var r;(r={}).Gb=e,r.Fb=n,r.Db=i,t.j==a&&(t.j=[]),t.j.push(r),0==t.q&&(t.q=setInterval(t.p,100))},t.p=function(){var e;if(t.isReadyToTrack()&&(t.Ab(),t.j!=a))for(;0<t.j.length;)(e=t.j.shift()).Fb.apply(e.Gb,e.Db)},t.Ab=function(){t.q&&(clearInterval(t.q),t.q=0)},t.ta=function(e){var n,i={};if(t.gc(i),e!=a)for(n in e)i[n]=e[n];t.callbackWhenReadyToTrack(t,t.Ea,[i]),t.Ca()},t.Nb=function(){var e,n=t.cookieRead("s_fid"),a="",i="";e=8;var r=4;if(!n||0>n.indexOf("-")){for(n=0;16>n;n++)e=Math.floor(Math.random()*e),a+="0123456789ABCDEF".substring(e,e+1),e=Math.floor(Math.random()*r),i+="0123456789ABCDEF".substring(e,e+1),e=r=16;n=a+"-"+i}return t.cookieWrite("s_fid",n,1)||(n=0),n},t.Ea=function(e){var a,i=new Date,r="s"+Math.floor(i.getTime()/108e5)%10+Math.floor(1e13*Math.random()),o=i.getYear(),c=(o="t="+t.escape(i.getDate()+"/"+i.getMonth()+"/"+(1900>o?o+1900:o)+" "+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+" "+i.getDay()+" "+i.getTimezoneOffset()),t.T());e&&(a=t.S(e,1)),t.Ub()&&!t.visitorOptedOut&&(t.wa()||(t.fid=t.Nb()),t.Xb(),t.usePlugins&&t.doPlugins&&t.doPlugins(t),t.account&&(t.abort||(t.trackOffline&&!t.timestamp&&(t.timestamp=Math.floor(i.getTime()/1e3)),e=n.location,t.pageURL||(t.pageURL=e.href?e.href:e),t.referrer||t.Za||(e=t.Util.getQueryParam("adobe_mc_ref",null,null,!0),t.referrer=e||void 0===e?void 0===e?"":e:s.document.referrer),t.Za=1,t.referrer=t.Lb(t.referrer),t.u("_g")),t.Qb()&&!t.abort&&(c&&t.V("TARGET")&&!t.supplementalDataID&&c.getSupplementalDataID&&(t.supplementalDataID=c.getSupplementalDataID("AppMeasurement:"+t._in,!t.expectSupplementalData)),t.V("AAM")||(t.contextData["cm.ssf"]=1),t.Rb(),t.vb(),o+=t.Pb(),t.rb(r,o),t.u("_t"),t.referrer=""))),t.Ca(),a&&t.S(a,1)},t.t=t.track=function(e,n){n&&t.S(n),t.Y=!0,t.isReadyToTrack()?null!=t.j&&0<t.j.length?(t.ta(e),t.p()):t.Ea(e):t.ta(e)},t.vb=function(){t.writeSecureCookies&&!t.ssl&&t.$a()},t.$a=function(){t.contextData.excCodes=t.contextData.excCodes?t.contextData.excCodes:[],t.contextData.excCodes.push(1)},t.Ca=function(){t.abort=t.supplementalDataID=t.timestamp=t.pageURLRest=t.linkObject=t.clickObject=t.linkURL=t.linkName=t.linkType=n.s_objectID=t.pe=t.pev1=t.pev2=t.pev3=t.e=t.lightProfileID=t.useBeacon=t.referrer=0,t.contextData&&t.contextData.excCodes&&(t.contextData.excCodes=0)},t.Ba=[],t.registerPreTrackCallback=function(e){for(var n=[],a=1;a<arguments.length;a++)n.push(arguments[a]);"function"==typeof e?t.Ba.push([e,n]):t.debugTracking&&t.C("DEBUG: Non function type passed to registerPreTrackCallback")},t.gb=function(e){t.ua(t.Ba,e)},t.Aa=[],t.registerPostTrackCallback=function(e){for(var n=[],a=1;a<arguments.length;a++)n.push(arguments[a]);"function"==typeof e?t.Aa.push([e,n]):t.debugTracking&&t.C("DEBUG: Non function type passed to registerPostTrackCallback")},t.fb=function(e){t.ua(t.Aa,e)},t.ua=function(e,n){if("object"==typeof e)for(var a=0;a<e.length;a++){var i=e[a][0],r=e[a][1].slice();if(r.unshift(n),"function"==typeof i)try{i.apply(null,r)}catch(e){t.debugTracking&&t.C(e.message)}}},t.tl=t.trackLink=function(e,n,a,i,r){return t.linkObject=e,t.linkType=n,t.linkName=a,r&&(t.bodyClickTarget=e,t.bodyClickFunction=r),t.track(i)},t.trackLight=function(e,n,a,i){return t.lightProfileID=e,t.lightStoreForSeconds=n,t.lightIncrementBy=a,t.track(i)},t.clearVars=function(){var e,n;for(e=0;e<t.g.length;e++)("prop"==(n=t.g[e]).substring(0,4)||"eVar"==n.substring(0,4)||"hier"==n.substring(0,4)||"list"==n.substring(0,4)||"channel"==n||"events"==n||"eventList"==n||"products"==n||"productList"==n||"purchaseID"==n||"transactionID"==n||"state"==n||"zip"==n||"campaign"==n)&&(t[n]=void 0)},t.tagContainerMarker="",t.rb=function(e,n){var a=t.hb()+"/"+e+"?AQB=1&ndh=1&pf=1&"+(t.ya()?"callback=s_c_il["+t._in+"].doPostbacks&et=1&":"")+n+"&AQE=1";t.gb(a),t.eb(a),t.U()},t.hb=function(){var e=t.ib();return"http"+(t.ssl?"s":"")+"://"+e+"/b/ss/"+t.account+"/"+(t.mobile?"5.":"")+(t.ya()?"10":"1")+"/JS-"+t.version+(t.$b?"T":"")+(t.tagContainerMarker?"-"+t.tagContainerMarker:"")},t.ya=function(){return t.AudienceManagement&&t.AudienceManagement.isReady()||0!=t.usePostbacks},t.ib=function(){var e=t.dc,n=t.trackingServer;return n?t.trackingServerSecure&&t.ssl&&(n=t.trackingServerSecure):("d1"==(e=e?(""+e).toLowerCase():"d1")?e="112":"d2"==e&&(e="122"),n=t.kb()+"."+e+".2o7.net"),n},t.kb=function(){var e=t.visitorNamespace;return e||(e=(e=t.account.split(",")[0]).replace(/[^0-9a-z]/gi,"")),e},t.Ya=/{(%?)(.*?)(%?)}/,t.fc=RegExp(t.Ya.source,"g"),t.Kb=function(e){if("object"==typeof e.dests)for(var n=0;n<e.dests.length;++n){var a=e.dests[n];if("string"==typeof a.c&&"aa."==a.id.substr(0,3))for(var i=a.c.match(t.fc),r=0;r<i.length;++r){var o=i[r],s=o.match(t.Ya),c="";"%"==s[1]&&"timezone_offset"==s[2]?c=(new Date).getTimezoneOffset():"%"==s[1]&&"timestampz"==s[2]&&(c=t.Ob()),a.c=a.c.replace(o,t.escape(c))}}},t.Ob=function(){var e=new Date,n=new Date(6e4*Math.abs(e.getTimezoneOffset()));return t.k(4,e.getFullYear())+"-"+t.k(2,e.getMonth()+1)+"-"+t.k(2,e.getDate())+"T"+t.k(2,e.getHours())+":"+t.k(2,e.getMinutes())+":"+t.k(2,e.getSeconds())+(0<e.getTimezoneOffset()?"-":"+")+t.k(2,n.getUTCHours())+":"+t.k(2,n.getUTCMinutes())},t.k=function(e,t){return(Array(e+1).join(0)+t).slice(-e)},t.pa={},t.doPostbacks=function(e){if("object"==typeof e)if(t.Kb(e),"object"==typeof t.AudienceManagement&&"function"==typeof t.AudienceManagement.isReady&&t.AudienceManagement.isReady()&&"function"==typeof t.AudienceManagement.passData)t.AudienceManagement.passData(e);else if("object"==typeof e&&"object"==typeof e.dests)for(var n=0;n<e.dests.length;++n){var a=e.dests[n];"object"==typeof a&&"string"==typeof a.c&&"string"==typeof a.id&&"aa."==a.id.substr(0,3)&&(t.pa[a.id]=new Image,t.pa[a.id].alt="",t.pa[a.id].src=a.c)}},t.eb=function(e){t.i||t.Sb(),t.i.push(e),t.ia=t.A(),t.Xa()},t.Sb=function(){t.i=t.Vb(),t.i||(t.i=[])},t.Vb=function(){var e,a;if(t.oa()){try{(a=n.localStorage.getItem(t.ma()))&&(e=n.JSON.parse(a))}catch(e){}return e}},t.oa=function(){var e=!0;return t.trackOffline&&t.offlineFilename&&n.localStorage&&n.JSON||(e=!1),e},t.Na=function(){var e=0;return t.i&&(e=t.i.length),t.l&&e++,e},t.U=function(){if(!t.l||(t.v&&t.v.complete&&t.v.D&&t.v.R(),!t.l))if(t.Oa=a,t.na)t.ia>t.N&&t.Va(t.i),t.qa(500);else{var e=t.Eb();0<e?t.qa(e):(e=t.La())&&(t.l=1,t.Wb(e),t.Zb(e))}},t.qa=function(e){t.Oa||(e||(e=0),t.Oa=setTimeout(t.U,e))},t.Eb=function(){var e;return!t.trackOffline||0>=t.offlineThrottleDelay?0:(e=t.A()-t.Ta,t.offlineThrottleDelay<e?0:t.offlineThrottleDelay-e)},t.La=function(){if(0<t.i.length)return t.i.shift()},t.Wb=function(e){if(t.debugTracking){var n,a="AppMeasurement Debug: "+e;for(e=e.split("&"),n=0;n<e.length;n++)a+="\n\t"+t.unescape(e[n]);t.C(a)}},t.wa=function(){return t.marketingCloudVisitorID||t.analyticsVisitorID},t.X=!1;try{o=JSON.parse('{"x":"y"}')}catch(e){o=null}for(o&&"y"==o.x?(t.X=!0,t.W=function(e){return JSON.parse(e)}):n.$&&n.$.parseJSON?(t.W=function(e){return n.$.parseJSON(e)},t.X=!0):t.W=function(){return null},t.Zb=function(e){var i,r,o;if(t.mb(e)&&(r=1,i={send:function(e){t.useBeacon=!1,navigator.sendBeacon(e)?i.R():i.ga()}}),!i&&t.wa()&&2047<e.length&&(t.ab()&&(r=2,i=new XMLHttpRequest),i&&(t.AudienceManagement&&t.AudienceManagement.isReady()||0!=t.usePostbacks)&&(t.X?i.Ga=!0:i=0)),!i&&t.ec&&(e=e.substring(0,2047)),!i&&t.d.createElement&&(0!=t.usePostbacks||t.AudienceManagement&&t.AudienceManagement.isReady())&&(i=t.d.createElement("SCRIPT"))&&"async"in i&&((o=(o=t.d.getElementsByTagName("HEAD"))&&o[0]?o[0]:t.d.body)?(i.type="text/javascript",i.setAttribute("async","async"),r=3):i=0),i||((i=new Image).alt="",i.abort||void 0===n.InstallTrigger||(i.abort=function(){i.src=a})),i.Ua=Date.now(),i.Ia=function(){try{i.D&&(clearTimeout(i.D),i.D=0)}catch(e){}},i.onload=i.R=function(){if(i.Ua&&(t.ja=Date.now()-i.Ua),t.fb(e),i.Ia(),t.Ib(),t.ca(),t.l=0,t.U(),i.Ga){i.Ga=!1;try{t.doPostbacks(t.W(i.responseText))}catch(e){}}},i.onabort=i.onerror=i.ga=function(){i.Ia(),(t.trackOffline||t.na)&&t.l&&t.i.unshift(t.Hb),t.l=0,t.ia>t.N&&t.Va(t.i),t.ca(),t.qa(500)},i.onreadystatechange=function(){4==i.readyState&&(200==i.status?i.R():i.ga())},t.Ta=t.A(),1===r)i.send(e);else if(2===r)o=e.indexOf("?"),r=e.substring(0,o),o=(o=e.substring(o+1)).replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),i.open("POST",r,!0),i.withCredentials=!0,i.send(o);else if(i.src=e,3===r){if(t.Ra)try{o.removeChild(t.Ra)}catch(e){}o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),t.Ra=t.v}i.D=setTimeout((function(){i.D&&(i.complete?i.R():(t.trackOffline&&i.abort&&i.abort(),i.ga()))}),5e3),t.Hb=e,t.v=n["s_i_"+t.replace(t.account,",","_")]=i,(t.useForcedLinkTracking&&t.J||t.bodyClickFunction)&&(t.forcedLinkTrackingTimeout||(t.forcedLinkTrackingTimeout=250),t.da=setTimeout(t.ca,t.forcedLinkTrackingTimeout))},t.mb=function(e){var n=!1;return navigator.sendBeacon&&(t.ob(e)||t.useBeacon)&&(n=!0),t.xb(e)&&(n=!1),n},t.ob=function(e){return!!(e&&0<e.indexOf("pe=lnk_e"))},t.xb=function(e){return 64e3<=e.length},t.ab=function(){return"undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest},t.Ib=function(){if(t.oa()&&!(t.Sa>t.N))try{n.localStorage.removeItem(t.ma()),t.Sa=t.A()}catch(e){}},t.Va=function(e){if(t.oa()){t.Xa();try{n.localStorage.setItem(t.ma(),n.JSON.stringify(e)),t.N=t.A()}catch(e){}}},t.Xa=function(){if(t.trackOffline)for((!t.offlineLimit||0>=t.offlineLimit)&&(t.offlineLimit=10);t.i.length>t.offlineLimit;)t.La()},t.forceOffline=function(){t.na=!0},t.forceOnline=function(){t.na=!1},t.ma=function(){return t.offlineFilename+"-"+t.visitorNamespace+t.account},t.A=function(){return(new Date).getTime()},t.Pa=function(e){return 0!=(e=e.toLowerCase()).indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")},t.setTagContainer=function(e){var n,a,i;for(t.$b=e,n=0;n<t._il.length;n++)if((a=t._il[n])&&"s_l"==a._c&&a.tagContainerName==e){if(t.S(a),a.lmq)for(n=0;n<a.lmq.length;n++)i=a.lmq[n],t.loadModule(i.n);if(a.ml)for(i in a.ml)if(t[i])for(n in e=t[i],i=a.ml[i])!Object.prototype[n]&&("function"!=typeof i[n]||0>(""+i[n]).indexOf("s_c_il"))&&(e[n]=i[n]);if(a.mmq)for(n=0;n<a.mmq.length;n++)i=a.mmq[n],t[i.m]&&(e=t[i.m])[i.f]&&"function"==typeof e[i.f]&&(i.a?e[i.f].apply(e,i.a):e[i.f].apply(e));if(a.tq)for(n=0;n<a.tq.length;n++)t.track(a.tq[n]);a.s=t;break}},t.Util={urlEncode:t.escape,urlDecode:t.unescape,cookieRead:t.cookieRead,cookieWrite:t.cookieWrite,getQueryParam:function(e,a,i,r){var o,s="";return a||(a=t.pageURL?t.pageURL:n.location),i=i||"&",e&&a?0>(o=(a=""+a).indexOf("?"))?s:(a=i+a.substring(o+1)+i,r&&(0<=a.indexOf(i+e+i)||0<=a.indexOf(i+e+"="+i))?void 0:(0<=(o=a.indexOf("#"))&&(a=a.substr(0,o)+i),0>(o=a.indexOf(i+e+"="))||(0<=(o=(a=a.substring(o+i.length+e.length+1)).indexOf(i))&&(a=a.substring(0,o)),0<a.length&&(s=t.unescape(a))),s)):s},getIeVersion:function(){return document.documentMode?document.documentMode:t.xa()?7:null}},t.F="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" "),t.g=t.F.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" ")),t.ka="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" "),t.O=t.ka.slice(0),t.Fa="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout writeSecureCookies useLinkTrackSessionStorage trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData useBeacon usePostbacks registerPreTrackCallback registerPostTrackCallback bodyClickTarget bodyClickFunction AudienceManagement".split(" "),i=0;250>=i;i++)76>i&&(t.g.push("prop"+i),t.O.push("prop"+i)),t.g.push("eVar"+i),t.O.push("eVar"+i),6>i&&t.g.push("hier"+i),4>i&&t.g.push("list"+i);i="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID ms_a".split(" "),t.g=t.g.concat(i),t.F=t.F.concat(i),t.ssl=0<=n.location.protocol.toLowerCase().indexOf("https"),t.charSet="UTF-8",t.contextData={},t.writeSecureCookies=!1,t.offlineThrottleDelay=0,t.offlineFilename="AppMeasurement.offline",t.P="s_sq",t.Ta=0,t.ia=0,t.N=0,t.Sa=0,t.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",t.w=n,t.d=n.document,t.ca=function(){t.da&&(n.clearTimeout(t.da),t.da=a),t.bodyClickTarget&&t.J&&t.bodyClickTarget.dispatchEvent(t.J),t.bodyClickFunction&&("function"==typeof t.bodyClickFunction?t.bodyClickFunction():t.bodyClickTarget&&t.bodyClickTarget.href&&(t.d.location=t.bodyClickTarget.href)),t.bodyClickTarget=t.J=t.bodyClickFunction=0},t.Wa=function(){t.b=t.d.body,t.b?(t.r=function(e){var a,i,r,o,s;if(!(t.d&&t.d.getElementById("cppXYctnr")||e&&e["s_fe_"+t._in])){if(t.Ha){if(!t.useForcedLinkTracking)return t.b.removeEventListener("click",t.r,!0),void(t.Ha=t.useForcedLinkTracking=0);t.b.removeEventListener("click",t.r,!1)}else t.useForcedLinkTracking=0;t.clickObject=e.srcElement?e.srcElement:e.target;try{if(!t.clickObject||t.M&&t.M==t.clickObject||!(t.clickObject.tagName||t.clickObject.parentElement||t.clickObject.parentNode))t.clickObject=0;else{var c=t.M=t.clickObject;if(t.ha&&(clearTimeout(t.ha),t.ha=0),t.ha=setTimeout((function(){t.M==c&&(t.M=0)}),1e4),r=t.Na(),t.track(),r<t.Na()&&t.useForcedLinkTracking&&e.target){for(o=e.target;o&&o!=t.b&&"A"!=o.tagName.toUpperCase()&&"AREA"!=o.tagName.toUpperCase();)o=o.parentNode;if(o&&(s=o.href,t.Pa(s)||(s=0),i=o.target,e.target.dispatchEvent&&s&&(!i||"_self"==i||"_top"==i||"_parent"==i||n.name&&i==n.name))){try{a=t.d.createEvent("MouseEvents")}catch(e){a=new n.MouseEvent}if(a){try{a.initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(e){a=0}a&&(a["s_fe_"+t._in]=a.s_fe=1,e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.preventDefault(),t.bodyClickTarget=e.target,t.J=a)}}}}}catch(e){t.clickObject=0}}},t.b&&t.b.attachEvent?t.b.attachEvent("onclick",t.r):t.b&&t.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&t.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&n.MouseEvent)&&(t.Ha=1,t.useForcedLinkTracking=1,t.b.addEventListener("click",t.r,!0)),t.b.addEventListener("click",t.r,!1))):setTimeout(t.Wa,30)},t.ec=t.xa(),t.Jb(),t.lc||(e?t.setAccount(e):t.C("Error, missing Report Suite ID in AppMeasurement initialization"),t.Wa(),t.loadModule("ActivityMap"))}function t(t){var n,a,i,r,o,s=window.s_c_il,c=t.split(","),l=0;if(s)for(a=0;!l&&a<s.length;){if("s_c"==(n=s[a])._c&&(n.account||n.oun))if(n.account&&n.account==t)l=1;else for(i=n.account?n.account:n.oun,i=n.allAccounts?n.allAccounts:i.split(","),r=0;r<c.length;r++)for(o=0;o<i.length;o++)c[r]==i[o]&&(l=1);a++}return l?n.setAccount&&n.setAccount(t):n=new e(t),n}function n(){var e,n,a,i=window,r=i.s_giq;if(r)for(e=0;e<r.length;e++)(a=t((n=r[e]).oun)).setAccount(n.un),a.setTagContainer(n.tagContainerName);i.s_giq=0}var a=window,i=a._satellite;e.getInstance=t,window.s_objectID||(window.s_objectID=0),n(),a.AppMeasurement=e,a.s=a.s_adbadobenonacdc=a.s_adobe=t(i.getVar("analytics_account_adbadobenonacdc")),document;var r=a.s,o="stats.adobe.com",s="sstats.adobe.com";return r.visitor=a.Visitor.getInstance(i.getVar("marketingCloudOrganizationID")),r.charSet="UTF-8",r.trackingServer=o,r.trackingServerSecure=s,r.fpCookieDomainPeriods=r.cookieDomainPeriods=i._getDomainPeriods(),r.debugTracking="true"===localStorage.getItem("com.adobe.reactor.debug"),r.trackInlineStats=!1,r.trackDownloadLinks=!0,r.trackExternalLinks=!0,r.linkLeaveQueryString=!1,r.linkDownloadFileTypes=i.getVar("adobe_linkDownloadFileTypes"),r.linkExternalFilters="",r.linkInternalFilters=i.getVar("adobe_linkInternalFilters"),r.maxDelay=1e4,i._timeSpentOnPage.init(),r.usePlugins=!0,r.doPlugins=function(e){e.linkType&&"o"!==e.linkType&&("d"===e.linkType&&a.digitalData._set("digitalData.primaryEvent.eventInfo.eventAction","downloadLink"),"e"===e.linkType&&a.digitalData._set("digitalData.primaryEvent.eventInfo.eventAction","exitLink"),e.contextData=a.digitalData._flatten(a.digitalData,"digitalData",!1),e.contextData["hit.type"]="event"),e.abort||a.self!==a.top&&(e.referrer=document.referrer)},!0}}}],actions:[]},{id:"RL373f309cc51842c39df1431f5b297d33",name:"initSatellitePlugins",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return function(){"use strict";_satellite._getQueryParam=function(e,t){var n,a,i,r,o;if(t=t||window.location.search,!e)return"";for(o=function(e){var t=e;try{t=decodeURIComponent(e)}catch(e){}return t},0===t.indexOf("?")&&(t=t.substring(1)),i=0,r=(n=t.split("&")).length;i<r;i++)if((a=n[i].split("="))[0]&&o(a[0])===e)return o(a[1]);return""},_satellite._getQueryParam.version="1.0"}(),function(){"use strict";var e="";_satellite._getDomain=function(){if(e)return e;var t=this,n=window.location.hostname.toLowerCase().split("."),a=[],i="",r=null,o=!1;for(i=n.pop(),a.unshift(i);n.length>0;){i=n.pop(),a.unshift(i),(r=new Date).setTime(r.getTime()+1e3);try{t.cookie.set("sat_domain","A",{expires:r,domain:a.join(".")})}catch(e){break}if("A"===t.cookie.get("sat_domain")){o=!0,e=a.join(".");break}}return o?e:""},_satellite._getDomain.version="2.0"}(),function(){"use strict";_satellite._getDomainPeriods=function(){var e=this._getDomain();return e?e.split(".").length:2},_satellite._getDomainPeriods.version="1.0"}(),function(){"use strict";function e(e,t){var n,a,i,r,o,s,c,l;for(n=3&e.length,a=e.length-n,i=t,o=3432918353,s=461845907,l=0;l<a;)c=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,i=27492+(65535&(r=5*(65535&(i=(i^=c=(65535&(c=(c=(65535&c)*o+(((c>>>16)*o&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(r>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(l+2))<<16;case 2:c^=(255&e.charCodeAt(l+1))<<8;case 1:i^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(l)))*o+(((c>>>16)*o&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}_satellite._murmurHash3=function(t,n){return e(t,n=n||1).toString(16).toUpperCase()},_satellite._murmurHash3.version="1.0"}(),function(){"use strict";var e,t,n,a,i,r=window,o=document,s=(o.body,"1.0"),c={a:"a",abbr:"ab",acronym:"ac",address:"ad",altglyph:"ag",altglyphdef:"agd",altglyphitem:"agi",animate:"an",animatecolor:"anc",animatemotion:"anm",animatetransform:"ant",applet:"ap",area:"r",article:"c",aside:"A",audio:"au",b:"b",base:"bs",basefont:"ba",bdi:"bd",bdo:"bo",bgsound:"bg",big:"bi",blockquote:"bl",br:"br",button:"B",canvas:"ca",caption:"cp",center:"ce",cite:"C",circle:"ci",clippath:"ch",code:"co",col:"cl",colgroup:"cg","color-profile":"cf",content:"ct",cursor:"cu",data:"da",datalist:"dl",dd:"y",decorator:"dc",defs:"dE",del:"de",desc:"ds",details:"dt",dfn:"df",dialog:"di",dir:"dr",div:"d",dl:"D",dt:"z",element:"el",ellipse:"eL",em:"E",embed:"eb",feblend:"feb",fecolormatrix:"fcm",fecomponenttransfer:"fct",fecomposite:"fc",feconvolvematrix:"fcx",fediffuselighting:"fdl",fedisplacementmap:"fdm",fedistantlight:"fd",feflood:"ff",fefunca:"ffa",fefuncb:"ffb",fefuncg:"ffg",fefuncr:"ffr",fegaussianblur:"fgb",feimage:"fei",femerge:"fem",femergenode:"fen",femorphology:"fef",feoffset:"fe",fepointlight:"fpl",fespecularlighting:"fsl",fespotlight:"fSl",fetile:"fet",feturbulence:"ftb",fieldset:"J",figcaption:"fg",figure:"fi",filter:"fl",font:"fo","font-face":"ffc","font-face-format":"fff","font-face-name":"ffn","font-face-src":"ffs","font-face-uri":"ffu",footer:"f",
foreignobject:"fro",form:"F",frame:"fr",frameset:"ft",g:"g",glyph:"gl",glyphref:"gr",h1:"ha",h2:"hb",h3:"hc",h4:"hd",h5:"he",h6:"hf",header:"h",hgroup:"hg",hkern:"hk",hr:"hr",i:"i",iframe:"if",image:"im",img:"I",input:"j",ins:"in",isindex:"is",kbd:"kb",keygen:"ke",label:"e",legend:"L",li:"l",line:"li",lineargradient:"lg",link:"lk",listing:"ls",main:"m",map:"M",mark:"mr",marker:"mk",marquee:"mq",mask:"ms",menu:"me",menuitem:"mi",metadata:"md",meter:"mt","missing-glyph":"mg",mpath:"mp",nav:"n",nobr:"no",noframes:"nf",noscript:"ns",object:"ob",ol:"o",optgroup:"op",option:"O",output:"ou",p:"p",param:"pa",path:"ph",pattern:"pe",picture:"pi",plaintext:"pt",polygon:"po",polyline:"pl",pre:"pr",progress:"pg",q:"q",radialgradient:"rg",rect:"re",rp:"rp",rt:"rt",ruby:"ru",s:"s",samp:"sa",script:"sc",section:"S",select:"N",set:"se",shadow:"sh",small:"sm",source:"so",spacer:"sp",span:"P",stop:"sT",strike:"st",strong:"sr",style:"St",sub:"sB",summary:"su",sup:"sP",svg:"G",switch:"sw",symbol:"sy",table:"t",tbody:"v",td:"T",template:"te",text:"tx",textarea:"k",textpath:"tp",tfoot:"x",th:"H",thead:"w",time:"ti",title:"Ti",tr:"R",tref:"tr",track:"tc",tspan:"ts",tt:"tt",u:"u",ul:"U",use:"us",var:"va",video:"vi",view:"vw",vkern:"vk",wbr:"wb",xmp:"xm"},l={},d={1:"a",2:"b",3:"c",4:"d",5:"e",6:"f",7:"g",8:"h",9:"i",0:"j"},u={a:"1",b:"2",c:"3",d:"4",e:"5",f:"6",g:"7",h:"8",i:"9",j:"0"},f=["click","keypress"];for(a in c)c.hasOwnProperty(a)&&(n=c[a],l[n]=a);var p=function(e){var t,n;if(!e||"[object Array]"!==Object.prototype.toString.call(e))return!1;for(t=0,n=e.length;t<n;t++)p.addWeb(e[t])};for(_satellite._spiderWeb=p,p.webs=[],p.addWeb=function(e){return!(!e||"object"!=typeof e||(e.callback,e.root||(e.root=o.body),e.s||(e.s=null),e.keys||(e.keys=[]),!e||(p.webs.push(e),0)))},p.getInformationForElement=function(e,t,n){var a,i,o,s=null,c="",l="",d=r.location,u={location:{href:d.href,protocol:d.protocol,p:"https:"===d.protocol?"s":"http:"===d.protocol?"h":"o",host:d.host,hostname:d.hostname.toLowerCase(),port:d.port,pathname:d.pathname,search:d.search,hash:d.hash},id:"",id1:"",id2:"",id3:"",id4:"",id5:"",id6:"",id7:"",id8:"",id9:"",node:e,element:e,isExitLink:!1,shouldNavigate:!1,hash:{innerText:""}},f=t&&t.root?t.root:void 0,m="evaluate",h="hash",g={method:"custom",before:"",delimiter:"|",after:"",replace:{"|":":"},template:[{type:m,name:"location.p",max:1},{type:m,name:"location.hostname",max:60,maxExceeded:h},{type:m,name:"location.pathname",max:50,maxExceeded:h},{type:m,name:"location.search",max:20,maxExceeded:h},{type:m,name:"location.hash",max:31,maxExceeded:h},{type:m,name:"id",max:70,maxExceeded:h},{type:h,name:"destination.href",max:8},{type:h,name:"node.innerText",max:8}]};if(c=p.getUniqueIdForElement(e,f),u.id=c,l=e.getAttribute("id"),u.id1=l||"",u.selector=p.getSelectorForUniqueId(c),(s=p.getLinkElement(e,f))&&(u.linkElement=s,u.destination={href:s.href,protocol:s.protocol,p:"https:"===s.protocol?"s":"http:"===s.protocol?"h":"o",host:s.host,hostname:s.hostname.toLowerCase(),port:s.port,pathname:s.pathname,search:s.search,hash:s.hash},t&&t.s?u.isExitLink=p.isExitLink(s.href,t.s.linkInternalFilters,t.s.linkExternalFilters):u.isExitLink=p.isExitLink(s.href),u.shouldNavigate=p.shouldNavigate(s)),t&&t.s&&(u.s=t.s),n&&(u.event=n),u.key=p.generateKey(g,u),t&&t.keys&&t.keys.length>0)for(u.keys=[],a=0,i=t.keys.length;a<i;a++)o=t.keys[a],u.keys[a]=p.generateKey(o,u);return u},p.evaluate=function(e,t){var n,a,i,r,o;for(a=0,i=(n=e.split(".")).length;a<i;a++)if(null==(r=0===a?t[n[a]]:r[n[a]])){r="";break}return"string"==(o=typeof r)||"number"===o||"boolean"===o?r+="":r="",r},p.generateKey=function(e,t){var n,a,i,r,o,s,c,l=[],d="";if("string"==typeof e)return e.replace(/\{\{(.*?)\}\}/g,(function(e,n){return p.evaluate(n,t)}));if((r=e).before||(r.before=""),r.delimiter||(r.delimiter=""),r.after||(r.after=""),r.method&&"default"!==r.method&&"custom"!==r.method)e.method;else{for(n=0,a=r.template.length;n<a;n++){if("evaluate"===(i=r.template[n]).type&&i.name?o=p.evaluate(i.name,t):"hash"===i.type&&i.name?o=_satellite._murmurHash3(p.evaluate(i.name,t)):"string"===i.type&&i.string&&(o=i.string),i.max&&o.length>+i.max&&("hash"===i.maxExceeded?o=_satellite._murmurHash3(o):"truncate"===i.maxExceeded&&(o=o.substring(0,+i.max))),i.before||(i.before=""),i.after||(i.after=""),o=i.before+o+i.after,r.replace)for(s in r.replace)for(c=r.replace[s];-1!==o.indexOf(s);)o=o.replace(s,c);l.push(o)}d=r.before+l.join(r.delimiter)+r.after}return d},p.getUniqueIdForElement=function(e,t){var n,a,i=null,r=0,s=null,l="",u="",f=!1;for(t=t||o.body,i=e.parentNode;i&&i!==o;){if(i===t){f=!0;break}i=i.parentNode}if(!f)return"";for(;e!==t;){for(l=e.tagName.toLowerCase(),r=0,n=0,a=(i=e.parentNode).children.length;n<a&&(l==(s=i.children[n]).tagName.toLowerCase()&&r++,s!==e);n++);if(l=c[l]?c[l]:"{"+(l=l.replace(/[0-9]/g,(function(e){return"^"+d[e]})))+"}",!r)throw new Error("An error occurred in generating uniqueId for element: "+l);u=l+r+u,e=i}return u},p.getSelectorForUniqueId=function(e){var t,n,a=[],i="",r="",o=0,s=["body"];if("string"==typeof e){for(t=0,n=(a=(e=e.replace(/([0-9]+)/g,(function(e,t){return t+" "}))).split(" ")).length;t<n;t++)""!==(i=a[t])&&(r=i.replace(/[0-9]+/g,""),o=i.replace(/[^0-9]+/g,""),l[r]?r=l[r]:(-1!==(r=r.replace(/\^([a-j])/g,(function(e,t){return u[t]}))).indexOf("{")&&(r=r.replace("{","")),-1!==r.indexOf("}")&&(r=r.replace("}",""))),s.push(r+":nth-of-type("+o+")"));return s.join(" > ")}},p.getElementByUniqueId=function(e,t){var n,a,i,r,s=[],c="",d="",f=0,p=[],m=null,h=0,g=t||o.body;if("string"==typeof e){for(n=0,a=(s=(e=e.replace(/([0-9]+)/g,(function(e,t){return t+" "}))).split(" ")).length;n<a;n++)if(""!==(c=s[n])){for(d=c.replace(/[0-9]+/g,""),f=c.replace(/[^0-9]+/g,""),l[d]?d=l[d]:(-1!==(d=d.replace(/\^([a-j])/g,(function(e,t){return u[t]}))).indexOf("{")&&(d=d.replace("{","")),-1!==d.indexOf("}")&&(d=d.replace("}",""))),h=0,i=0,r=(p=g.children).length;i<r;i++)if(d===(m=p[i]).tagName.toLowerCase()&&h++,h+""==f+""){g=m;break}if(!g)return null}return g}},p.getLinkElement=function(e,t){var n=null,a="",i=null,r=!1;for(t=t||o.body,n=e.parentNode;n&&n!==o;){if(n===t){r=!0;break}n=n.parentNode}if(!r)return"";for(;e!==t;){if(a=e.tagName.toLowerCase(),n=e.parentNode,("a"===a||"area"===a)&&e.href){i=e;break}e=n}return i},p.isExitLink=function(e,t,n){var a,i,o=null,s=0,c=0,l=!1;if(t||(t=r.location.hostname),n?(o=n.toLowerCase().split(","),s=1):t&&(o=t.toLowerCase().split(",")),o){for(a=0;a<o.length;a++)i=o[a],e.indexOf(i)>=0&&(c=1);c?s&&(l=!0):s||(l=!0)}return l},p.shouldNavigate=function(e){return!(!e||!e.href||0===e.href.indexOf("about:")||0===e.href.indexOf("opera:")||0===e.href.indexOf("javascript:")||(!e.target||"_self"==e.target||"_top"==e.target||"_parent"==e.target||r.name&&e.target==r.name)&&e.hash&&(e.href===r.location.href||e.protocol===r.location.protocol&&e.host===r.location.host&&e.pathname===r.location.pathname&&e.search===r.location.search))},p.spider=function(e){var t,n,a,i,r=e.target||e.srcElement;for(n=0,a=p.webs.length;n<a;n++)t=p.webs[n],i=p.getInformationForElement(r,t,e),t.callback&&"function"==typeof t.callback&&t.callback(i,e)},e=0,t=f.length;e<t;e++)i=f[e],document.addEventListener?document.addEventListener(i,p.spider,!0):document.attachEvent&&document.attachEvent("on"+i,p.spider);p.version=s}(),function(){"use strict";var e,t,n=window,a="1.2",i=!1,r=[];(e=function(t,n){n=n||e.currentOrder++,r.push({callback:t,order:n}),r.sort((function(e,t){return e.order<t.order?-1:1}))}).currentOrder=1,t=function(e){var t,n;if(!i)for(i=!0,t=0;t<r.length;t++){n=r[t];try{n.callback(e)}catch(e){}}},n.addEventListener?("onpagehide"in n&&n.addEventListener("pagehide",t),n.addEventListener("beforeunload",t),n.addEventListener("unload",t)):n.attachEvent&&(n.attachEvent("onbeforeunload",t),n.attachEvent("onunload",t)),_satellite._beforeUnload=e,e.version=a}(),function(){"use strict";var e,t="3.0",n=_satellite.cookie,a=window,i=document,r={},o={},s=100,c=Math,l=function(){var t,n,r,o,l,d,u,f,p,m,h,g=i.body,v=i.documentElement,_=a.screen||0,y="scrollHeight",b="offsetHeight",k="clientHeight",S="scrollTop",I="clientWidth";return n=c.max(g&&g[y]||v&&v[y],g&&g[b]||v&&v[b],g&&g[k]||v&&v[k]||1),r=a.innerWidth||v&&v[I]||g&&g[I]||1,o=a.innerHeight||v&&v[k]||g&&g[k]||1,l=_?_.width:1,d=_?_.height:1,u=c.round(s*(a.devicePixelRatio||1))/s,f=o+(i.pageYOffset||v&&v[S]||g&&g[S]||0),p=n>0&&f>0?c.round(s*f/n):1,e||(e=p),m=a.orientation,h=isNaN(m)?o>r?0:90:c.abs(m)%180,new RegExp("(iPod|iPad|iPhone)").exec(navigator.userAgent||"")&&h&&(t=l,l=d,d=t),[p,e,f,r,o,l,d,u,h=h?"P":"L"]},d=function(e){return e>s?e=s:e<0&&(e=0),e},u=function(e,t){return e=e||[0,0,0,0,0,0,0,0,0,0],[t[0],d(c.max(e[1]||0,t[1])),e[2]||0,c.max(e[3]||0,t[3]),t[4],t[5],t[6],t[7],t[8],t[9]]},f=function(e){return r[e]},p=function(e){return o[e]},m=function(e){var t,a=n.get(e);try{t=JSON.parse(a)}catch(e){t=[]}return t},h=function(e){var t={};t.domain=_satellite._getDomain();try{n.set(e,JSON.stringify(r[e]),t)}catch(a){n.set(e,"[]",t)}},g=function(e,t){var n,i,c=e&&"-"!==e?e:a.location.href,d=["unload","scroll","resize","zoom","keyup","mouseup","touchend","orientationchange","pan"],f=function(){var e,t;for(e=0,t=d.length;e<t;e++)a.removeEventListener?a.removeEventListener(d[e],p,!1):a.detachEvent&&a.detachEvent("on"+d[e],p)},p=function(e){var n=l();n.unshift(c),r[t]=u(r[t],n),r[t][1]===s&&(f(),_satellite.getVar("enable_performanceCookie")&&h(t)),"unload"===e.type.toLowerCase()&&_satellite.getVar("enable_performanceCookie")&&h(t)};for(o[t=t||"s_ppv"]=m(t),n=0,i=d.length;n<i;n++)a.addEventListener?a.addEventListener(d[n],p,!1):a.attachEvent&&a.attachEvent("on"+d[n],p);return""===o[t][0]?"":e&&"-"!==e?o[t]:o[t][1]};g.calculate=l,g.getCurrent=f,g.getPrevious=p,g.version=t,_satellite._getPercentPageViewed=g}(),function(){"use strict";var e="2.0",t=function(e){var t,n,a=!0;for(t=0,n=e.length;t<n;t++)a="function"==typeof e[t]?a&&e[t]():a&&void 0!==e[t];return a},n=function(e){clearInterval(e.intervalId),clearTimeout(e.timeoutId)};_satellite._poll=function(e,a,i){i.timeout=i.timeout||3e3,i.interval=i.interval||100,i.callOnTimeout=!!i.callOnTimeout,t(a)?e():(i.intervalId=setInterval((function(){t(a)&&(n(i),e())}),i.interval),i.timeoutId=setTimeout((function(){n(i),i.callOnTimeout&&e()}),i.timeout))},_satellite._poll.version=e}(),function(){"use strict";_satellite._returnValueWhenNew=_satellite._getValOnce=function(e,t,n,a,i){var r,o=new Date,s="m"==a?6e4:864e5,c={},l=_satellite.cookie;return e=e||"",t=t||"s_gvo",n=n||0,r=l.get(t),e&&(o.setTime(o.getTime()+n*s),0!==n&&(c.expires=o),i&&(c.domain=i),l.set(t,e,c)),e==r?"":e},_satellite._returnValueWhenNew.version="2.0",_satellite._getValOnce.version="2.0"}(),function(){"use strict";_satellite._getNewRepeat=function(e,t,n){var a,i,r,o=new Date,s=o.getTime(),c={},l=_satellite.cookie;return t=t||"s_nr",r=864e5*(e=e||30),o.setTime(s+r),a=l.get(t)||"",c.expires=o,n&&(c.domain=n),0===a.length||s-(i=a.split("-"))[0]<18e5&&"New"===i[1]?(_satellite.getVar("enable_performanceCookie")&&l.set(t,s+"-New",c),"New"):(_satellite.getVar("enable_performanceCookie")&&l.set(t,s+"-Repeat",c),"Repeat")},_satellite._getNewRepeat.version="2.0"}(),function(){"use strict";var e={2012:"3/11,11/4",2013:"3/10,11/3",2014:"3/9,11/2",2015:"3/8,11/1",2016:"3/13,11/6",2017:"3/12,11/5",2018:"3/11,11/4",2019:"3/10,11/3"};_satellite._getTimeParting=function(t,n){var a;if(window,6!==(a=new Date("1/1/2000")).getDay()||0!==a.getMonth())return"Data Not Available";var i,r,o,s,c,l,d,u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=new Date;if(n=n||0,n=parseFloat(n),e){var p=e[f.getFullYear()]?e[f.getFullYear()].split(/,/):"";l=new Date(p[0]+"/"+f.getFullYear()),d=new Date(p[1]+"/"+f.getFullYear()),("n"==t&&f>l&&f<d||"s"==t&&(f>d||f<l))&&(n+=1)}return f=f.getTime()+6e4*f.getTimezoneOffset(),i=(f=new Date(f+36e5*n)).getHours(),r=(r=f.getMinutes())<10?"0"+r:r,c="AM",s="Weekday",i>=12&&(c="PM",i-=12),0===i&&(i=12),6!==(o=f.getDay())&&0!==o||(s="Weekend"),[i+":"+r+c,i+":"+(r>30?"30":"00")+c,o=u[o],s]},_satellite._getTimeParting.version="1.0"}(),function(e){"use strict";var t,n,a,i,r,o="1.0",s=window,c=document,l=0;e.config={},e._timeSpentOnPage=function(t){e.config=t,e._timeSpentOnPage.init()},e._timeSpentOnPage.start=t=function(){a=(new Date).getTime(),r=!0},e._timeSpentOnPage.stop=n=function(){r&&(i=(new Date).getTime(),l+=i-a,r=!1)},e._timeSpentOnPage.restart=function(){l=0,t()},e._timeSpentOnPage.init=function(){var e,a;"hidden"in c?(e="hidden",a="visibilitychange"):"mozHidden"in c?(e="mozHidden",a="mozvisibilitychange"):"msHidden"in c?(e="msHidden",a="msvisibilitychange"):"webkitHidden"in c&&(e="webkitHidden",a="webkitvisibilitychange"),c.addEventListener(a,(function(){c[e]?n():t()}),!0),s.addEventListener("blur",(function(){n()})),s.addEventListener("focus",(function(){t()})),c[e]||t()},e._timeSpentOnPage.getTimeSpent=function(){return r?l+((new Date).getTime()-a):l},e._timeSpentOnPage.version=o}(_satellite),function(e){"use strict";e._request=function(e){return new Promise((function(t,n){var a,i,r,o;if(o=function(e){var t,n,a,i,r,o,s=[];if(!e)return s;for(r=0,o=(t=e.trim().split(/[\r\n]+/)).length;r<o;r++)a=(n=t[r].split(": ")).shift(),i=n.join(": "),s.push({key:a,value:i});return s},(a=new XMLHttpRequest).open(e.method.toUpperCase(),e.url,!0),a.onreadystatechange=function(){var i,r={};if(a&&a.readyState&&4===a.readyState){a.getAllResponseHeaders?r.headers=o(a.getAllResponseHeaders()):r.headers=null,r.redirected=!1,r.status=1223===a.status?204:a.status,r.statusText=1223===a.status?"No Content":a.statusText,r.ok=r.status>=200&&r.status<300,r.body=a.responseText,r.bodyUsed=!1,r.json=function(){return JSON.parse(r.body)},r.text=function(){return r.body};try{r.data=r.json()}catch(e){}r.ok?t(r):((i=new Error("Network request failed with status code "+r.status)).config=e,i.request=a,i.response=r,n(i)),a=null}},a.onabort=function(){var t;(t=new Error("Network reqeust aborted")).config=e,t.request=a,n(t),a=null},a.onerror=function(){var t;(t=new Error("Network Error")).config=e,t.request=a,n(t),a=null},a.timeout=e.timeout,a.ontimeout=function(){var t;(t=new Error("Network request timed out after"+e.timeout+" milliseconds")).config=e,t.request=a,n(t),a=null},a.setRequestHeader)for(i in e.headers)e.headers.hasOwnProperty(i)&&(r=e.headers[i],a.setRequestHeader(i,r));e.withCredentials&&(a.withCredentials=!0),e.hasOwnProperty("data")||(e.data=null),a.send(e.data)}))},e._request.version="1.0"}(_satellite),!0}}}],actions:[]},{id:"RLb918293157f14318b0c0264a84c8d8df",name:"initVisitorService",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:4}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e,t=window,n=t.s_adobe.visitor,a=t.digitalData;return e=setTimeout((function(){n.setCustomerIDs({mcid:n.getMarketingCloudVisitorID()})}),3e3),a._on("primaryUser.primaryProfile.profileInfo.profileID",(function(a){clearTimeout(e),n.setCustomerIDs({adobeid:{id:a,authState:t.Visitor.AuthState.AUTHENTICATED},adobe813:{id:a,authState:t.Visitor.AuthState.AUTHENTICATED},mcid:n.getMarketingCloudVisitorID()})})),!1}}}],actions:[]},{id:"RL8c4f04eb68a54cb8b67e6679bcfbdd34",name:"initAnalyticsBeacon",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e,t=window,n=t.s_adobe;return n._pageloadTrackedPromise=new Promise((function(e){var t=!1;n._pageLoadTrackedResolve=function(n){t||(e(n),t=!0)}})),void 0!==t.marketingtech&&void 0!==t.marketingtech.adobe&&void 0!==t.marketingtech.adobe.launch&&void 0!==t.marketingtech.adobe.launch.controlPageLoad&&!0===t.marketingtech.adobe.launch.controlPageLoad||("complete"===document.readyState?setTimeout((function(){(e=digitalData._snapshot())._set("digitalData.adobe.experienceCloud.analytics.tag.logicTrigger","initAnalyticsBeacon readyState complete"),_satellite.track("pageload",{digitalData:e})}),1):t.addEventListener("load",(function(){(e=digitalData._snapshot())._set("digitalData.adobe.experienceCloud.analytics.tag.logicTrigger","initAnalyticsBeacon EventListener load"),_satellite.track("pageload",{digitalData:e})}),!0)),_satellite._beforeUnload((function(){(e=digitalData._snapshot())._set("digitalData.adobe.experienceCloud.analytics.tag.logicTrigger","initAnalyticsBeacon beforeUnload"),_satellite.track("pageload",{digitalData:e})}),-10),setTimeout((function(){(e=digitalData._snapshot())._set("digitalData.adobe.experienceCloud.analytics.tag.logicTrigger","initAnalyticsBeacon setTimeout"),_satellite.track("pageload",{digitalData:e})}),1e4),_satellite._beforeUnload((function(){_satellite.track("pageunload")}),-5),!0}}}],actions:[]},{id:"RLf2ce0d6404b54591a0c79002fdad5c32",name:"initCookieMigration",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return function(){"use strict";var e,t,n,a,i,r,o,s,c,l,d,u={},f=_satellite._getDomain();for(d=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},a=0,i=(e=(e=(e=_satellite.cookie.get("s_sess"))||"").split(";")).length;a<i;a++)(t=d(t=e[a]))&&(t=t.split("="),r=decodeURIComponent(t[0]),o={value:decodeURIComponent(t[1]),expires:!1},u[r]=o);for(a=0,i=(e=(e=(e=_satellite.cookie.get("s_pers"))||"").split(";")).length;a<i;a++)(t=d(t=e[a]))&&(t=t.split("="),r=decodeURIComponent(t[0]),s=t[1].split("|"),o={value:decodeURIComponent(s[0]),expires:parseInt(s[1])},u[r]=o);for(r in u)u.hasOwnProperty(r)&&(n={},o=u[r],n.domain=f,o.expires&&(n.expires=new Date(o.expires)),_satellite.cookie.set(r,o.value,n));for(l="",a=(c=window.location.hostname.split(".")).length-1;a>=0;a--)-1!==(l="."+c[a]+l).indexOf(f)&&(_satellite.cookie.remove("s_sess",{domain:l}),_satellite.cookie.remove("s_pers",{domain:l}))}(),!0}}}],actions:[]},{id:"RL45d13c860a704a37953e382c22028a59",name:"trackevent",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"event"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%enable_performanceCookie%"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t,n=window,a=n.location,i=(a.hostname,a.pathname,n.digitalData),r=n.s_adobe,o=!1,s=(_satellite.getVar("adobe_pageNameLogic"),0);return t=e.detail&&e.detail.digitalData?e.detail.digitalData:i._snapshot(),e.detail&&e.detail._beforeSatelliteLoaded&&_satellite.getVar("adobe_digitalData")(t),function(){var e,n={};if(!o){if(o=!0,n.contextData=t._flatten(t,"digitalData",!1),n.contextData["hit.type"]="event",n.contextData["cm.ssf"]=_satellite.getVar("isConsentGiven")?0:1,n.contextData["digitalData.primaryEvent.eventInfo.eventName"]||n.contextData["digitalData.primaryEvent.eventInfo.eventAction"]||n.contextData["digitalData.primaryEvent.eventInfo.id"]?e=n.contextData["digitalData.primaryEvent.eventInfo.eventName"]||n.contextData["digitalData.primaryEvent.eventInfo.eventAction"]||n.contextData["digitalData.primaryEvent.eventInfo.id"]:n.contextData["digitalData.event."+s+".eventInfo.eventName"]||n.contextData["digitalData.event."+s+".eventInfo.eventAction"]||n.contextData["digitalData.event."+s+".eventInfo.id"]?e=n.contextData["digitalData.event."+s+".eventInfo.eventName"]||n.contextData["digitalData.event."+s+".eventInfo.eventAction"]||n.contextData["digitalData.event."+s+".eventInfo.id"]:n.contextData["digitalData.page.pageInfo.pageName"]&&(e=n.contextData["digitalData.page.pageInfo.pageName"]),"looping"==n.contextData["digitalData.video.videoInfo.videoCategory"]&&-1!==e.indexOf("video:progressBarClick"))return!0;r.tl(!0,"o",e,n)}}(),!0}}}],actions:[]},{id:"RL2f2cdc761297460ba035b83e6681f54d",name:"thirdParty_party_emlTags",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){var t,n,a=window;-1!==a.location.search.indexOf("noThirdParty=true")||(n=function(){setTimeout(e,100)},t=function(){_satellite.getVar("isConsentGiven")?n():a.addEventListener("adobePrivacy:PrivacyConsent",n)},"complete"===document.readyState?t():a.addEventListener("load",t))}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"eml.adobe.com"==window.location.hostname}}}],actions:[{modulePath:"simple-custom-code-action/src/lib/actions/customCode.js",settings:{file:"https://assets.adobedtm.com/d4d114c60e50/dd8ee5ac83d0/6dc6b6bf251c/RC10fd70ac80404cb8979ff62dc6499e55-file.min.js"}}]},{id:"RL5288b4e92e28404886efac137c524cf5",name:"trackPageload",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload"},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%enable_performanceCookie%"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if("eml.adobe.com"===window.location.hostname)return!0}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){var t,n,a,i,r=window,o=r.location,s=(o.hostname,o.pathname,r.digitalData),c=r.s_adobe,l=!1;if(_satellite.getVar("analytics_pageload_abort")&&(!e.detail||e.detail&&!e.detail.statelogicflag))return!1;if(c._pageloadTracked)return!1;if(c._pageloadTracked=!0,a=function(e,t,n){t._set(n,e._get(n))},i=_satellite.getVar("adobe_copyLocation"),t=e.detail&&e.detail.digitalData?e.detail.digitalData:s._snapshot(),e.detail&&e.detail._beforeSatelliteLoaded?_satellite.getVar("adobe_digitalData")(t):(t._set("page.pageInfo.location",i(r)),a(t,s,"page.pageInfo.location")),t._set("digitalData.organization.demandbase",_satellite.getVar("digitalData.organization.demandbase")),t._set("digitalData.page.pageInfo.siteSection",_satellite.getVar("digitalData.page.pageInfo.siteSection")),t._set("digitalData.page.pageInfo.performanceTiming",_satellite.getVar("digitalData.page.pageInfo.performanceTiming")),void 0!==r.adobeIMS&&"unknown"===s.primaryUser.primaryProfile.profileInfo.authState&&t._set("digitalData.primaryUser.primaryProfile.profileInfo",_satellite.getVar("digitalData.primaryUser.primaryProfile.profileInfo")),t._get("initialPage.pageInfo.location")||(t._set("initialPage.pageInfo.location",i(r)),a(t,s,"initialPage.pageInfo.location")),!_satellite.getVar("analytics_pageload_abort")){var d=_satellite.getVar("digitalData.adobe.experienceCloud.dxVisits");d&&"2"==d&&(t._set("digitalData.adobe.experienceCloud.dxVisits","setEvent"),a(t,s,"digitalData.adobe.experienceCloud.dxVisits"))}if(localStorage&&"undefined"!==localStorage.getItem("ecp")&&localStorage.getItem("ecp")){var u=JSON.parse(localStorage.getItem("ecp"));t._set("digitalData.organization.ecp.geo",u.geo),a(t,s,"digitalData.organization.ecp.geo"),t._set("digitalData.organization.ecp.market_area",u.market_area),a(t,s,"digitalData.organization.ecp.market_area"),t._set("digitalData.organization.ecp.sub_std_name_key",u.sub_std_name_key),a(t,s,"digitalData.organization.ecp.sub_std_name_key")}return n=function(){var e,n,i,o={};l||(l=!0,e=_satellite.getVar("adobe_pageNameLogic"),n=_satellite.getVar("adobe_parseQueryParams"),_satellite.getVar("remove_url_parameters"),t._set("page.pageInfo.location",t._get("initialPage.pageInfo.location")),a(t,s,"page.pageInfo.location"),t._set("xdmEventType","pageload1"),a(t,s,"xdmEventType"),t._set("page.pageInfo.pageName",e(t._get("page.pageInfo.location"))),a(t,s,"page.pageInfo.pageName"),(!t._get("page.pageInfo.siteSection")||t._get("page.pageInfo.siteSection")&&"IMS"!==t._get("page.pageInfo.siteSection"))&&t._set("page.pageInfo.queryParameters",n(t._get("page.pageInfo.location.search"))),a(t,s,"page.pageInfo.queryParameters"),t._set("page.topFrameInfo.location",t._get("initialPage.topFrameInfo.location")),a(t,s,"page.topFrameInfo.location"),t._set("page.topFrameInfo.pageName",e(t._get("page.topFrameInfo.location"))),a(t,s,"page.topFrameInfo.pageName"),r===r.top&&(t._set("previousPage.pageInfo.pageName",_satellite.cookie.get("gpv")),a(t,s,"previousPage.pageInfo.pageName"),(i=new Date).setTime(i.getTime()+18e5),_satellite.cookie.set("gpv",s._get("page.pageInfo.pageName"),{expires:i,domain:_satellite._getDomain()})),o.contextData=t._flatten(t,"digitalData",!1),o.contextData["hit.type"]="pageload",o.contextData["cm.ssf"]=_satellite.getVar("isConsentGiven")?0:1,c.pageURL=o.contextData["digitalData.page.pageInfo.location.href"],c.t(o),c.products="",c._pageLoadTrackedResolve())},t._resolved().then(n),setTimeout(n,1e4),_satellite._beforeUnload(n,-9),!0}}}],actions:[]},{id:"RL6c267d9a1dcf45f1afcb304dd016e047",name:"initDigitalData",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:4}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return _satellite.getVar("adobe_digitalData")(window.digitalData),!0}}}],actions:[]},{id:"RL2d870f9db20a489db071d693be1353a9",name:"initVideoTrack",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%enable_performanceCookie%"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"//iframe\nvar w = window;\n\nfunction window_addEventListener(e, fn) {\n  w.addEventListener(e, fn);\n}\n\nwindow_addEventListener('message', function (e) {\n  digitalData._set('digitalData.page.pageInfo.pageName', e.data.n);\n  digitalData._set('digitalData.video.videoInfo.videoParentOrigin', e.data.v);\n});\n\n// tell the top frame I need it's location\nw.top.postMessage({\n  n: 'iframe loaded'\n}, '*');\n\n",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/*\n * ADOBE SYSTEMS INCORPORATED\n * Copyright 2018 Adobe Systems Incorporated\n * All Rights Reserved.\n * NOTICE:  Adobe permits you to use, modify, and distribute this file in accordance with the\n * terms of the Adobe license agreement accompanying it.  If you have received this file from a\n * source other than Adobe, then your use, modification, or distribution of it requires the prior\n * written permission of Adobe.\n */\n'use strict';\n(function () {\n\n  /**\n     * A generic event dispatcher.\n     *\n     * @constructor\n     */\n  function EventDispatcher() {\n    this._events = {};\n  }\n\n  /**\n     * Register an event-listener method to the event dispatcher.\n     *\n     * @param {string} name Unique string value identifying the event.\n     *\n     * @param {Function} listener Function that will be called when the event is dispatched.\n     *\n     * @param {Object} context Context in which the listener method is called.\n     *\n     */\n  EventDispatcher.prototype.addEventListener = function (name, listener, context) {\n    if (!name || !listener) return;\n    context = context || window;\n\n    this._events[name] = (this._events[name] || []);\n    this._events[name].push({ cb: listener, ctx: context });\n  };\n\n  /**\n     * Un-register an event-listener method to the event dispatcher.\n     *\n     * NOTE: for an event listener to be removed all the three coordinates must match\n     * (name, listener and context) with the values provided during registration.\n     *\n     * @param {string} name Unique string value identifying the event.\n     *\n     * @param {Function} listener Function that will be called when the event is dispatched.\n     *\n     * @param {Object} context Context in which the listener method is called.\n     */\n  EventDispatcher.prototype.removeEventListener = function (name, listener, context) {\n    if (!name || !listener) return;\n    context = context || window;\n\n    // Check to see if the event name was registered with us.\n    var i;\n    var key;\n    var isNameRegistered = false;\n    for (key in this._events) {\n      if (name === key) {\n        isNameRegistered = true;\n        break;\n      }\n    }\n\n    // This event name was not registered with us. Just exit.\n    if (!isNameRegistered) return;\n\n    // Search for the target event listener\n    for (i = this._events[key].length - 1; i >= 0; i--) {\n      var _listener = this._events[key][i];\n      if (listener === _listener.cb && context === _listener.ctx) {\n        this._events[key].splice(i, 1);\n      }\n    }\n\n    // If we are left with an empty list of listeners for a particular\n    // event name, we delete it.\n    if (!this._events[key].length) delete this._events[key];\n  };\n\n  /**\n     * Dispatch en event. It goes through the entire list of listener methods that are registered\n     * for the target event and calls that function in the specified context.\n     *\n     * @param {string} name The name of the event.\n     */\n  EventDispatcher.prototype.dispatchEvent = function (name) {\n    if (!name) return;\n\n    var key;\n    var i;\n    for (key in this._events) {\n      if (this._events.hasOwnProperty(key) && name === key) {\n        var listeners = this._events[key];\n        var copyOnWrite = listeners.slice(0);\n        var length = copyOnWrite.length;\n\n        for (i = 0; i < length; i++) {\n          copyOnWrite[i].cb.call(copyOnWrite[i].ctx);\n        }\n        break;\n      }\n    }\n  };\n\n  function NotificationCenter() {\n    // Provide a singleton EventDispatcher\n    if (!NotificationCenter.prototype._instance) {\n      NotificationCenter.prototype._instance = new EventDispatcher();\n    }\n\n    return NotificationCenter.prototype._instance;\n  }\n\n  // Export symbols.\n  window.NotificationCenter = NotificationCenter;\n})();",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"/* eslint-disable no-undef */\n/*\n * ADOBE SYSTEMS INCORPORATED\n * Copyright 2014 Adobe Systems Incorporated\n * All Rights Reserved.\n * NOTICE:  Adobe permits you to use, modify, and distribute this file in accordance with the\n * terms of the Adobe license agreement accompanying it.  If you have received this file from a\n * source other than Adobe, then your use, modification, or distribution of it requires the prior\n * written permission of Adobe.\n */\n\n//'use strict';\n\n(function () {\n\n\n  var PlayerEvent = {\n    VIDEO_LOAD: 'video_load',\n    VIDEO_UNLOAD: 'video_unload',\n    PLAY: 'play',\n    PAUSE: 'pause',\n    COMPLETE: 'COMPLETE',\n    BUFFER_START: 'buffer_start',\n    BUFFER_COMPLETE: 'buffer_complete',\n    SEEK_START: 'seek_start',\n    SEEK_COMPLETE: 'seek_complete',\n    AD_START: 'ad_start',\n    AD_COMPLETE: 'ad_complete',\n    CHAPTER_START: 'chapter_start',\n    CHAPTER_COMPLETE: 'chapter_complete',\n    PLAYHEAD_UPDATE: 'playhead_update',\n    QOE_UPDATE: 'qoe_update',\n    MUTE_CHANGE: 'mute_change',\n    FULLSCREEN_CHANGE: 'fullscreen_change'\n  };\n\n\n  // This sample VideoPlayer simulates a mid-roll ad at time 15:\n  var AD_START_POS = 0;\n  var AD_END_POS = 0;\n  var AD_LENGTH = 0;\n\n  var CHAPTER1_START_POS = 0;\n  var CHAPTER1_END_POS = 0;\n  var CHAPTER1_LENGTH = 0;\n\n  var CHAPTER2_START_POS = 0;\n  var CHAPTER2_LENGTH = 0;\n\n  var MONITOR_TIMER_INTERVAL = 500;\n\n  var PLAYER_NAME = 'AdobeTV HTML5 Player';\n  var VIDEO_ID = digitalData._get('digitalData.video.videoInfo.videoId') || 'NoID';\n  var VIDEO_NAME = digitalData._get('digitalData.video.videoInfo.videoName') || 'NoName';\n  var STREAM_TYPE = digitalData._get('digitalData.video.videoInfo.videoMediaType') || 'vod';\n  window.videoTypeSwitch = false;\n\n  if (window.location.hostname === 'eml.adobe.com') {\n    PLAYER_NAME = 'brightcove';\n    STREAM_TYPE = 'live';\n  }\n\n  function VideoPlayer(id) {\n    this._playerName = PLAYER_NAME;\n    this._videoId = VIDEO_ID;\n    this._videoName = VIDEO_NAME;\n    this._streamType = STREAM_TYPE;\n\n    this._videoLoaded = false;\n\n    this._adBreakInfo = null;\n    this._adInfo = null;\n    this._chapterInfo = null;\n\n    this._clock = null;\n\n    this._lastReportedTime = -1;\n    // Build a static/hard-coded QoS info here.\n    this._qoeInfo = {\n      bitrate: 50000,\n      startupTime: 1.0,\n      fps: 23,\n      droppedFrames: 0,\n    };\n\n    this.el = document.querySelectorAll(id)[0];\n\n    this._muted = !!this.el.muted;\n    this._fullScreen = false;\n\n    var self = this;\n    if (this.el) {\n      this.el.addEventListener('playing', function () {       \n        self._onPlay();\n      });\n      this.el.addEventListener('seeking', function () {\n        self._onSeekStart();\n      });\n      this.el.addEventListener('seeked', function () {\n        self._onSeekComplete();\n      });\n      this.el.addEventListener('pause', function () {\n        self._onPause();\n      });\n      this.el.addEventListener('ended', function () {\n        self._onComplete();\n      });\n\n      this.el.addEventListener('volumechange', function () {\n        var mute = self.el.volume === 0 || self.el.muted;\n        if (self._muted !== mute) {\n          self._muted = mute;\n          self._onMuteChange();\n        }\n      });\n\n      var detectFullScreen = function () {\n        var state = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen;\n        var fullscreen = !!state;\n        if (self._fullScreen != fullscreen) {\n          self._fullScreen = fullscreen;\n          self._onFullScreenChange();\n        }\n      };\n\n      document.addEventListener('mozfullscreenchange', detectFullScreen);\n      document.addEventListener('webkitfullscreenchange', detectFullScreen);\n      document.addEventListener('fullscreenchange', detectFullScreen);\n    }\n  }\n\n  VideoPlayer.prototype.getCurrentPlaybackTime = function () {\n    var playhead;\n    var vTime = this.getPlayhead();\n    if (vTime > AD_START_POS + AD_LENGTH) {\n      playhead = vTime - AD_LENGTH;\n    } else if (vTime > AD_START_POS) {\n      playhead = AD_START_POS;\n    } else {\n      playhead = vTime;\n    }\n    return playhead;\n  };\n\n  VideoPlayer.prototype.getVideoInfo = function () {\n    return this._videoInfo;\n  };\n\n  VideoPlayer.prototype.getAdBreakInfo = function () {\n    return this._adBreakInfo;\n  };\n\n  VideoPlayer.prototype.getAdInfo = function () {\n    return this._adInfo;\n  };\n\n  VideoPlayer.prototype.getChapterInfo = function () {\n    return this._chapterInfo;\n  };\n\n  VideoPlayer.prototype.getQoEInfo = function () {\n    return this._qoeInfo;\n  };\n\n  VideoPlayer.prototype.getDuration = function () {\n    return this.el.duration - AD_LENGTH;\n  };\n\n  VideoPlayer.prototype.getPlayhead = function () {\n    var playhead = this.el.currentTime;\n    return playhead ? playhead : 0;\n  };\n\n  VideoPlayer.prototype.isMuted = function () {\n    return this._muted;\n  };\n\n  VideoPlayer.prototype.isFullscreen = function () {\n    return this._fullScreen;\n  };\n\n  VideoPlayer.prototype._onMuteChange = function (e) {\n    if (this._videoLoaded) {\n      NotificationCenter().dispatchEvent(PlayerEvent.MUTE_CHANGE);\n    }\n  };\n\n  VideoPlayer.prototype._onFullScreenChange = function (e) {\n    if (this._videoLoaded) {\n      NotificationCenter().dispatchEvent(PlayerEvent.FULLSCREEN_CHANGE);\n    }\n  };\n\n  VideoPlayer.prototype._onPlay = function (e) {\n    this._openVideoIfNecessary();\n    NotificationCenter().dispatchEvent(PlayerEvent.PLAY);\n  };\n\n  VideoPlayer.prototype._onPause = function (e) {\n    NotificationCenter().dispatchEvent(PlayerEvent.PAUSE);\n  };\n\n  VideoPlayer.prototype._onSeekStart = function (e) {\n    this._openVideoIfNecessary();\n    NotificationCenter().dispatchEvent(PlayerEvent.SEEK_START);\n  };\n\n  VideoPlayer.prototype._onSeekComplete = function (e) {\n    this._doPostSeekComputations();\n    NotificationCenter().dispatchEvent(PlayerEvent.SEEK_COMPLETE);\n  };\n\n  VideoPlayer.prototype._onComplete = function (e) {\n    this._completeVideo();\n  };\n  \n  VideoPlayer.prototype._openVideoIfNecessary = function () {\n    if (!this._videoLoaded || window.videoTypeSwitch) {\n      this._resetInternalState();      \n      this._startVideo();\n\n      // Start the monitor timer.\n      var self = this;\n      this._clock = setInterval(function () {\n        self._onTick();\n      }, MONITOR_TIMER_INTERVAL);\n    }    \n  };\n\n  VideoPlayer.prototype._completeVideo = function () {\n    if (this._videoLoaded) {\n      // Complete the second chapter\n      this._completeChapter();\n\n      NotificationCenter().dispatchEvent(PlayerEvent.COMPLETE);\n\n      this._unloadVideo();\n    }\n  };\n\n  VideoPlayer.prototype._unloadVideo = function () {\n    NotificationCenter().dispatchEvent(PlayerEvent.VIDEO_UNLOAD);\n    clearInterval(this._clock);\n\n    this._resetInternalState();\n  };\n\n  VideoPlayer.prototype._resetInternalState = function () {\n    this._videoLoaded = false;\n    this._clock = null;\n  };\n\n  VideoPlayer.prototype._startVideo = function () {\n    // Prepare the main video info.\n    this._videoInfo = {};\n    this._videoInfo.id = this._videoId;\n    this._videoInfo.name = this._videoName;\n    this._videoInfo.playerName = this._playerName;\n    this._videoInfo.length = this.getDuration();\n    this._videoInfo.playhead = this.getPlayhead();\n    this._videoInfo.streamType = videoTypeSwitch ? digitalData._get('digitalData.video.videoInfo.videoMediaType'): this._streamType;\n\n    this._videoLoaded = true;\n\n    NotificationCenter().dispatchEvent(PlayerEvent.VIDEO_LOAD);\n\n    NotificationCenter().dispatchEvent(PlayerEvent.QOE_UPDATE);\n\n    if (this._muted) {\n      this._onMuteChange();\n    }\n\n    if (this._fullScreen) {\n      this._onFullScreenChange();\n    }\n\n  };\n\n  VideoPlayer.prototype._startChapter1 = function () {\n    // Prepare the chapter info.\n    this._chapterInfo = {};\n    this._chapterInfo.length = CHAPTER1_LENGTH;\n    this._chapterInfo.startTime = CHAPTER1_START_POS;\n    this._chapterInfo.position = 1;\n    this._chapterInfo.name = 'First chapter';\n\n    NotificationCenter().dispatchEvent(PlayerEvent.CHAPTER_START);\n  };\n\n  VideoPlayer.prototype._startChapter2 = function () {\n    // Prepare the chapter info.\n    this._chapterInfo = {};\n    this._chapterInfo.length = CHAPTER2_LENGTH;\n    this._chapterInfo.startTime = CHAPTER2_START_POS;\n    this._chapterInfo.position = 2;\n    this._chapterInfo.name = 'Second chapter';\n\n    NotificationCenter().dispatchEvent(PlayerEvent.CHAPTER_START);\n  };\n\n  VideoPlayer.prototype._completeChapter = function () {\n    // Reset the chapter info.\n    this._chapterInfo = null;\n\n    NotificationCenter().dispatchEvent(PlayerEvent.CHAPTER_COMPLETE);\n  };\n\n  VideoPlayer.prototype._startAd = function () {\n    // Prepare the ad break info.\n    this._adBreakInfo = {};\n    this._adBreakInfo.name = 'First Ad-Break';\n    this._adBreakInfo.position = 1;\n    this._adBreakInfo.playerName = this._playerName;\n    this._adBreakInfo.startTime = AD_START_POS;\n\n    // Prepare the ad info.\n    this._adInfo = {};\n    this._adInfo.id = '001';\n    this._adInfo.name = 'Sample ad';\n    this._adInfo.length = AD_LENGTH;\n    this._adInfo.position = 1;\n\n    // Start the ad.\n    NotificationCenter().dispatchEvent(PlayerEvent.AD_START);\n  };\n\n  VideoPlayer.prototype._completeAd = function () {\n    // Complete the ad.\n    NotificationCenter().dispatchEvent(PlayerEvent.AD_COMPLETE);\n\n    // Clear the ad and ad-break info.\n    this._adInfo = null;\n    this._adBreakInfo = null;\n  };\n\n  VideoPlayer.prototype._doPostSeekComputations = function () {\n    var vTime = this.getPlayhead();\n\n    // Seek inside the first chapter.\n    if (vTime < CHAPTER1_START_POS) {\n      // If we were not inside the first chapter before, trigger a chapter start\n      if (!this._chapterInfo || this._chapterInfo.position !== 1) {\n        this._startChapter1();\n\n        // If we were in the ad, clear the ad and ad-break info, but don't send the AD_COMPLETE event.\n        if (this._adInfo) {\n          this._adInfo = null;\n          this._adBreakInfo = null;\n        }\n      }\n    } else if (vTime >= AD_START_POS && vTime < AD_END_POS) { // Seek inside the ad.\n      // If we were not inside the ad before, trigger an ad-start\n      if (!this._adInfo) {\n        this._startAd();\n\n        // Also, clear the chapter info, without sending the CHAPTER_COMPLETE event.\n        this._chapterInfo = null;\n      }\n    } else { // Seek inside the second chapter.\n      // If we were not inside the 2nd chapter before, trigger a chapter start\n      if (!this._chapterInfo || this._chapterInfo.position !== 2) {\n        this._startChapter2();\n\n        // If we were in the ad, clear the ad and ad-break info, but don't send the AD_COMPLETE event.\n        if (this._adInfo) {\n          this._adInfo = null;\n          this._adBreakInfo = null;\n        }\n      }\n    }\n  };\n\n  VideoPlayer.prototype._onTick = function () {\n    if (this.el.seeking || this.el.paused) {\n      return;\n    }\n\n    var vTime = this.getPlayhead();\n\n    // If we're inside the ad content:\n    if (vTime >= AD_START_POS && vTime < AD_END_POS) {\n      if (this._chapterInfo) {\n        // If we were inside a chapter, complete it.\n        this._completeChapter();\n      }\n\n      if (!this._adInfo) {\n        // Start the ad (if not already started).\n        this._startAd();\n      }\n    } else { // Otherwise, we're outside the ad content:\n      if (this._adInfo) {\n        // Complete the ad (if needed).\n        this._completeAd();\n      }\n\n      if (vTime < CHAPTER1_END_POS) {\n        if (this._chapterInfo && this._chapterInfo.position !== 1) {\n          // If we were inside another chapter, complete it.\n          this._completeChapter();\n        }\n\n        if (!this._chapterInfo) {\n          // Start the first chapter.\n          this._startChapter1();\n        }\n      } else {\n        if (this._chapterInfo && this._chapterInfo.position !== 2) {\n          // If we were inside another chapter, complete it.\n          this._completeChapter();\n        }\n\n        if (!this._chapterInfo) {\n          // Start the second chapter.\n          this._startChapter2();\n        }\n      }\n    }\n\n    var currentTime = this.getCurrentPlaybackTime();\n    if (currentTime !== this._lastReportedTime) {\n      NotificationCenter().dispatchEvent(PlayerEvent.PLAYHEAD_UPDATE);\n    }\n    this._lastReportedTime = currentTime;\n  };\n\n  // Export symbols.\n  window.PlayerEvent = PlayerEvent;\n  window.VideoPlayer = VideoPlayer;\n})();",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/* eslint-disable no-console */\n/* eslint-disable no-undef */\n/*\n * ADOBE SYSTEMS INCORPORATED\n * Copyright 2014 Adobe Systems Incorporated\n * All Rights Reserved.\n * NOTICE:  Adobe permits you to use, modify, and distribute this file in accordance with the\n * terms of the Adobe license agreement accompanying it.  If you have received this file from a\n * source other than Adobe, then your use, modification, or distribution of it requires the prior\n * written permission of Adobe.\n */\n//'use strict';\n(function () {\n\n  if (typeof ADB === 'undefined') {\n    if (window && window.console && window.console.error) {\n      // eslint-disable-next-line no-console\n      console.error('Media exports are not found. \\\n  Make sure to include the Launch library to index.html and \\\n  configure Adobe Media Analytics for Audio and Video extension (v2) to export APIs to window object named: ADB');\n      return;\n    }\n  }\n\n  var Media = ADB.Media;\n  window.videoTrackingCounter = 1,  \n  window.tempVideoName = digitalData._get('digitalData.video.videoInfo.videoName') || 'NoName';  \n\n  function VideoAnalyticsProvider(player) {\n    if (!player) {\n      throw new Error('Illegal argument. Player reference cannot be null.');\n    }\n    this._player = player;\n\n\n    this._mediaTracker = Media.getInstance();\n\n    this._installEventListeners();\n  }\n\n  VideoAnalyticsProvider.prototype.destroy = function () {\n    if (this._mediaTracker) {\n      this._mediaTracker.destroy();\n      this._mediaTracker = null;\n    }\n\n    if (this._player) {\n      this._player = null;\n      this._uninstallEventListeners();\n    }\n  };\n\n\n  /////////\n  // Notification handlers\n  /////////\n  var hb_variables = function () {\n    if (digitalData._get('digitalData.video.videoInfo.videoId')) {\n      var video_id = digitalData._get('digitalData.video.videoInfo.videoId');\n      video_id = video_id.replace('/', '');\n      digitalData._set('digitalData.video.videoInfo.videoId', video_id);\n    }\n    var contextData = {};\n    contextData = digitalData._flatten(digitalData, 'digitalData', false);\n    contextData['digitalData.video.videoInfo.nameId'] = digitalData._get('digitalData.video.videoInfo.videoName') + '|' + digitalData._get('digitalData.video.videoInfo.videoId');\n    \n    //creating pagename format\n    var video_pageName = document.createElement('a');\n    \n    if (typeof digitalData._get('digitalData.video.videoInfo.videoParentPageUrl') === 'undefined' &&\n      window.location.hostname === 'eml.adobe.com') {\n      video_pageName.href = window.location.href;\n    } \n    else if (digitalData._get('digitalData.initialPage.topFrameInfo.location.href')){\n      video_pageName.href = digitalData._get('digitalData.initialPage.topFrameInfo.location.href');\n    }\n    else {\n      //video_pageName.href = digitalData._get('digitalData.video.videoInfo.videoParentPageUrl');      \n      video_pageName.href = digitalData._get('digitalData.initialPage.topFrameInfo.location.href');\n    }\n    if (video_pageName && _satellite.getVar('adobe_pageNameLogic')) {\n      video_pageName = digitalData._get('digitalData.page.pageInfo.pageName');\n    }\n\n    var getPathname = function (href) {\n      var l = document.createElement('a');\n      l.href = href;\n      return l;\n    };\n    //var l = getPathname(digitalData._get('digitalData.video.videoInfo.videoParentPageUrl'));\n    var l = getPathname(digitalData._get('digitalData.initialPage.topFrameInfo.location.href'));\n\n\n    //Setting parent page properties\n    contextData['digitalData.page.pageInfo.pageName'] = video_pageName;\n\n    //contextData['digitalData.page.pageInfo.location.href'] = digitalData._get('digitalData.video.videoInfo.videoParentPageUrl');\n    contextData['digitalData.page.pageInfo.location.href'] = digitalData._get('digitalData.initialPage.topFrameInfo.location.href');\n\n    contextData['digitalData.page.pageInfo.location.hostname'] = digitalData._get('digitalData.video.videoInfo.videoParentHost');\n\n    contextData['digitalData.page.pageInfo.location.host'] = digitalData._get('digitalData.video.videoInfo.videoParentHost');\n\n    if (l && l.pathname) {\n      contextData['digitalData.page.pageInfo.location.pathname'] = l.pathname;\n    }\n    // mark the hit as a video hit\n    contextData['hit.type'] = 'video';\n\n    return contextData;\n\n  };\n\n  VideoAnalyticsProvider.prototype._onLoad = function () {\n    //console.log('Player event: VIDEO_LOAD');\n    var videoInfo = this._player.getVideoInfo();  \n    var mediaInfo = Media.createMediaObject(videoInfo.name, videoInfo.id, videoInfo.length,\n      videoInfo.streamType, Media.MediaType.Video);\n\n    // Set to true if this is a resume playback scenario (not starting from playhead 0)\n    //mediaInfo[Media.MediaObjectKey.MediaResumed] = true;\n    var vidCategory = digitalData._get('digitalData.video.videoInfo.videoCategory');\n\n    if (vidCategory && vidCategory == 'looping') {\n      \n      if (digitalData._get('digitalData.video.videoInfo.videoName') == tempVideoName && videoTrackingCounter && videoTrackingCounter < 2) {\n        \n        this._mediaTracker.trackSessionStart(mediaInfo, hb_variables());\n      } \n      \n      \n      // This is to handle multiple videos on a page \n      else if (digitalData._get('digitalData.video.videoInfo.videoName') != tempVideoName) {        \n        tempVideoName = digitalData._get('digitalData.video.videoInfo.videoName');        \n        this._mediaTracker.trackSessionStart(mediaInfo, hb_variables());  \n      }\n\n    }\n\n    else if (typeof vidCategory == 'undefined' || vidCategory == 'default') {      \n      if(videoInfo.streamType.toLowerCase() == digitalData._get('digitalData.video.videoInfo.videoMediaType').toLowerCase() || videoTypeSwitch)\n      {        \n        this._mediaTracker.trackSessionStart(mediaInfo, hb_variables());\n      }\n      // HOT FIX \n      else {\n        //videoInfo.streamType == digitalData._get('digitalData.video.videoInfo.videoMediaType');\n        // Make videoTypeSwitch as true only if you are sure that user has cicked on play\n        //if (playhead == videoInfo.length) {\n        if (Math.abs(playhead - videoInfo.length) <= 1){\n          videoTypeSwitch = true;          \n        }    \n      }\n        \n    } \n  };\n\n  VideoAnalyticsProvider.prototype._onUnload = function () {\n    //console.log('Player event: VIDEO_UNLOAD');\n    this._mediaTracker.trackSessionEnd();\n  };\n\n  VideoAnalyticsProvider.prototype._onPlay = function () {\n    //console.log('Player event: PLAY');\n    this._mediaTracker.trackPlay();\n  };\n\n  VideoAnalyticsProvider.prototype._onPause = function () {\n    //console.log('Player event: PAUSE');\n    this._mediaTracker.trackPause();\n  };\n\n  VideoAnalyticsProvider.prototype._onSeekStart = function () {\n    //console.log('Player event: SEEK_START');\n    this._mediaTracker.trackEvent(Media.Event.SeekStart);\n  };\n\n  VideoAnalyticsProvider.prototype._onSeekComplete = function () {\n    //console.log('Player event: SEEK_COMPLETE');\n    this._mediaTracker.trackEvent(Media.Event.SeekComplete);\n  };\n\n  VideoAnalyticsProvider.prototype._onBufferStart = function () {\n    //console.log('Player event: BUFFER_START');\n    this._mediaTracker.trackEvent(Media.Event.BufferStart);\n  };\n\n  VideoAnalyticsProvider.prototype._onBufferComplete = function () {\n    // console.log('Player event: BUFFER_COMPLETE');\n    this._mediaTracker.trackEvent(Media.Event.BufferComplete);\n  };\n\n  VideoAnalyticsProvider.prototype._onAdStart = function () {\n    // console.log('Player event: AD_START');\n\n    // AdBreak Info - getting the adBreakInfo from player and creating AdBreakInfo Object from MediaHeartbeat\n    var _adBreakInfo = this._player.getAdBreakInfo();\n    var adBreakInfo = Media.createAdBreakObject(_adBreakInfo.name, _adBreakInfo.position, _adBreakInfo.startTime);\n\n    // Ad Info - getting the adInfo from player and creating AdInfo Object from MediaHeartbeat\n    var _adInfo = this._player.getAdInfo();\n    var adInfo = Media.createAdObject(_adInfo.name, _adInfo.id, _adInfo.position, _adInfo.length);\n\n    var adContextData = {\n      affiliate: 'Sample affiliate',\n      campaign: 'Sample ad campaign'\n    };\n\n    // Set standard Ad Metadata        \n    adContextData[Media.AdMetadataKeys.Advertiser] = 'Sample Advertiser';\n    adContextData[Media.AdMetadataKeys.CampaignId] = 'Sample Campaign';\n\n    this._mediaTracker.trackEvent(Media.Event.AdBreakStart, adBreakInfo);\n    this._mediaTracker.trackEvent(Media.Event.AdStart, adInfo, adContextData);\n  };\n\n  VideoAnalyticsProvider.prototype._onAdComplete = function () {\n    // console.log('Player event: AD_COMPLETE');\n    this._mediaTracker.trackEvent(Media.Event.AdComplete);\n    this._mediaTracker.trackEvent(Media.Event.AdBreakComplete);\n  };\n\n  VideoAnalyticsProvider.prototype._onChapterStart = function () {\n    //console.log('Player event: CHAPTER_START');\n    var chapterContextData = {\n      segmentType: 'Sample segment type'\n    };\n\n    // Chapter Info - getting the chapterInfo from player and creating ChapterInfo Object from MediaHeartbeat\n    var _chapterInfo = this._player.getChapterInfo();\n    var chapterInfo = Media.createChapterObject(_chapterInfo.name, _chapterInfo.position,\n      _chapterInfo.length, _chapterInfo.startTime);\n\n    this._mediaTracker.trackEvent(Media.Event.ChapterStart, chapterInfo, chapterContextData);\n  };\n\n  VideoAnalyticsProvider.prototype._onChapterComplete = function () {\n    //console.log('Player event: CHAPTER_COMPLETE');\n    this._mediaTracker.trackEvent(Media.Event.ChapterComplete);\n  };\n\n  VideoAnalyticsProvider.prototype._onComplete = function () {\n    //console.log('Player event: COMPLETE');\n    var variableOverrides = {};\n    var vidCategory = digitalData._get('digitalData.video.videoInfo.videoCategory');\n    variableOverrides.contextData = hb_variables();\n    variableOverrides.contextData['digitalData.primaryEvent.eventInfo.eventName'] = 'videoComplete';\n    /*var videoTrackingCompleteCalls = function () {\n      s_adbadobenonacdc.tl(true, 'o', 'videoComplete', variableOverrides);\n      this._mediaTracker.trackComplete();\n    }*/\n    // blocking the videoComplete AA custom link calls for the looping videos\n    if (videoTrackingCounter && videoTrackingCounter < 2  && vidCategory == 'looping') {\n      //videoTrackingCompleteCalls();\n      s_adbadobenonacdc.tl(true, 'o', 'videoComplete', variableOverrides);\n      this._mediaTracker.trackComplete();\n      videoTrackingCounter++;\n    }\n    else if (typeof vidCategory == 'undefined' ||\n    vidCategory != 'looping') {\n      //videoTrackingCompleteCalls();\n      s_adbadobenonacdc.tl(true, 'o', 'videoComplete', variableOverrides);\n      this._mediaTracker.trackComplete();\n\n       \n    }\n  };\n\n  VideoAnalyticsProvider.prototype._onPlayheadUpdate = function () {\n    // console.log('Player event: PLAYHEAD_UPDATE');\n    window.playhead = this._player.getCurrentPlaybackTime();\n    this._mediaTracker.updatePlayhead(playhead);\n  };\n\n  VideoAnalyticsProvider.prototype._onQoEUpdate = function () {\n    // console.log('Player event: QOE_UPDATE');\n    var _qoeInfo = this._player.getQoEInfo();\n    var qoeInfo = Media.createQoEObject(_qoeInfo.bitrate, _qoeInfo.startupTime, _qoeInfo.fps, _qoeInfo.droppedFrames);\n\n    this._mediaTracker.updateQoEObject(qoeInfo);\n  };\n\n  VideoAnalyticsProvider.prototype._onMuteChange = function () {\n    var muted = this._player.isMuted();\n    //console.log('Player event: MUTE_CHANGE to ' + muted);\n\n    var info = Media.createStateObject(Media.PlayerState.Mute);\n    var event = muted ? Media.Event.StateStart : Media.Event.StateEnd;\n\n    this._mediaTracker.trackEvent(event, info);\n  };\n\n\n  VideoAnalyticsProvider.prototype._onFullscreenChange = function () {\n    var fullscreen = this._player.isFullscreen();\n    // console.log('Player event: FULLSCREEN_CHANGE to ' + fullscreen);\n\n    var info = Media.createStateObject(Media.PlayerState.FullScreen);\n    var event = fullscreen ? Media.Event.StateStart : Media.Event.StateEnd;\n\n    this._mediaTracker.trackEvent(event, info);\n  };\n\n  /////////\n  // Private helper functions\n  /////////\n\n  VideoAnalyticsProvider.prototype._installEventListeners = function () {\n    // We register as observers to various VideoPlayer events.\n    NotificationCenter().addEventListener(PlayerEvent.VIDEO_LOAD, this._onLoad, this);\n    NotificationCenter().addEventListener(PlayerEvent.VIDEO_UNLOAD, this._onUnload, this);\n    NotificationCenter().addEventListener(PlayerEvent.PLAY, this._onPlay, this);\n    NotificationCenter().addEventListener(PlayerEvent.PAUSE, this._onPause, this);\n    NotificationCenter().addEventListener(PlayerEvent.SEEK_START, this._onSeekStart, this);\n    NotificationCenter().addEventListener(PlayerEvent.SEEK_COMPLETE, this._onSeekComplete, this);\n    NotificationCenter().addEventListener(PlayerEvent.BUFFER_START, this._onBufferStart, this);\n    NotificationCenter().addEventListener(PlayerEvent.BUFFER_COMPLETE, this._onBufferComplete, this);\n    NotificationCenter().addEventListener(PlayerEvent.AD_START, this._onAdStart, this);\n    NotificationCenter().addEventListener(PlayerEvent.AD_COMPLETE, this._onAdComplete, this);\n    NotificationCenter().addEventListener(PlayerEvent.CHAPTER_START, this._onChapterStart, this);\n    NotificationCenter().addEventListener(PlayerEvent.CHAPTER_COMPLETE, this._onChapterComplete, this);\n    NotificationCenter().addEventListener(PlayerEvent.COMPLETE, this._onComplete, this);\n    NotificationCenter().addEventListener(PlayerEvent.PLAYHEAD_UPDATE, this._onPlayheadUpdate, this);\n    NotificationCenter().addEventListener(PlayerEvent.QOE_UPDATE, this._onQoEUpdate, this);\n    NotificationCenter().addEventListener(PlayerEvent.MUTE_CHANGE, this._onMuteChange, this);\n    NotificationCenter().addEventListener(PlayerEvent.FULLSCREEN_CHANGE, this._onFullscreenChange, this);\n  };\n\n  VideoAnalyticsProvider.prototype._uninstallEventListeners = function () {\n    // We register as observers to various VideoPlayer events.\n    NotificationCenter().removeEventListener(PlayerEvent.VIDEO_LOAD, this._onLoad, this);\n    NotificationCenter().removeEventListener(PlayerEvent.VIDEO_UNLOAD, this._onUnload, this);\n    NotificationCenter().removeEventListener(PlayerEvent.PLAY, this._onPlay, this);\n    NotificationCenter().removeEventListener(PlayerEvent.PAUSE, this._onPause, this);\n    NotificationCenter().removeEventListener(PlayerEvent.SEEK_START, this._onSeekStart, this);\n    NotificationCenter().removeEventListener(PlayerEvent.SEEK_COMPLETE, this._onSeekComplete, this);\n    NotificationCenter().removeEventListener(PlayerEvent.BUFFER_START, this._onBufferStart, this);\n    NotificationCenter().removeEventListener(PlayerEvent.BUFFER_COMPLETE, this._onBufferComplete, this);\n    NotificationCenter().removeEventListener(PlayerEvent.AD_START, this._onAdStart, this);\n    NotificationCenter().removeEventListener(PlayerEvent.AD_COMPLETE, this._onAdComplete, this);\n    NotificationCenter().removeEventListener(PlayerEvent.CHAPTER_START, this._onChapterStart, this);\n    NotificationCenter().removeEventListener(PlayerEvent.CHAPTER_COMPLETE, this._onChapterComplete, this);\n    NotificationCenter().removeEventListener(PlayerEvent.COMPLETE, this._onComplete, this);\n    NotificationCenter().removeEventListener(PlayerEvent.PLAYHEAD_UPDATE, this._onPlayheadUpdate, this);\n    NotificationCenter().removeEventListener(PlayerEvent.QOE_UPDATE, this._onQoEUpdate, this);\n    NotificationCenter().removeEventListener(PlayerEvent.MUTE_CHANGE, this._onMuteChange, this);\n    NotificationCenter().removeEventListener(PlayerEvent.FULLSCREEN_CHANGE, this._onFullscreenChange, this);\n  };\n\n  // Export symbols.\n  window.VideoAnalyticsProvider = VideoAnalyticsProvider;\n})();",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/* eslint-disable no-undef */\n/*\n * ADOBE SYSTEMS INCORPORATED\n * Copyright 2014 Adobe Systems Incorporated\n * All Rights Reserved.\n * NOTICE:  Adobe permits you to use, modify, and distribute this file in accordance with the\n * terms of the Adobe license agreement accompanying it.  If you have received this file from a\n * source other than Adobe, then your use, modification, or distribution of it requires the prior\n * written permission of Adobe.\n */\n\n//'use strict';\n\n//document.addEventListener('DOMContentLoaded', function(event) {\n// Create the VideoPlayer.\nvar videoPlayer = new VideoPlayer('video');\n\nif (window.VideoAnalyticsProvider) {  \n  // Create the AnalyticsProvider instance and attach it to the VideoPlayer instance.\n  var analyticsProvider = new VideoAnalyticsProvider(videoPlayer);\n}\n",language:"javascript"}}]},{id:"RL40cbf56365d7449bb9e167b1e54a9408",name:"InitPostMessage",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/d4d114c60e50/dd8ee5ac83d0/6dc6b6bf251c/RCbde63ee8464b425383a43bccd9f964e0-source.min.js",language:"javascript",isExternal:!0}}]}]};var _satellite=function(){"use strict";function e(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}function n(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})})),t}function a(e){var t={exports:{}};return e(t,t.exports),t.exports}function i(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}function r(e){return Boolean(e&&void 0!==e.length)}function o(){}function s(e,t){return function(){e.apply(t,arguments)}}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var a;try{a=n(e._value)}catch(e){return void u(t.promise,e)}d(t.promise,a)}else(1===e._state?d:u)(t.promise,e._value)}))):e._deferreds.push(t)}function d(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void f(e);if("function"==typeof n)return void m(s(n,t),e)}e._state=1,e._value=t,f(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)l(e,e._deferreds[t]);e._deferreds=null}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}
function m(e,t){var n=!1;try{e((function(e){n||(n=!0,d(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(e){if(n)return;n=!0,u(t,e)}}function h(e){return!0===Ue(e)&&"[object Object]"===Object.prototype.toString.call(e)}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function _(e){return e.substr(0,e.indexOf("["))}function y(e,t,n){if(e.length&&Be(t)){var a=e[0];if(1!==e.length){var i=e.slice(1);if(!v(a))return y(i,t[a],n);var r=t[a=_(a)];Array.isArray(r)&&r.forEach((function(e){return y(i,e,n)}))}else t.hasOwnProperty(a)&&"string"==typeof t[a]&&(t[a]=n(t[a]))}}if(window.atob){var b=document,k=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,C=t()?Object.assign:function(t){for(var n,a,i=e(t),r=1;r<arguments.length;r++){for(var o in n=Object(arguments[r]))S.call(n,o)&&(i[o]=n[o]);if(k){a=k(n);for(var s=0;s<a.length;s++)I.call(n,a[s])&&(i[a[s]]=n[a[s]])}}return i},E=C,A=window,P=function(e,t,n,a){var i,r=Boolean(t&&Array.isArray(n)),o=Boolean(r&&e),s=document.createElement("a");if(r){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=A.location.protocol+e:s.href=e),s.hostname||c(),-1===n.indexOf(s.hostname)){var l=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw l.code="dynamic_host_not_allowed",l}}var d=function(){if(null!=i)return i;if(o){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),i=s.protocol+"//"+e}else i="";return i},u=function(e){return o&&"string"==typeof e?[d(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},f={getTurbineHost:d,decorateWithDynamicHost:u,get isDynamicEnforced(){return r}};return A&&a.onDebugChanged((function(e){e?A.dynamicHostResolver=f:delete A.dynamicHostResolver})),f},T=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},D="debug",w=function(e,t){var n=function(){return"true"===e.getItem(D)},a=function(t){e.setItem(D,t)},i=[],r=function(e){i.push(e)};return t.outputEnabled=n(),{onDebugChanged:r,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(a(e),t.outputEnabled=e,i.forEach((function(t){t(e)})))}}},O="Module did not export a function.",M=function(e,t,n){return function(a,i,r){r=r||[];var o=e.getModuleExports(a.modulePath);if("function"!=typeof o)throw new Error(O);var s=e.getModuleDefinition(a.modulePath),c=a.settings||{};!a.hasTransformedFilePaths&&s.filePaths&&(n(c,s.filePaths,a.modulePath),a.hasTransformedFilePaths=!0);var l=t(c,i);return o.bind(null,l).apply(null,r)}},x=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},L={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},N="\ud83d\ude80",R=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":N,j=!1,V=function(e){if(j&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(R),e!==L.DEBUG||window.console[e]||(e=L.INFO),window.console[e].apply(window.console,t)}},F=V.bind(null,L.LOG),U=V.bind(null,L.INFO),B=V.bind(null,L.DEBUG),H=V.bind(null,L.WARN),q=V.bind(null,L.ERROR),G=function(){var e=j;j=!0,V.apply(null,Array.prototype.concat(L.WARN,Array.prototype.slice.call(arguments))),e||(j=!1)},z={log:F,info:U,debug:B,warn:H,error:q,deprecation:G,get outputEnabled(){return j},set outputEnabled(e){j=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:F.bind(null,t),info:U.bind(null,t),debug:B.bind(null,t),warn:H.bind(null,t),error:q.bind(null,t)}}},W="com.adobe.reactor.",Q=function(e,t){var n=W+(t||"");return{getItem:function(t){try{return A[e].getItem(n+t)}catch(e){return null}},setItem:function(t,a){try{return A[e].setItem(n+t,a),!0}catch(e){return!1}}}},Y="dataElements.",K=Q("sessionStorage",Y),J=Q("localStorage",Y),$={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},X={},Z=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},ee={setValue:function(e,t,n){var a;switch(t){case $.PAGEVIEW:return void(X[e]=n);case $.SESSION:return void((a=Z(n))&&K.setItem(e,a));case $.VISITOR:return void((a=Z(n))&&J.setItem(e,a))}},getValue:function(e,t){var n;switch(t){case $.PAGEVIEW:return X.hasOwnProperty(e)?X[e]:null;case $.SESSION:return null===(n=K.getItem(e))?n:JSON.parse(n);case $.VISITOR:return null===(n=J.getItem(e))?n:JSON.parse(n)}}},te=function(e,t,n,a){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(a?"\n"+a:"")},ne=function(e,t,n,a,i){return function(r,o){var s=t(r);if(!s)return a?"":void 0;var c,l,d=s.storageDuration;try{c=e.getModuleExports(s.modulePath),l=e.getModuleDefinition(s.modulePath)}catch(e){return void z.error(te(s,r,e.message,e.stack))}if("function"==typeof c){var u,f=s.settings||{};!s.hasTransformedFilePaths&&l.filePaths&&(i(f,l.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{u=c(n(f,o),o)}catch(e){return void z.error(te(s,r,e.message,e.stack))}return d&&(null!=u?ee.setValue(r,d,u):u=ee.getValue(r,d)),null==u&&null!=s.defaultValue&&(u=s.defaultValue),"string"==typeof u&&(s.cleanText&&(u=x(u)),s.forceLowerCase&&(u=u.toLowerCase())),u}z.error(te(s,r,"Module did not export a function."))}},ae={text:function(e){return e.textContent},cleanText:function(e){return x(e.textContent)}},ie=function(e,t,n){for(var a,i=e,r=0,o=t.length;r<o;r++){if(null==i)return;var s=t[r];if(n&&"@"===s.charAt(0)){var c=s.slice(1);i=ae[c](i)}else if(i.getAttribute&&(a=s.match(/^getAttribute\((.+)\)$/))){var l=a[1];i=i.getAttribute(l)}else i=i[s]}return i},re=function(e,t,n){return function(a,i){var r;if(t(a))r=n(a,i);else{var o=a.split("."),s=o.shift();"this"===s?i&&(r=ie(i.element,o,!0)):"event"===s?i&&(r=ie(i,o)):"target"===s?i&&(r=ie(i.target,o)):r=ie(e[s],o)}return r}},oe=function(e,t){return function(n){var a=n.split(".")[0];return Boolean(t(n)||"this"===a||"event"===a||"target"===a||e.hasOwnProperty(a))}},se=function(e,t,n){var a={exports:{}};return e.call(a.exports,a,a.exports,t,n),a.exports},ce=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{a(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");z.error(t)}}))},a=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=se(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,a,i,r){var o={definition:n,extensionName:a,require:i,turbine:r};o.require=i,e[t]=o},hydrateCache:n,getModuleExports:a,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},le=!1,de=function(e){return function(t,n){var a=e._monitors;a&&(le||(z.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),le=!0),a.forEach((function(e){e[t]&&e[t](n)})))}},ue=function(e,t,n){var a,i,r,o,s=[],c=function(a,i,r){if(!e(i))return a;s.push(i);var o=t(i,r);return s.pop(),null==o&&n?"":o};return a=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?c(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return c(e,n,t)}))},i=function(e,t){for(var n={},a=Object.keys(e),i=0;i<a.length;i++){var r=a[i],s=e[r];n[r]=o(s,t)}return n},r=function(e,t){for(var n=[],a=0,i=e.length;a<i;a++)n.push(o(e[a],t));return n},o=function(e,t){return"string"==typeof e?a(e,t):Array.isArray(e)?r(e,t):"object"==typeof e&&null!==e?i(e,t):e},function(e,t){return s.length>10?(z.error("Data element circular reference detected: "+s.join(" -> ")),e):o(e,t)}},fe=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},me=setTimeout;c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(o);return l(this,new p(e,t,n)),n},c.prototype.finally=i,c.all=function(e){return new c((function(t,n){function a(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,(function(t){a(e,t)}),n)}i[e]=r,0==--o&&t(i)}catch(e){n(e)}}if(!r(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var o=i.length,s=0;s<i.length;s++)a(s,i[s])}))},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var a=0,i=e.length;a<i;a++)c.resolve(e[a]).then(t,n)}))},c._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){me(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var he=n(Object.freeze({__proto__:null,default:c})),ge="undefined"!=typeof window&&window.Promise||void 0!==pe&&pe.Promise||he.default||he,ve=function(e,t,n){return function(a,i,r,o){return o.then((function(){var o,s=a.delayNext;return new ge((function(t,n){var i=e(a,r,[r]);if(!s)return t();var c=a.timeout,l=new ge((function(e,t){o=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));ge.race([i,l]).then(t,n)})).catch((function(e){return clearTimeout(o),e=t(e),n(a,i,e),ge.reject(e)})).then((function(){clearTimeout(o)}))}))}},_e=function(e,t,n,a,i){return function(r,o,s,c){return c.then((function(){var c;return new ge((function(t,n){var a=e(r,s,[s]),i=r.timeout,o=new ge((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+i/1e3+" seconds to complete. "))}),i)}));ge.race([a,o]).then(t,n)})).catch((function(e){return clearTimeout(c),e=t(e),a(r,o,e),ge.reject(e)})).then((function(e){if(clearTimeout(c),!n(r,e))return i(r,o),ge.reject()}))}))}},ye=ge.resolve(),be=function(e,t,n){return function(a,i){return a.conditions&&a.conditions.forEach((function(t){ye=e(t,a,i,ye)})),a.actions&&a.actions.forEach((function(e){ye=t(e,a,i,ye)})),ye=(ye=ye.then((function(){n(a)}))).catch((function(){}))}},ke=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},Se=function(e,t,n,a){return function(i,r){var o;if(i.conditions)for(var s=0;s<i.conditions.length;s++){o=i.conditions[s];try{var c=e(o,r,[r]);if(ke(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(o,c))return n(o,i),!1}catch(e){return a(o,i,e),!1}}return!0}},Ie=function(e,t){return function(n,a){e(n,a)&&t(n,a)}},Ce=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},Ee=function(e){return function(t){var n=t.rule,a=t.event,i=e.getModuleDefinition(a.modulePath).name;return{$type:e.getModuleExtensionName(a.modulePath)+"."+i,$rule:{id:n.id,name:n.name}}}},Ae=function(e,t,n,a,i,r){return function(o,s){var c=s.rule,l=s.event;l.settings=l.settings||{};try{var d=i(s);t(l,null,[function(t){var a=n(d,t);o((function(){e(a,c)}))}])}catch(e){r.error(a(l,c,e))}}},Pe=function(e,t,n,a){return function(i,r,o){var s=t(i);n.error(e(s,r.name,o)),a("ruleActionFailed",{rule:r,action:i})}},Te=function(e,t,n,a){return function(i,r,o){var s=t(i);n.error(e(s,r.name,o)),a("ruleConditionFailed",{rule:r,condition:i})}},De=function(e,t,n){return function(a,i){var r=e(a);t.log('Condition "'+r+'" for rule "'+i.name+'" was not met.'),n("ruleConditionFailed",{rule:i,condition:a})}},we=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},Oe=function(e,t,n){return function(a,i){var r;if(a.actions)for(var o=0;o<a.actions.length;o++){r=a.actions[o];try{e(r,i,[i])}catch(e){return void t(r,a,e)}}n(a)}},Me=function(e,t,n,a){return function(i,r){a("ruleTriggered",{rule:r}),e?n(r,i):t(r,i)}},xe=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},Le=function(e,t){return t&&!e.negate||!t&&e.negate},Ne=[],Re=!1,je=function(e){Re?e():Ne.push(e)},Ve=function(e,t,n){e(t).forEach((function(e){n(je,e)})),Re=!0,Ne.forEach((function(e){e()})),Ne=[]},Fe=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Ue=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},Be=function(e){var t,n;return!1!==h(e)&&("function"==typeof(t=e.constructor)&&(!1!==h(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},He=function(e,t){return Be(t=t||{})?t=E({},t,e):E(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return z.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},qe=function(e,t){return function(n,a){var i=e[n];if(i){var r=i.modules;if(r)for(var o=Object.keys(r),s=0;s<o.length;s++){var c=o[s],l=r[c];if(l.shared&&l.name===a)return t.getModuleExports(c)}}}},Ge=function(e,t){return function(){return t?e(t):{}}},ze=function(e,t,n){return function(a){if(n){var i=a.split(".");i.splice(i.length-1||1,0,"min"),a=i.join(".")}return e(t)+a}},We=".js",Qe=function(e){return e.substr(0,e.lastIndexOf("/"))},Ye=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},Ke=function(e,t){Ye(t,We)||(t+=We);var n=t.split("/"),a=Qe(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?a.length&&a.pop():a.push(e))})),a.join("/")},Je=a((function(e){!function(t){if(e.exports=t(),!!0){var n=window.Cookies,a=window.Cookies=t();a.noConflict=function(){return window.Cookies=n,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(a){function i(){}function r(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},i.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=a.write?a.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in r)r[c]&&(s+="; "+c,!0!==r[c]&&(s+="="+r[c].split(";")[0]));return document.cookie=t+"="+n+s}}function o(e,n){if("undefined"!=typeof document){for(var i={},r=document.cookie?document.cookie.split("; "):[],o=0;o<r.length;o++){var s=r[o].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(a.read||a)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(i[l]=c,e===l)break}catch(e){}}return e?i[e]:i}}return i.set=r,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,n){r(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}return n((function(){}))}))})),$e={get:Je.get,set:Je.set,remove:Je.remove},Xe=function(e,t){return new ge((function(n,a){t.onload=function(){n(t)},t.onerror=function(){a(new Error("Failed to load script "+e))}}))},Ze=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Xe(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},et=function(e,t,n,a){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var r=/\+/g;e=e.split(t);var o=1e3;a&&"number"==typeof a.maxKeys&&(o=a.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var c=0;c<s;++c){var l,d,u,f,p=e[c].replace(r,"%20"),m=p.indexOf(n);m>=0?(l=p.substr(0,m),d=p.substr(m+1)):(l=p,d=""),u=decodeURIComponent(l),f=decodeURIComponent(d),g(i,u)?Array.isArray(i[u])?i[u].push(f):i[u]=[i[u],f]:i[u]=f}return i},tt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},nt=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var i=encodeURIComponent(tt(a))+n;return Array.isArray(e[a])?e[a].map((function(e){return i+encodeURIComponent(tt(e))})).join(t):i+encodeURIComponent(tt(e[a]))})).join(t):a?encodeURIComponent(tt(a))+n+encodeURIComponent(tt(e)):""},at=a((function(e,t){t.decode=t.parse=et,t.encode=t.stringify=nt})),it="@adobe/reactor-",rt={cookie:$e,document:b,"load-script":Ze,"object-assign":E,promise:ge,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),at.parse(e)},stringify:function(e){return at.stringify(e)}},window:A},ot=function(e){return function(t){if(0===t.indexOf(it)){var n=t.substr(it.length),a=rt[n];if(a)return a}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},st=function(e,t,n,a,i,r,o){var s=e.extensions,c=e.buildInfo,l=e.environment,d=e.property.settings;if(s){var u=qe(s,t);Object.keys(s).forEach((function(f){var p=s[f],m=p.settings;Array.isArray(p.filePaths)&&(m=r(m,p.filePaths));var h=Ge(a,m);if(p.modules){var g=z.createPrefixedLogger(p.displayName),v=ze(o,p.hostedLibFilesBaseUrl,c.minified),_={buildInfo:c,environment:l,property:{name:e.property.name,id:e.property.id},getDataElementValue:i,getExtensionSettings:h,getHostedLibFileUrl:v,getSharedModule:u,logger:g,propertySettings:d,replaceTokens:a,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(p.modules).forEach((function(e){var n=p.modules[e],a=ot((function(n){var a=Ke(e,n);return t.getModuleExports(a)}));t.registerModule(e,n,f,a,_)}))}})),t.hydrateCache()}return t},ct=function(e,t,n,a,i){var r=z.createPrefixedLogger("Custom Script");e.track=function(e){z.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=r,e.notify=function(e,t){switch(z.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:r.info(e);break;case 4:r.warn(e);break;case 5:r.error(e);break;default:r.log(e)}},e.getVar=a,e.setVar=i,e.setCookie=function(e,t,n){var a="",i={};n&&(a=", { expires: "+n+" }",i.expires=n);var r='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+a+").";z.deprecation(r),$e.set(e,t,i)},e.readCookie=function(e){return z.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),$e.get(e)},e.removeCookie=function(e){z.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),$e.remove(e)},e.cookie=$e,e.pageBottom=function(){},e.setDebug=n;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(z.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},lt=function(e,t){return function(n,a,i){return e&&Be(n)&&Object.keys(n).length&&Array.isArray(a)&&a.length?(a.forEach((function(e){Boolean(null!=i&&/^core\/.*actions.*\/customCode\.js$/.test(i))&&"source"===e&&!n.isExternal||y(e.split("."),n,t)})),n):n}},dt=window._satellite;if(dt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var ut=dt.container;delete dt.container;var ft=E({},ut.buildInfo);Object.defineProperty(ft,"environment",{get:function(){return z.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),ut.environment.stage}}),ut.buildInfo=ft;var pt,mt=w(Q("localStorage"),z),ht="";b.currentScript&&b.currentScript.getAttribute("src")&&(ht=b.currentScript.getAttribute("src"));try{pt=P(ht,Boolean(ut.company.dynamicCdnEnabled),ut.company.cdnAllowList,mt)}catch(e){throw z.warn("Please review the following error:"),e}var gt,vt=lt(pt.isDynamicEnforced,pt.decorateWithDynamicHost),_t=ce(),yt=ut.property.settings.undefinedVarsReturnEmpty,bt=ut.property.settings.ruleComponentSequencingEnabled,kt=ut.dataElements||{},St=function(e){return kt[e]},It=function(){return gt.apply(null,arguments)},Ct=ne(_t,St,It,yt,vt),Et={},At=fe(Et),Pt=oe(Et,St),Tt=re(Et,St,Ct);gt=ue(Pt,Tt,yt),ct(dt,ut,mt.setDebugEnabled,Tt,At),st(ut,_t,mt,gt,Ct,vt,pt.decorateWithDynamicHost);var Dt=de(dt),wt=M(_t,gt,vt),Ot=Ce(_t),Mt=De(Ot,z,Dt),xt=Te(xe,Ot,z,Dt),Lt=Pe(xe,Ot,z,Dt),Nt=we(z,Dt),Rt=Ae(Me(bt,Ie(Se(wt,Le,Mt,xt),Oe(wt,Lt,Nt)),be(_e(wt,Fe,Le,xt,Mt),ve(wt,Fe,Lt),Nt),Dt),wt,He,xe,Ee(_t),z);Ve(T,ut.rules||[],Rt)}return dt}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();